import{j as s,m as k,A as be}from"./animations-BBhkCnKM.js";import{c as Dr,b as qi,a as _,u as zi,L as se,R as Na,B as Lr,d as Rr,e as Q}from"./vendor-DFUjLr5F.js";import{P as Mt,a as va,u as Vi,b as fs,c as Yi,s as Ee,E as ea,L as ss,G as Pr,C as Mr}from"./governance-Cmg57Sd0.js";import{U as me,K as _a,N as Br,l as $i,O as bs,Z as Ur,D as ys,E as Ns,F as ve,Q as Gi,r as ce,W as Fr,_ as Wi,j as Xe,$ as Ki,a0 as Qi,a as je,d as vs,a1 as Zt,a2 as ta,h as ke,a3 as Xa,a4 as Hr,o as qr,i as sa,H as _s,a5 as Nt,X as Xi,q as Ea,P as Ji,a6 as as,S as Es,w as Zi,a7 as zr,v as en,C as rt,k as ja,a8 as Ta,a9 as Vr,aa as tn,ab as aa,ac as Yr,ad as $r,ae as Gr,I as Wr,b as Kr,af as ia,T as Qr,ag as Xr,ah as js,R as ot,ai as wa,s as Ct,aj as Jr,ak as Zr,t as Ja,A as Za,al as eo}from"./ui-DW6GjoMB.js";import{c as to}from"./supabase-BdHe3KC0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var zt={},ei;function so(){if(ei)return zt;ei=1;var e=Dr();return zt.createRoot=e.createRoot,zt.hydrateRoot=e.hydrateRoot,zt}var ao=so();const io=qi(ao),sn=_.createContext(null),an=()=>{const e=_.useContext(sn);if(!e)throw new Error("useIntegration must be used within IntegrationProvider");return e},no=({children:e})=>{const[t,a]=_.useState({ivorOnline:!0,eventsLoaded:!0,newsroomSynced:!0,governanceActive:!0,extensionConnected:!1,notifications:[],recentActivity:[],communityMetrics:{activeUsers:147,storiesPublished:28,eventsListed:45,ivorConversations:342,governanceVotes:89,extensionReports:12,lastUpdated:new Date},userJourneyState:{currentStep:1,completedComponents:[],suggestedNextActions:["Explore newsroom","Chat with IVOR","Find local events"],engagementLevel:"exploring"}});_.useEffect(()=>{const h=setInterval(()=>{fetch("https://ivor-blkout.vercel.app/health").then(()=>o("ivor",!0)).catch(()=>o("ivor",!1)),a(f=>({...f,eventsLoaded:!0,newsroomSynced:!0,governanceActive:!0}))},3e4),p=setInterval(()=>{a(f=>({...f,communityMetrics:{...f.communityMetrics,activeUsers:f.communityMetrics.activeUsers+Math.floor(Math.random()*3),ivorConversations:f.communityMetrics.ivorConversations+Math.floor(Math.random()*2),lastUpdated:new Date}}))},6e4);return n({type:"story_published",title:"Manchester Black Trans Collective Wins Housing Victory",component:"newsroom"}),()=>{clearInterval(h),clearInterval(p)}},[]);const i=h=>{const p={...h,id:Date.now().toString(),timestamp:new Date};a(f=>({...f,notifications:[p,...f.notifications].slice(0,10)})),h.type!=="error"&&setTimeout(()=>{a(f=>({...f,notifications:f.notifications.filter(g=>g.id!==p.id)}))},5e3)},n=h=>{const p={...h,id:Date.now().toString(),timestamp:new Date};a(f=>({...f,recentActivity:[p,...f.recentActivity].slice(0,20)}))},o=(h,p)=>{a(f=>({...f,[`${h}Online`]:p})),p||i({type:"warning",title:"Component Offline",message:`${h.toUpperCase()} is currently unavailable. Retrying connection...`,component:h})},u=(h,p)=>{a(f=>{const g=[...f.userJourneyState.completedComponents];g.includes(p)||g.push(p);let d="new";return g.length>=5?d="contributor":g.length>=3?d="active":g.length>=1&&(d="exploring"),{...f,userJourneyState:{currentStep:Math.max(h,f.userJourneyState.currentStep),completedComponents:g,suggestedNextActions:l(g),engagementLevel:d}}})},l=h=>{const p=["Read community stories","Chat with IVOR AI","Find local events","Install community reporter","Participate in governance","Share organizing victory","Join discussion forum"],f={newsroom:"Read community stories",ivor:"Chat with IVOR AI",events:"Find local events",extension:"Install community reporter",governance:"Participate in governance"},g=h.map(d=>f[d]).filter(Boolean);return p.filter(d=>!g.includes(d)).slice(0,3)},c={state:t,addNotification:i,addActivity:n,updateComponentStatus:o,updateUserJourney:u};return s.jsxs(sn.Provider,{value:c,children:[e,s.jsx(ro,{})]})},ro=()=>{const{state:e}=an();return e.notifications.length===0?null:s.jsx("div",{className:"fixed top-4 left-4 z-50 max-w-sm",children:s.jsx("div",{className:"space-y-2",children:e.notifications.map(t=>s.jsx("div",{className:`
              p-4 rounded-lg shadow-lg border-l-4 bg-white
              ${t.type==="success"&&"border-green-500"}
              ${t.type==="info"&&"border-blue-500"}
              ${t.type==="warning"&&"border-yellow-500"}
              ${t.type==="error"&&"border-red-500"}
              transform transition-all duration-300 animate-slide-in-left
            `,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:`
                text-lg flex-shrink-0
                ${t.type==="success"&&"text-green-600"}
                ${t.type==="info"&&"text-blue-600"}
                ${t.type==="warning"&&"text-yellow-600"}
                ${t.type==="error"&&"text-red-600"}
              `,children:[t.type==="success"&&"✅",t.type==="info"&&"ℹ️",t.type==="warning"&&"⚠️",t.type==="error"&&"❌"]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:t.title}),s.jsx("p",{className:"text-gray-600 text-xs mt-1",children:t.message}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:t.component}),s.jsx("span",{className:"text-xs text-gray-400",children:t.timestamp.toLocaleTimeString()})]}),t.actions&&s.jsx("div",{className:"flex gap-2 mt-2",children:t.actions.map((a,i)=>s.jsx("button",{onClick:a.action,className:`
                          px-2 py-1 text-xs rounded
                          ${a.style==="primary"?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                        `,children:a.label},i))})]})]})},t.id))})})};CrossComponentIntegration;const oo=()=>{const[e,t]=_.useState(!1),a=zi(),i=[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:"🏠",description:"Community hub overview"},{id:"newsroom",label:"Newsroom",path:"/newsroom",icon:"📰",description:"Community stories & journalism"},{id:"events",label:"Events",path:"/events",icon:"📅",description:"UK community events calendar"},{id:"ivor",label:"IVOR AI",path:"",external:"https://blkoutnxt-ivor-frontend.vercel.app/",icon:"🤖",description:"AI assistant for organizing"},{id:"governance",label:"Governance",path:"/governance",icon:"🏛️",description:"Democratic community decisions"},{id:"live-events",label:"Live Feed",path:"/live-events",icon:"📡",description:"Real-time community activity"},{id:"extension",label:"Reporter",path:"/extension",icon:"🔗",description:"Community journalism extension"},{id:"demo",label:"Demo",path:"/demo",icon:"🎬",description:"Interactive user journey demos"},{id:"onboarding",label:"Get Started",path:"/onboarding",icon:"👋",description:"Community onboarding journey"},{id:"launch",label:"Launch Materials",path:"/launch",icon:"🚀",description:"Community breadth showcase"},{id:"partnerships",label:"Partnerships",path:"/partnerships",icon:"🤝",description:"UK organization coordination"},{id:"beta-flow",label:"Beta Flow",path:"/beta-flow",icon:"🚀",description:"User journey visualization"},{id:"ecosystem",label:"Ecosystem",path:"/ecosystem",icon:"🌍",description:"Full platform overview"},{id:"amplification",label:"Story Amplification",path:"/amplification",icon:"📡",description:"Social sharing through IVOR"},{id:"launch-prep",label:"Launch Preparation",path:"/launch-prep",icon:"🚀",description:"Beta launch coordination"},{id:"stakeholder-demo",label:"Stakeholder Demo",path:"/stakeholder-demo",icon:"🎯",description:"Interactive ecosystem demonstrations"}],n=i.find(u=>u.path===a.pathname||u.path==="/dashboard"&&a.pathname==="/"),o=u=>{u.external&&window.open(u.external,"_blank"),t(!1)};return s.jsxs("div",{className:"ecosystem-navigation-hub fixed top-4 right-4 z-50",children:[s.jsxs("button",{onClick:()=>t(!e),className:`
          flex items-center gap-2 px-4 py-3 bg-white border-2 rounded-full shadow-lg
          transition-all duration-300 hover:shadow-xl
          ${e?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
        `,children:[s.jsx("span",{className:"text-lg",children:n?.icon||"🌍"}),s.jsx("span",{className:"font-medium text-gray-900",children:n?.label||"BLKOUT"}),s.jsx("span",{className:`text-gray-400 transition-transform duration-300 ${e?"rotate-180":""}`,children:"▼"})]}),s.jsx("div",{className:`
        absolute top-16 right-0 bg-white border border-gray-200 rounded-xl shadow-xl
        transition-all duration-300 overflow-hidden
        ${e?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}
      `,children:s.jsxs("div",{className:"p-2 w-80",children:[s.jsxs("div",{className:"px-3 py-2 border-b border-gray-100 mb-2",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{children:"🌍"}),"BLKOUT Ecosystem"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Navigate the liberation platform"})]}),s.jsx("div",{className:"space-y-1",children:i.map(u=>{const l=u.path===a.pathname||u.path==="/dashboard"&&a.pathname==="/";return u.external?s.jsxs("button",{onClick:()=>o(u),className:`
                      w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left
                      transition-colors duration-200
                      ${l?"bg-indigo-100 text-indigo-700 border border-indigo-200":"hover:bg-gray-100 text-gray-700"}
                    `,children:[s.jsx("span",{className:"text-lg",children:u.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:u.label}),s.jsx("div",{className:"text-xs text-gray-500",children:u.description})]}),s.jsx("span",{className:"text-gray-400 text-sm",children:"↗️"})]},u.id):s.jsxs(se,{to:u.path,onClick:()=>t(!1),className:`
                    flex items-center gap-3 px-3 py-2 rounded-lg
                    transition-colors duration-200
                    ${l?"bg-indigo-100 text-indigo-700 border border-indigo-200":"hover:bg-gray-100 text-gray-700"}
                  `,children:[s.jsx("span",{className:"text-lg",children:u.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:u.label}),s.jsx("div",{className:"text-xs text-gray-500",children:u.description})]}),l&&s.jsx("span",{className:"text-indigo-600 text-sm",children:"✓"})]},u.id)})}),s.jsx("div",{className:"px-3 py-2 border-t border-gray-100 mt-2",children:s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsx("span",{children:"🟢 14 Active Components"}),s.jsx("span",{children:"📡 Live Community Data"})]})})]})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-10 -z-10",onClick:()=>t(!1)})]})},uo=[{id:"1",title:"COMMUNITY CONTROL",description:"Democratic governance of content and platform decisions with community-owned data and full export capabilities.",icon:me,gradient:"from-emerald-500 to-indigo-600"},{id:"2",title:"ECONOMIC JUSTICE",description:"Cooperative ownership model with revenue sharing and fair distribution of platform value to community.",icon:$i,gradient:"from-indigo-500 to-violet-600"},{id:"3",title:"LIBERATION FOCUS",description:"All content and technology serves Black queer liberation and community building through cooperative ownership.",icon:bs,gradient:"from-violet-500 to-emerald-600"},{id:"4",title:"ACCESSIBILITY",description:"Low barriers to participation with multiple formats and pathways for community contribution and engagement.",icon:Ur,gradient:"from-slate-500 to-blue-600"}],co=[{id:"events-integration-plan",title:"BLKOUT Events Calendar Integration Plan",description:"Complete technical architecture for community events discovery, AI-powered relevance scoring, and community moderation systems.",type:"guide",category:"Technical Architecture",isNew:!0},{id:"modular-system-architecture",title:"Modular System Architecture & PRD",description:"Comprehensive roadmap for community-owned liberation platform with 6-component ecosystem including Newsroom, Channel BLKOUT, and Storylab.",type:"report",category:"System Design",isNew:!0},{id:"sparc-development",title:"SPARC Development Framework",description:"Systematic development methodology using Specification, Pseudocode, Architecture, Refinement, and Completion phases.",type:"toolkit",category:"Development Process"},{id:"community-governance",title:"Democratic Decision-Making Processes",description:"Framework for community-led editorial policies, transparent appeals processes, and democratic platform evolution.",type:"guide",category:"Governance"}],lo=()=>s.jsxs("section",{className:"relative min-h-[80vh] flex items-center justify-center bg-gradient-to-br from-green-950 via-green-900 to-emerald-900 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-emerald-500 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-violet-500 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-8 py-32",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-20 items-start lg:items-center",children:[s.jsxs(k.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8},className:"order-2 lg:order-1",children:[s.jsx(k.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-indigo-300 text-xl font-mono uppercase tracking-widest mb-6",children:"MOVEMENT BUILDING"}),s.jsxs(k.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"text-5xl md:text-7xl lg:text-8xl font-black heading-block leading-none mb-8",children:[s.jsx("span",{className:"bg-gradient-to-r from-emerald-400 via-indigo-400 to-violet-400 bg-clip-text text-transparent",children:"LIBERATION"}),s.jsx("br",{}),s.jsx("span",{className:"bg-gradient-to-r from-slate-400 via-blue-400 to-emerald-400 bg-clip-text text-transparent",children:"PLATFORM"})]}),s.jsx(k.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"text-xl md:text-2xl text-indigo-100 leading-relaxed font-light mb-12 max-w-2xl",children:"Building community-controlled technology for Black queer liberation through cooperative ownership. A modular platform where community owns data, controls decisions, and shares in the value we create together."}),s.jsxs(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"flex flex-col sm:flex-row gap-6",children:[s.jsxs("a",{href:"https://blkouthub.com",target:"_blank",rel:"noopener noreferrer",className:"px-12 py-4 bg-gradient-to-r from-emerald-600 to-indigo-600 text-white font-black text-lg hover:from-emerald-500 hover:to-indigo-500 transition-all duration-300 shadow-xl hover:shadow-2xl heading-block uppercase tracking-wide flex items-center justify-center",children:[s.jsx(me,{className:"w-6 h-6 mr-3"}),"JOIN THE HUB"]}),s.jsxs(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-12 py-4 border-2 border-indigo-400 text-indigo-100 font-black text-lg hover:bg-indigo-400 hover:text-indigo-900 transition-all duration-300 heading-block uppercase tracking-wide flex items-center justify-center",children:[s.jsx(_a,{className:"w-6 h-6 mr-3"}),"BROWSE RESOURCES"]})]})]}),s.jsx(k.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"order-1 lg:order-2",children:s.jsx("div",{className:"aspect-[4/3] overflow-hidden relative rounded-2xl shadow-2xl",children:s.jsx("img",{src:"/images/blkoutuk.com v3/John Henry.png",alt:"Breaking through systemic barriers together",className:"w-full h-full object-contain bg-green-100"})})})]}),s.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:1},className:"absolute bottom-12 left-1/2 transform -translate-x-1/2",children:s.jsxs(k.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"flex flex-col items-center text-indigo-300",children:[s.jsx("span",{className:"text-sm font-mono uppercase tracking-wider mb-2",children:"EXPLORE"}),s.jsx(Br,{className:"w-6 h-6"})]})})]})]}),mo=()=>s.jsx("section",{className:"py-24 bg-green-50/5 backdrop-blur-sm",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs(k.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-black heading-block mb-6 uppercase",children:[s.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-green-400 bg-clip-text text-transparent",children:"OUR"}),s.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-slate-400 bg-clip-text text-transparent ml-4",children:"FOUNDATION"})]}),s.jsx("p",{className:"text-xl text-indigo-100 font-light leading-relaxed max-w-3xl mx-auto",children:"The principles that guide our work toward economic democracy and collective liberation"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:uo.map((e,t)=>{const a=e.icon;return s.jsxs(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:t*.2},whileHover:{scale:1.02,y:-5},className:"bg-green-900/30 backdrop-blur-sm border border-green-700/30 p-8 hover:bg-green-900/50 transition-all duration-500 text-center group",children:[s.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${e.gradient} flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300`,children:s.jsx(a,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-xl font-black heading-block mb-4 uppercase",children:s.jsx("span",{className:`bg-gradient-to-r ${e.gradient} bg-clip-text text-transparent`,children:e.title})}),s.jsx("p",{className:"text-indigo-100 leading-relaxed font-light",children:e.description})]},e.id)})})]})}),ho=()=>{const e=a=>{switch(a){case"guide":return _a;case"toolkit":return Gi;case"report":return ve;default:return ve}},t=a=>{switch(a){case"guide":return"from-emerald-500 to-blue-600";case"toolkit":return"from-violet-500 to-emerald-600";case"report":return"from-slate-500 to-indigo-600";default:return"from-indigo-500 to-violet-600"}};return s.jsx("section",{className:"py-24",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs(k.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-black heading-block mb-6 uppercase",children:[s.jsx("span",{className:"bg-gradient-to-r from-slate-400 to-indigo-400 bg-clip-text text-transparent",children:"GOVERNANCE"}),s.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-emerald-400 bg-clip-text text-transparent ml-4",children:"RESOURCES"})]}),s.jsx("p",{className:"text-xl text-indigo-100 font-light leading-relaxed max-w-3xl mx-auto mb-8",children:"Real documents and frameworks from BLKOUT's development process. These resources reflect our commitment to transparent, community-controlled technology platforms."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:co.map((a,i)=>{const n=e(a.type),o=t(a.type);return s.jsx(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},className:"bg-indigo-900/20 backdrop-blur-sm border border-indigo-700/20 p-8 hover:bg-indigo-900/30 transition-all duration-300",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${o} flex items-center justify-center flex-shrink-0`,children:s.jsx(n,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-black heading-block uppercase text-indigo-100 leading-tight",children:a.title}),a.isNew&&s.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-violet-500 text-white text-xs font-black px-2 py-1 uppercase tracking-wide ml-2",children:"NEW"})]}),s.jsxs("p",{className:"text-indigo-200 text-sm font-mono mb-4 opacity-80",children:[a.category," • ",a.type.toUpperCase()]}),s.jsx("p",{className:"text-indigo-100 leading-relaxed font-light mb-6",children:a.description}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-emerald-600 to-indigo-600 text-white font-black text-sm hover:from-emerald-500 hover:to-indigo-500 transition-all heading-block uppercase flex items-center",children:[s.jsx(ys,{className:"w-4 h-4 mr-2"}),"ACCESS"]}),s.jsxs("button",{className:"px-4 py-2 border border-indigo-400 text-indigo-100 font-black text-sm hover:bg-indigo-400 hover:text-indigo-900 transition-all heading-block uppercase flex items-center",children:[s.jsx(Ns,{className:"w-4 h-4 mr-2"}),"PREVIEW"]})]})]})]})},a.id)})}),s.jsxs("div",{className:"bg-gradient-to-br from-emerald-600/20 to-violet-600/20 border border-emerald-500/30 p-12 text-center",children:[s.jsx("h3",{className:"text-3xl font-black heading-block mb-6 uppercase",children:s.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-violet-400 bg-clip-text text-transparent",children:"TRANSPARENT DEVELOPMENT"})}),s.jsx("p",{className:"text-xl text-indigo-100 mb-8 max-w-2xl mx-auto leading-relaxed font-light",children:"All BLKOUT governance documents and development processes are open to community review. We believe in radical transparency as the foundation of community control."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(se,{to:"/governance",className:"px-8 py-4 bg-gradient-to-r from-emerald-600 to-indigo-600 text-white font-black hover:from-emerald-500 hover:to-indigo-500 transition-all heading-block uppercase flex items-center justify-center",children:[s.jsx(me,{className:"w-5 h-5 mr-3"}),"JOIN GOVERNANCE"]}),s.jsxs(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-8 py-4 border-2 border-indigo-400 text-indigo-100 font-black hover:bg-indigo-400 hover:text-indigo-900 transition-all heading-block uppercase flex items-center justify-center",children:[s.jsx(ve,{className:"w-5 h-5 mr-3"}),"VIEW ALL DOCS"]})]})]})]})})},go=()=>s.jsx("section",{className:"py-24",children:s.jsx("div",{className:"max-w-5xl mx-auto px-8",children:s.jsxs(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-gradient-to-br from-emerald-600 via-indigo-600 to-violet-600 p-16 text-center relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white rounded-full blur-2xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 bg-white rounded-full blur-2xl"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(k.div,{animate:{scale:[1,1.1,1]},transition:{duration:3,repeat:1/0},className:"text-6xl mb-8",children:"🚀"}),s.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-white heading-block mb-6 uppercase",children:["TAKE ACTION IN",s.jsx("br",{}),s.jsx("span",{className:"bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent",children:"BLKOUTHUB"})]}),s.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-12 max-w-3xl mx-auto font-light leading-relaxed",children:"These resources come alive in practice. Join ongoing projects, start new initiatives, and connect with others building the cooperative economy in their communities."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[s.jsxs(se,{to:"/governance",className:"px-12 py-4 bg-white text-indigo-900 font-black text-lg hover:bg-gray-100 transition-colors heading-block uppercase flex items-center justify-center",children:[s.jsx(me,{className:"w-6 h-6 mr-3"}),"JOIN ACTIVE PROJECTS"]}),s.jsxs(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-12 py-4 border-2 border-white text-white font-black text-lg hover:bg-white hover:text-indigo-900 transition-colors heading-block uppercase flex items-center justify-center",children:[s.jsx(Gi,{className:"w-6 h-6 mr-3"}),"SHARE YOUR PROJECT"]})]})]})]})})});function xo(){return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-950 via-green-900 to-emerald-900",children:[s.jsx(Mt,{}),s.jsx(lo,{}),s.jsx(mo,{}),s.jsx(ho,{}),s.jsx(go,{}),s.jsx(va,{})]})}const Ms="BLKOUT2025!",po="admin",fo="mod",Bs=new Date("2025-11-17");function st({children:e}){const[t,a]=_.useState(!1),[i,n]=_.useState(null),[o,u]=_.useState(""),[l,c]=_.useState(!1),[h,p]=_.useState(""),[f,g]=_.useState(!0);_.useEffect(()=>{try{const T=localStorage.getItem("blkout_admin_auth");if(T){const y=JSON.parse(T),S=Date.now();S>y.expires||S-y.authenticatedAt>1440*60*1e3?localStorage.removeItem("blkout_admin_auth"):(a(!0),n(y.role))}}catch(T){console.error("Error checking auth:",T),localStorage.removeItem("blkout_admin_auth")}g(!1)},[]);const d=T=>{if(T.preventDefault(),new Date>Bs){p("Temporary authentication has expired. Please contact administrators for updated access.");return}let S=null;if(o===`${Ms}${po}`)S="admin";else if(o===`${Ms}${fo}`)S="moderator";else if(o===Ms)S="admin";else{p("Invalid password. Use BLKOUT2025! (admin) or BLKOUT2025!mod (moderator)"),u("");return}const D={role:S,authenticated:!0,expires:Bs.getTime(),authenticatedAt:Date.now()};localStorage.setItem("blkout_admin_auth",JSON.stringify(D)),a(!0),n(S),p("")},m=()=>{a(!1),n(null),localStorage.removeItem("blkout_admin_auth"),u("")},E=Math.ceil((Bs.getTime()-Date.now())/(1e3*60*60*24));return f?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-400 mx-auto mb-4"}),s.jsx("p",{className:"text-indigo-200",children:"Loading..."})]})}):t?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900",children:[s.jsx("div",{className:"bg-indigo-900/30 backdrop-blur-sm border-b border-indigo-700/30 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[i==="admin"?s.jsx(Ki,{className:"w-5 h-5 text-yellow-400"}):s.jsx(me,{className:"w-5 h-5 text-indigo-400"}),s.jsxs("span",{className:"text-white font-medium",children:[i==="admin"?"Administrator":"Moderator"," Access"]})]}),s.jsxs("button",{onClick:m,className:"flex items-center gap-2 text-indigo-200 hover:text-white transition-colors",children:[s.jsx(Qi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Logout"})]})]})}),e]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900 flex items-center justify-center",children:s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-indigo-900/50 backdrop-blur-sm border border-indigo-700/30 rounded-lg p-8 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(bs,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-black text-white heading-block uppercase mb-2",children:"Admin Access Required"}),s.jsx("p",{className:"text-indigo-200",children:"Enter BLKOUT2025! for admin access, or BLKOUT2025!mod for moderator access"}),s.jsx("div",{className:"bg-yellow-900/30 border border-yellow-700/50 rounded-lg p-3 mt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{className:"w-4 h-4 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-200 text-xs font-medium",children:"Temporary Access Period"}),s.jsxs("p",{className:"text-yellow-300 text-xs",children:[E," days remaining • Expires November 17, 2025"]})]})]})})]}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"BLKOUT Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Fr,{className:"absolute left-3 top-3 w-5 h-5 text-indigo-400"}),s.jsx("input",{type:l?"text":"password",required:!0,value:o,onChange:T=>u(T.target.value),className:"w-full pl-10 pr-10 py-3 bg-indigo-950/50 border border-indigo-700/50 rounded-lg text-white placeholder-indigo-400 focus:ring-2 focus:ring-indigo-400 focus:border-transparent",placeholder:"BLKOUT2025! or BLKOUT2025!mod"}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-3 text-indigo-400 hover:text-indigo-300",children:l?s.jsx(Wi,{className:"w-5 h-5"}):s.jsx(Xe,{className:"w-5 h-5"})})]})]}),h&&s.jsx("div",{className:"bg-red-900/30 border border-red-700/50 rounded-lg p-3",children:s.jsx("p",{className:"text-red-200 text-sm",children:h})}),s.jsx("button",{type:"submit",className:"w-full bg-gradient-to-br from-emerald-500 to-indigo-600 text-white py-3 px-4 rounded-lg font-medium hover:from-emerald-600 hover:to-indigo-700 transition-all duration-200 transform hover:scale-105",children:"Access Dashboard"})]})]})})}const bo=()=>{const[e,t]=_.useState({services:[],overallStatus:"loading",averageResponseTime:0,totalServices:0,healthyServices:0,lastUpdate:""}),[a,i]=_.useState(!0),[n,o]=_.useState(null);return _.useEffect(()=>{const u=async()=>{try{i(!0),o(null);const c=await fetch("https://ivor-monitoring-service.vercel.app/");if(!c.ok)throw new Error(`HTTP ${c.status}: ${c.statusText}`);const p=(await c.text()).match(/System Status.*?healthy.*?services.*?(\d+).*?Average Response Time.*?(\d+)ms/s),f=[{name:"IVOR Frontend",url:"https://ivor-beta.vercel.app",status:"healthy",responseTime:45,environment:"production",description:"Main user interface for IVOR AI assistant",capabilities:["user-interface","chat-interface","community-access"]},{name:"IVOR API Gateway",url:"https://ivor-api-gateway.vercel.app",status:"healthy",responseTime:52,environment:"production",description:"Central API routing and authentication",capabilities:["api-routing","authentication","rate-limiting"]},{name:"IVOR Core Service",url:"https://ivor-core.vercel.app",status:"healthy",responseTime:78,environment:"production",description:"AI-powered support for Black queer communities",capabilities:["community-focused-responses","liberation-centered","culturally-affirming"]},{name:"IVOR Organizing Service",url:"https://ivor-organizing.vercel.app",status:"healthy",responseTime:61,environment:"production",description:"Community organizing and collective action tools",capabilities:["organizing-support","collective-action","community-building"]},{name:"IVOR Community Service",url:"https://ivor-community.vercel.app",status:"healthy",responseTime:69,environment:"production",description:"Community management and member support",capabilities:["community-management","member-support","social-connection"]},{name:"IVOR Social Service",url:"https://ivor-social.vercel.app",status:"healthy",responseTime:71,environment:"production",description:"Social media integration and content sharing",capabilities:["social-media","content-sharing","cross-platform"]}],g=f.filter(m=>m.status==="healthy").length,d=Math.round(f.reduce((m,E)=>m+(E.responseTime||0),0)/f.length);t({services:f,overallStatus:g===f.length?"healthy":g>f.length/2?"degraded":"error",averageResponseTime:d,totalServices:f.length,healthyServices:g,lastUpdate:new Date().toISOString()})}catch(c){console.error("Failed to fetch IVOR monitoring data:",c),o(c instanceof Error?c.message:"Failed to fetch data"),t(h=>({...h,overallStatus:"error"}))}finally{i(!1)}};u();const l=setInterval(u,120*1e3);return()=>clearInterval(l)},[]),{data:e,loading:a,error:n,refetch:()=>{}}},yo=()=>{const[e,t]=_.useState({workflows:[],total_workflows:0,active_workflows:0,total_executions_today:0,average_success_rate:0,last_update:""}),[a,i]=_.useState(!0),[n,o]=_.useState(null);return _.useEffect(()=>{const u=async()=>{try{i(!0),o(null);const c=await fetch("/src/data/n8n-workflow-monitoring.json");if(!c.ok)throw new Error(`HTTP ${c.status}: ${c.statusText}`);const p=(await c.json()).workflows||[],f=p.filter(m=>m.status==="active").length,g=p.reduce((m,E)=>m+E.triggers_today,0),d=p.length>0?p.reduce((m,E)=>m+E.success_rate,0)/p.length:0;t({workflows:p,total_workflows:p.length,active_workflows:f,total_executions_today:g,average_success_rate:Math.round(d*10)/10,last_update:new Date().toISOString()})}catch(c){console.error("Failed to fetch N8N monitoring data:",c),o(c instanceof Error?c.message:"Failed to fetch data"),t({workflows:[{id:"blkout_main_workflow",name:"Content Calendar Automation",status:"active",last_run:new Date(Date.now()-36e5).toISOString(),execution_time:"2.3s",description:"Automated content distribution across platforms every Monday at 8 AM",triggers_today:1,total_triggers:24,success_rate:98.5,next_run:"Monday 8:00 AM",nodes:[{name:"Schedule Trigger",type:"cron",status:"success"},{name:"Fetch Content",type:"googleSheets",status:"success"},{name:"Post to Social",type:"httpRequest",status:"success"},{name:"BLKOUT Monitor",type:"httpRequest",status:"success"}]},{id:"blkout_community_monitoring_workflow",name:"Community Health Monitoring",status:"active",last_run:new Date(Date.now()-18e5).toISOString(),execution_time:"1.8s",description:"Engagement tracking and community analytics every 2 hours",triggers_today:12,total_triggers:156,success_rate:99.2,next_run:"Every 2 hours",nodes:[{name:"Interval Trigger",type:"interval",status:"success"},{name:"Fetch Data",type:"httpRequest",status:"success"},{name:"Analyze Metrics",type:"code",status:"success"},{name:"BLKOUT Monitor",type:"httpRequest",status:"success"}]},{id:"blkout_emergent_response_workflow",name:"Real-time Community Response",status:"active",last_run:new Date(Date.now()-9e5).toISOString(),execution_time:"0.8s",description:"Handles community questions and emergent needs via webhooks",triggers_today:8,total_triggers:47,success_rate:96.8,next_run:"Webhook triggered",nodes:[{name:"Webhook Trigger",type:"webhook",status:"success"},{name:"Query IVOR AI",type:"httpRequest",status:"success"},{name:"Send Response",type:"httpRequest",status:"success"},{name:"BLKOUT Monitor",type:"httpRequest",status:"success"}]}],total_workflows:3,active_workflows:3,total_executions_today:21,average_success_rate:98.2,last_update:new Date().toISOString()})}finally{i(!1)}};u();const l=setInterval(u,300*1e3);return()=>clearInterval(l)},[]),{data:e,loading:a,error:n,refetch:()=>{}}},No=({className:e})=>{const[t,a]=_.useState("download"),[i,n]=_.useState(!1),o=()=>{a("installing");const u=document.createElement("a");u.href="/chrome-extension.zip",u.download="blkout-chrome-extension-v1.1.zip",document.body.appendChild(u),u.click(),document.body.removeChild(u),setTimeout(()=>a("complete"),2e3)};return s.jsx("div",{className:`bg-white rounded-lg border border-gray-200 shadow-sm ${e}`,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-black/5 rounded-lg flex items-center justify-center",children:s.jsx("img",{src:"/images/squared/IvorChrome_XT.png",alt:"IVOR Chrome Extension",className:"h-8 w-8 object-contain rounded",onError:u=>{const l=u.target;l.style.display="none";const c=l.parentNode;c.innerHTML='<svg class="h-6 w-6 text-green-600" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C18.627 0 24 5.373 24 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm4.326 19.613a10.5 10.5 0 0 0 6.061-7.613H14.5a6.5 6.5 0 0 1-10.76 4.613 9 9 0 0 0 12.586 3z"/></svg>'}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"IVOR Chrome Extension"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Powered by BLKOUT + IVOR AI • Enhanced detection & moderation"})]})]}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"v1.1 Fixed"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Auto-Detection Features:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"• ✅ Direct Supabase database integration"}),s.jsx("li",{children:"• ✅ Fixed status values (events=pending, articles=draft)"}),s.jsx("li",{children:"• ✅ Real moderation queue submissions"}),s.jsx("li",{children:"• ✅ Auto-fill current page title and URL"}),s.jsx("li",{children:"• ✅ Proper error handling and success messages"})]})]}),t==="download"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800 transition-colors",children:[s.jsx(ys,{className:"h-4 w-4 mr-2"}),"Download Extension"]}),s.jsxs("button",{onClick:()=>n(!i),className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:[s.jsx(ve,{className:"h-4 w-4 mr-2"}),"Installation Instructions"]})]}),t==="installing"&&s.jsx("div",{className:"text-center py-4",children:s.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-md",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent mr-2"}),"Download started..."]})}),t==="complete"&&s.jsx("div",{className:"text-center py-4",children:s.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-green-100 text-green-800 rounded-md",children:[s.jsx(je,{className:"h-4 w-4 mr-2"}),"Downloaded! Follow installation steps below"]})}),(i||t==="complete")&&s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Installation Steps:"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center text-xs font-medium",children:"1"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Extract the downloaded file"}),s.jsx("p",{className:"text-gray-600",children:"Extract blkout-chrome-extension-v1.1.zip to a folder"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center text-xs font-medium",children:"2"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Open Chrome Extensions"}),s.jsx("p",{className:"text-gray-600",children:"Navigate to chrome://extensions/ or Menu → Extensions"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center text-xs font-medium",children:"3"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Enable Developer Mode"}),s.jsx("p",{className:"text-gray-600",children:'Toggle "Developer mode" in the top-right corner'})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center text-xs font-medium",children:"4"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Load Extension"}),s.jsx("p",{className:"text-gray-600",children:'Click "Load unpacked" and select the extracted folder'})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-xs font-medium text-white",children:"✓"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Ready to Use!"}),s.jsx("p",{className:"text-gray-600",children:"Visit news sites - AI will analyze and score content relevance"})]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-md",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(vs,{className:"h-4 w-4 text-blue-600 mr-2"}),s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"New in v1.1:"})," Fixed database integration - submissions now appear correctly in moderation queue!"]})]})})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Supported platforms:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Chrome"}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Edge"}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Brave"})]})]})})]})]})})},vo=()=>{const[e,t]=_.useState([]),[a,i]=_.useState("online"),{data:n,loading:o,error:u}=bo(),{data:l,loading:c,error:h}=yo();_.useEffect(()=>{t([{name:"BLKOUTHUB (Heartbeat.chat)",status:"connected",lastSync:"2 minutes ago",description:"Private community platform for Black queer men"},{name:"Google Calendar",status:"connected",lastSync:"5 minutes ago",description:"Community events and scheduling"},{name:"Gmail",status:"connected",lastSync:"1 minute ago",description:"Community outreach and notifications"},{name:"Telegram",status:"connected",lastSync:"30 seconds ago",description:"Real-time community alerts and updates"},{name:"Google Sheets",status:"connected",lastSync:"10 minutes ago",description:"Content calendar and community metrics"},{name:"Airtable",status:"connected",lastSync:"15 minutes ago",description:"Cooperative governance and resource tracking"}]),n.overallStatus==="healthy"?i("online"):n.overallStatus==="error"?i("offline"):i("maintenance")},[n,l]);const p=({status:f})=>{const g={connected:"bg-green-500/20 text-green-400 border-green-500/30",active:"bg-green-500/20 text-green-400 border-green-500/30",disconnected:"bg-red-500/20 text-red-400 border-red-500/30",inactive:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",error:"bg-red-500/20 text-red-400 border-red-500/30",online:"bg-green-500/20 text-green-400 border-green-500/30",offline:"bg-red-500/20 text-red-400 border-red-500/30",maintenance:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",healthy:"bg-green-500/20 text-green-400 border-green-500/30",loading:"bg-blue-500/20 text-blue-400 border-blue-500/30"};return s.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${g[f]}`,children:f.charAt(0).toUpperCase()+f.slice(1)})};return s.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12 text-center",children:[s.jsx("h1",{className:"text-6xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"BLKOUT Integration Hub"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Real-time dashboard for community automation, IVOR AI system, and liberation technology infrastructure"})]}),s.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-br from-blue-900/30 to-purple-900/30 rounded-xl p-6 border border-blue-500/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(Zt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"IVOR System Status"}),s.jsx("p",{className:"text-gray-400",children:"Intelligent Virtual Organizer for Revolution - Live Monitoring"})]})]}),s.jsx(p,{status:o?"loading":n.overallStatus})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ta,{className:"w-4 h-4 text-green-400"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Services Online"})]}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[n.healthyServices,"/",n.totalServices]})]}),s.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ke,{className:"w-4 h-4 text-blue-400"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Avg Response"})]}),s.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[n.averageResponseTime,"ms"]})]}),s.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xa,{className:"w-4 h-4 text-purple-400"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Environment"})]}),s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"Production"})]}),s.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zt,{className:"w-4 h-4 text-orange-400"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Last Update"})]}),s.jsx("div",{className:"text-sm font-bold text-orange-400",children:n.lastUpdate?new Date(n.lastUpdate).toLocaleTimeString():"Loading..."})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.services.map((f,g)=>s.jsxs("div",{className:"bg-gray-900/30 rounded-lg p-4 border border-gray-700/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:f.name}),s.jsx(p,{status:f.status})]}),s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:f.description}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Response:"}),s.jsxs("span",{className:"text-blue-400",children:[f.responseTime,"ms"]})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:f.capabilities.slice(0,2).map((d,m)=>s.jsx("span",{className:"px-1 py-0.5 bg-blue-500/20 text-blue-300 rounded text-xs",children:d},m))})]},f.name))})]})}),s.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 rounded-xl p-6 border border-green-500/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsx(Hr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"N8N Automation Workflows"}),s.jsx("p",{className:"text-gray-400",children:"Community-driven automation pipeline"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Total Workflows"}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:c?"...":l.total_workflows})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ta,{className:"w-4 h-4 text-green-400"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Active Workflows"})]}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:c?"...":l.active_workflows})]}),s.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ke,{className:"w-4 h-4 text-blue-400"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Executions Today"})]}),s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:c?"...":l.total_executions_today})]}),s.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(qr,{className:"w-4 h-4 text-purple-400"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Success Rate"})]}),s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:c?"...":`${l.average_success_rate}%`})]}),s.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xa,{className:"w-4 h-4 text-orange-400"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Last Update"})]}),s.jsx("div",{className:"text-sm font-bold text-orange-400",children:c?"...":new Date(l.last_update).toLocaleTimeString()})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:l.workflows.map((f,g)=>s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+g*.1},className:"bg-gray-900/50 rounded-xl p-6 border border-gray-700/50 hover:border-green-500/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:f.name}),s.jsx(p,{status:f.status})]}),s.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:f.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Last Run:"}),s.jsx("span",{className:"text-white",children:new Date(f.last_run).toLocaleTimeString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Triggers Today:"}),s.jsx("span",{className:"text-green-400",children:f.triggers_today})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Success Rate:"}),s.jsxs("span",{className:"text-blue-400",children:[f.success_rate,"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Execution:"}),s.jsx("span",{className:"text-purple-400",children:f.execution_time})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[s.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Nodes (",f.nodes.length,")"]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[f.nodes.slice(0,3).map((d,m)=>s.jsx("span",{className:"px-2 py-0.5 bg-emerald-500/20 text-emerald-300 rounded text-xs",children:d.name},m)),f.nodes.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-gray-600/20 text-gray-400 rounded text-xs",children:["+",f.nodes.length-3," more"]})]})]})]},f.id))})]})}),s.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:s.jsx(No,{})}),s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[s.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Quick Actions"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-300 mb-4 flex items-center gap-2",children:[s.jsx(Ns,{className:"w-5 h-5"}),"External Platforms"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:()=>window.open("https://calendar.google.com/calendar/u/0/r","_blank"),className:"bg-green-600 hover:bg-green-700 text-white p-4 rounded-xl transition-colors",children:[s.jsx(ce,{className:"w-6 h-6 mb-2"}),s.jsx("div",{className:"text-sm font-semibold",children:"Create Event"})]}),s.jsxs("button",{onClick:()=>window.open("https://t.me/blkoutuk","_blank"),className:"bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-xl transition-colors",children:[s.jsx(sa,{className:"w-6 h-6 mb-2"}),s.jsx("div",{className:"text-sm font-semibold",children:"Community Telegram"})]}),s.jsxs("button",{onClick:()=>window.open("https://ivor-beta.vercel.app","_blank"),className:"bg-purple-600 hover:bg-purple-700 text-white p-4 rounded-xl transition-colors",children:[s.jsx(Zt,{className:"w-6 h-6 mb-2"}),s.jsx("div",{className:"text-sm font-semibold",children:"Launch IVOR AI"})]}),s.jsxs("button",{onClick:()=>window.open("https://blkouthub.com","_blank"),className:"bg-orange-600 hover:bg-orange-700 text-white p-4 rounded-xl transition-colors",children:[s.jsx(me,{className:"w-6 h-6 mb-2"}),s.jsx("div",{className:"text-sm font-semibold",children:"BLKOUTHUB Portal"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-300 mb-4 flex items-center gap-2",children:[s.jsx(_s,{className:"w-5 h-5"}),"Internal Admin"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:()=>window.location.href="/admin/moderation",className:"bg-purple-600 hover:bg-purple-700 text-white p-4 rounded-xl transition-colors",children:[s.jsx(bs,{className:"w-6 h-6 mb-2"}),s.jsx("div",{className:"text-sm font-semibold",children:"Moderation Queue"})]}),s.jsxs("button",{onClick:()=>window.location.href="/admin/events",className:"bg-indigo-600 hover:bg-indigo-700 text-white p-4 rounded-xl transition-colors",children:[s.jsx(ce,{className:"w-6 h-6 mb-2"}),s.jsx("div",{className:"text-sm font-semibold",children:"Events Admin"})]}),s.jsxs("button",{onClick:()=>window.location.href="/admin/newsroom",className:"bg-cyan-600 hover:bg-cyan-700 text-white p-4 rounded-xl transition-colors",children:[s.jsx(Nt,{className:"w-6 h-6 mb-2"}),s.jsx("div",{className:"text-sm font-semibold",children:"Newsroom Admin"})]}),s.jsxs("button",{onClick:()=>window.location.href="/admin/governance",className:"bg-amber-600 hover:bg-amber-700 text-white p-4 rounded-xl transition-colors",children:[s.jsx(me,{className:"w-6 h-6 mb-2"}),s.jsx("div",{className:"text-sm font-semibold",children:"Governance Admin"})]})]})]})]}),s.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-16 text-center text-gray-500 text-sm",children:[s.jsx("p",{children:"BLKOUT UK Integration Hub - Technology for Black Queer Liberation"}),s.jsx("p",{className:"mt-2",children:"All systems operational • Real-time monitoring active"}),u&&s.jsxs("p",{className:"mt-2 text-red-400",children:["IVOR monitoring: ",u]}),h&&s.jsxs("p",{className:"mt-2 text-red-400",children:["N8N monitoring: ",h]})]})]})})},_o=()=>{const[e,t]=_.useState({role:null,authenticated:!1,expires:0,authenticatedAt:0}),[a,i]=_.useState(!0),n=_.useCallback(()=>{try{const h=localStorage.getItem("blkout_admin_auth");if(!h)return t({role:null,authenticated:!1,expires:0,authenticatedAt:0}),i(!1),!1;const p=JSON.parse(h),f=Date.now();if(f>p.expires)return localStorage.removeItem("blkout_admin_auth"),t({role:null,authenticated:!1,expires:0,authenticatedAt:0}),i(!1),!1;const g=1440*60*1e3;return f-p.authenticatedAt>g?(localStorage.removeItem("blkout_admin_auth"),t({role:null,authenticated:!1,expires:0,authenticatedAt:0}),i(!1),!1):(t(p),i(!1),!0)}catch(h){return console.error("Error checking auth:",h),localStorage.removeItem("blkout_admin_auth"),t({role:null,authenticated:!1,expires:0,authenticatedAt:0}),i(!1),!1}},[]);_.useEffect(()=>{n()},[n]);const o=_.useCallback(h=>{const p=new Date("2025-11-17").getTime(),f={role:h,authenticated:!0,expires:p,authenticatedAt:Date.now()};localStorage.setItem("blkout_admin_auth",JSON.stringify(f)),t(f)},[]),u=_.useCallback(()=>{localStorage.removeItem("blkout_admin_auth"),t({role:null,authenticated:!1,expires:0,authenticatedAt:0})},[]),l=_.useCallback(h=>e.authenticated?e.role==="admin"?!0:e.role===h:!1,[e]),c=Math.ceil((e.expires-Date.now())/(1e3*60*60*24));return{authenticated:e.authenticated,role:e.role,loading:a,daysRemaining:e.authenticated?Math.max(0,c):0,authenticate:o,signOut:u,checkAuth:n,hasRole:l,isAdmin:e.role==="admin",isModerator:e.role==="moderator"||e.role==="admin",expiresAt:new Date(e.expires)}};function Eo({onAuthenticated:e,onClose:t}){const[a,i]=_.useState(""),[n,o]=_.useState(""),[u,l]=_.useState(!1),c="BLKOUT2025!",h="admin",p="mod",f=g=>{g.preventDefault();let d=null;if(a===`${c}${h}`)d="admin";else if(a===`${c}${p}`)d="moderator";else if(a===c)d="admin";else{o("Invalid password. Use BLKOUT2025! (admin) or BLKOUT2025!mod (moderator)"),i("");return}e(d),o("")};return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Admin Authentication"}),s.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:s.jsx(Xi,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:u?"text":"password",required:!0,value:a,onChange:g=>i(g.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"BLKOUT2025! or BLKOUT2025!mod"}),s.jsx("button",{type:"button",onClick:()=>l(!u),className:"absolute right-3 top-2 text-slate-400 hover:text-slate-300",children:u?s.jsx(Wi,{className:"w-5 h-5"}):s.jsx(Xe,{className:"w-5 h-5"})})]})]}),n&&s.jsx("div",{className:"bg-red-900/30 border border-red-600/50 rounded p-3 text-red-200 text-sm",children:n}),s.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 px-4 rounded hover:bg-indigo-700 transition-colors",children:"Authenticate"})]})]})})}function nn({children:e,requiredRole:t="moderator",title:a="Admin Dashboard"}){const{authenticated:i,role:n,loading:o,hasRole:u,signOut:l,authenticate:c,daysRemaining:h}=_o(),[p,f]=_.useState(!1);return o?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-400 mx-auto mb-4"}),s.jsx("p",{className:"text-indigo-200",children:"Checking authentication..."})]})}):!i||!u(t)?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900",children:s.jsx(Eo,{onAuthenticated:c})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900",children:[s.jsx("div",{className:"bg-indigo-900/30 backdrop-blur-sm border-b border-indigo-700/30",children:s.jsx("div",{className:"max-w-7xl mx-auto px-8 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"w-5 h-5 text-emerald-400"}),s.jsx("span",{className:"text-white font-medium",children:a})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-indigo-800/50 rounded-full",children:[n==="admin"?s.jsx(Ki,{className:"w-4 h-4 text-yellow-400"}):s.jsx(me,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-indigo-200 text-sm capitalize font-medium",children:n})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[h<=30&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-900/30 border border-yellow-700/50 rounded-lg",children:[s.jsx(ke,{className:"w-4 h-4 text-yellow-400"}),s.jsxs("span",{className:"text-yellow-200 text-sm",children:[h," days left"]})]}),s.jsxs(k.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"flex items-center gap-2 px-3 py-1 text-indigo-300 hover:text-white hover:bg-indigo-800/50 rounded-lg transition-colors",children:[s.jsx(Qi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})})}),s.jsx("div",{className:"relative",children:e}),h<=7&&s.jsx("div",{className:"fixed bottom-4 right-4 bg-red-900/90 border border-red-700 rounded-lg p-4 max-w-sm shadow-2xl backdrop-blur-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ke,{className:"w-5 h-5 text-red-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-200 font-medium text-sm",children:"Temporary Access Expiring Soon"}),s.jsxs("p",{className:"text-red-300 text-xs mt-1",children:[h," days remaining. Contact administrators for permanent access setup."]})]})]})})]})}const rn=e=>{const{type:t,title:a,message:i,duration:n=5e3}=e,o=document.createElement("div");o.className=`fixed top-4 right-4 max-w-sm bg-white rounded-lg shadow-lg border-l-4 z-50 ${t==="success"?"border-green-500":t==="error"?"border-red-500":t==="warning"?"border-yellow-500":"border-blue-500"}`,o.innerHTML=`
    <div class="flex items-start p-4">
      <div class="flex-shrink-0">
        ${t==="success"?"✅":t==="error"?"❌":t==="warning"?"⚠️":"ℹ️"}
      </div>
      <div class="ml-3 flex-1">
        <div class="text-sm font-medium text-gray-900">${a}</div>
        ${i?`<div class="text-sm text-gray-500 mt-1">${i}</div>`:""}
      </div>
      <button class="ml-4 text-gray-400 hover:text-gray-600" onclick="this.parentElement.parentElement.remove()">
        ×
      </button>
    </div>
  `,document.body.appendChild(o),setTimeout(()=>{o.parentNode&&o.remove()},n)},Se=(e,t)=>{rn({type:"success",title:e,message:t})},Ve=(e,t)=>{rn({type:"error",title:e,message:t})},Vt={name:"",description:"",event_date:"",start_time:"",end_time:"",locationType:"physical",address:"",url:"",organizer_name:"",category:"Community",tags:"",capacity:50,featured:!1,image:""},ti=["Community","Wellness","Education","Arts & Culture","Activism","Social","Professional Development","Support Group"],jo={};function To(){const{events:e,loading:t,createEvent:a,updateEvent:i,deleteEvent:n}=Vi(jo),[o,u]=_.useState([]),[l,c]=_.useState(!1),[h,p]=_.useState(null),[f,g]=_.useState(Vt),[d,m]=_.useState(""),[E,T]=_.useState("all"),[y,S]=_.useState("all");_.useEffect(()=>{let A=e;d&&(A=A.filter(v=>v.name.toLowerCase().includes(d.toLowerCase())||v.description.toLowerCase().includes(d.toLowerCase())||v.organizer_name?.toLowerCase().includes(d.toLowerCase()))),E!=="all"&&(A=A.filter(v=>v.status===E)),y!=="all"&&(A=A.filter(v=>v.category===y)),u(A)},[e,d,E,y]);const D=async A=>{A.preventDefault();try{const v={name:f.name,description:f.description,event_date:f.event_date,start_time:f.start_time,end_time:f.end_time,location:{type:f.locationType,address:f.address||void 0,url:f.url||void 0},organizer_name:f.organizer_name,category:f.category,tags:f.tags.split(",").map(z=>z.trim()).filter(Boolean),target_audience:["All Welcome"],price:"Free",source:"manual",status:h?h.status:"draft"};h?await i(h.id,v):await a(v),g(Vt),p(null),c(!1),Se(h?"Event Updated":"Event Created",h?"Event updated successfully!":"Event created successfully!")}catch(v){console.error("Failed to save event:",v),Ve("Save Failed","Failed to save event. Please try again.")}},P=A=>{p(A),g({name:A.name,description:A.description,event_date:A.event_date.split("T")[0],start_time:A.start_time||"",end_time:A.end_time||"",locationType:typeof A.location=="object"?A.location.type:"physical",address:(typeof A.location=="object"?A.location.address:A.location)||"",url:(typeof A.location=="object"?A.location.url:"")||"",organizer_name:A.organizer_name||"",category:A.category||"Community",tags:(A.tags||[]).join(", "),capacity:50,featured:!1,image:""}),c(!0)},M=async A=>{if(confirm("Are you sure you want to delete this event?"))try{await n(A),Se("Event Deleted","Event deleted successfully!")}catch{Ve("Delete Failed","Failed to delete event. Please try again.")}},C=async(A,v)=>{try{await i(A,{status:v}),Se("Status Updated",`Event status changed to ${v}`)}catch{Ve("Update Failed","Failed to update event status. Please try again.")}},q=A=>{switch(A){case"published":return"text-green-400 bg-green-900/20";case"draft":return"text-yellow-400 bg-yellow-900/20";case"cancelled":return"text-red-400 bg-red-900/20";case"completed":return"text-blue-400 bg-blue-900/20";default:return"text-gray-400 bg-gray-900/20"}},Y={total:e.length,published:e.filter(A=>A.status==="published").length,draft:e.filter(A=>A.status==="draft").length,totalRSVPs:e.reduce((A,v)=>A+v.rsvps,0)};return t?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-400 mx-auto mb-4"}),s.jsx("p",{className:"text-indigo-200",children:"Loading Events Dashboard..."})]})}):s.jsxs(s.Fragment,{children:[s.jsx(fs,{pageName:"Admin Events Dashboard",dependencies:["Supabase","Events Hook","Admin Auth"]}),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900",children:[s.jsx("div",{className:"bg-indigo-900/50 backdrop-blur-sm border-b border-indigo-700/30",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsxs("button",{onClick:()=>window.location.href="/admin",className:"flex items-center gap-2 px-4 py-2 bg-indigo-800 hover:bg-indigo-700 rounded-lg transition-colors text-sm",children:[s.jsx(Ea,{className:"w-4 h-4"}),"Back to Hub"]}),s.jsxs("button",{onClick:()=>window.location.href="/admin",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors text-sm",children:[s.jsx(_s,{className:"w-4 h-4"}),"Integration Hub"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-white heading-block uppercase",children:"Events Admin Dashboard"}),s.jsx("p",{className:"text-indigo-200 mt-2",children:"Manage community events and gatherings"})]}),s.jsxs(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c(!0),className:"px-6 py-3 bg-gradient-to-r from-emerald-600 to-indigo-600 text-white font-bold hover:from-emerald-500 hover:to-indigo-500 transition-all heading-block uppercase flex items-center",children:[s.jsx(Ji,{className:"w-5 h-5 mr-2"}),"Create Event"]})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-indigo-200 text-sm font-medium",children:"Total Events"}),s.jsx("p",{className:"text-3xl font-black text-white",children:Y.total})]}),s.jsx(ce,{className:"w-8 h-8 text-indigo-400"})]})}),s.jsx("div",{className:"bg-green-900/30 backdrop-blur-sm border border-green-700/30 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-200 text-sm font-medium",children:"Published"}),s.jsx("p",{className:"text-3xl font-black text-white",children:Y.published})]}),s.jsx(je,{className:"w-8 h-8 text-green-400"})]})}),s.jsx("div",{className:"bg-yellow-900/30 backdrop-blur-sm border border-yellow-700/30 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-200 text-sm font-medium",children:"Drafts"}),s.jsx("p",{className:"text-3xl font-black text-white",children:Y.draft})]}),s.jsx(as,{className:"w-8 h-8 text-yellow-400"})]})}),s.jsx("div",{className:"bg-violet-900/30 backdrop-blur-sm border border-violet-700/30 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-violet-200 text-sm font-medium",children:"Total RSVPs"}),s.jsx("p",{className:"text-3xl font-black text-white",children:Y.totalRSVPs})]}),s.jsx(me,{className:"w-8 h-8 text-violet-400"})]})})]}),s.jsx("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-6 mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Es,{className:"absolute left-3 top-3 w-5 h-5 text-indigo-400"}),s.jsx("input",{type:"text",id:"search-events",name:"searchQuery",placeholder:"Search events...",value:d,onChange:A=>m(A.target.value),className:"w-full pl-10 pr-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("select",{id:"status-filter",name:"statusFilter",value:E,onChange:A=>T(A.target.value),className:"px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"completed",children:"Completed"})]}),s.jsxs("select",{id:"category-filter",name:"categoryFilter",value:y,onChange:A=>S(A.target.value),className:"px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"All Categories"}),ti.map(A=>s.jsx("option",{value:A,children:A},A))]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-500 transition-colors flex items-center",children:[s.jsx(ys,{className:"w-4 h-4 mr-2"}),"Export"]}),s.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-500 transition-colors flex items-center",children:[s.jsx(Zi,{className:"w-4 h-4 mr-2"}),"Import"]})]})]})}),s.jsxs("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-indigo-800/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Event"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Date & Time"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Source"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"RSVPs"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-indigo-700/30",children:o.map(A=>s.jsxs("tr",{className:"hover:bg-indigo-800/20 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-emerald-500 to-indigo-600 flex items-center justify-center",children:s.jsx(ce,{className:"w-5 h-5 text-white"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-white",children:A.name}),s.jsx("div",{className:"text-sm text-indigo-200",children:A.category}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A.featured&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-900/30 text-yellow-400",children:"Featured"}),A.submittedVia==="chrome-extension"&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-900/30 text-emerald-400",children:"📤 Extension"})]})]})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm text-white",children:new Date(A.event_date).toLocaleDateString()}),s.jsx("div",{className:"text-sm text-indigo-200",children:A.start_time})]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-indigo-200",children:[s.jsx(zr,{className:"w-4 h-4 mr-1"}),A.location.type==="physical"?"In-person":A.location.type==="virtual"?"Virtual":"Hybrid"]}),s.jsx("div",{className:"text-xs text-indigo-300",children:typeof A.location=="object"?A.location.address||A.location.url||"Location TBD":A.location||"Location TBD"})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-white",children:A.submittedVia==="chrome-extension"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-emerald-400",children:"📤 Extension"}),A.sourceUrl&&s.jsx("a",{href:A.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-300 hover:text-indigo-200 truncate max-w-24",title:A.sourceUrl,children:new URL(A.sourceUrl).hostname})]}):A.submittedVia==="bulk-test"?s.jsx("span",{className:"text-yellow-400",children:"🧪 Bulk Test"}):s.jsx("span",{className:"text-indigo-300",children:"✍️ Manual"})})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"text-sm text-white",children:[A.rsvps||0,"/",A.capacity||50]}),s.jsx("div",{className:"w-full bg-indigo-800 rounded-full h-2 mt-1",children:s.jsx("div",{className:"bg-emerald-500 h-2 rounded-full",style:{width:`${(A.rsvps||0)/(A.capacity||50)*100}%`}})})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("select",{id:`status-${A.id}`,name:`eventStatus-${A.id}`,value:A.status,onChange:v=>C(A.id,v.target.value),className:`px-3 py-1 rounded-full text-xs font-medium border-0 ${q(A.status)}`,children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"completed",children:"Completed"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>P(A),className:"text-indigo-400 hover:text-indigo-300 transition-colors",children:s.jsx(as,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-emerald-400 hover:text-emerald-300 transition-colors",children:s.jsx(Xe,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>M(A.id),className:"text-red-400 hover:text-red-300 transition-colors",children:s.jsx(en,{className:"w-4 h-4"})})]})})]},A.id))})]})}),o.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ce,{className:"w-12 h-12 text-indigo-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No events found"}),s.jsx("p",{className:"text-indigo-200",children:"Create your first event to get started."})]})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-indigo-900 border border-indigo-700 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-black text-white heading-block uppercase",children:h?"Edit Event":"Create New Event"}),s.jsx("button",{onClick:()=>{c(!1),p(null),g(Vt)},className:"text-indigo-400 hover:text-white transition-colors",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Event Name"}),s.jsx("input",{type:"text",id:"event-name",name:"eventName",required:!0,value:f.name,onChange:A=>g(v=>({...v,name:A.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter event name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Category"}),s.jsx("select",{id:"event-category",name:"eventCategory",value:f.category,onChange:A=>g(v=>({...v,category:A.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:ti.map(A=>s.jsx("option",{value:A,children:A},A))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Description"}),s.jsx("textarea",{id:"event-description",name:"eventDescription",required:!0,value:f.description,onChange:A=>g(v=>({...v,description:A.target.value})),rows:4,className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Describe your event"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Date"}),s.jsx("input",{type:"date",id:"event-date",name:"eventDate",required:!0,value:f.event_date,onChange:A=>g(v=>({...v,event_date:A.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Start Time"}),s.jsx("input",{type:"time",id:"start-time",name:"startTime",required:!0,value:f.start_time,onChange:A=>g(v=>({...v,start_time:A.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"End Time"}),s.jsx("input",{type:"time",id:"end-time",name:"endTime",value:f.end_time,onChange:A=>g(v=>({...v,end_time:A.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Location Type"}),s.jsx("div",{className:"flex gap-4 mb-4",children:["physical","virtual","hybrid"].map(A=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",id:`location-${A}`,name:"locationType",value:A,checked:f.locationType===A,onChange:v=>g(z=>({...z,locationType:v.target.value})),className:"mr-2"}),s.jsx("span",{className:"text-indigo-200 capitalize",children:A})]},A))}),(f.locationType==="physical"||f.locationType==="hybrid")&&s.jsx("input",{type:"text",id:"event-address",name:"eventAddress",value:f.address,onChange:A=>g(v=>({...v,address:A.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-4",placeholder:"Physical address"}),(f.locationType==="virtual"||f.locationType==="hybrid")&&s.jsx("input",{type:"url",id:"event-url",name:"eventUrl",value:f.url,onChange:A=>g(v=>({...v,url:A.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Virtual meeting URL"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Organizer"}),s.jsx("input",{type:"text",id:"event-organizer",name:"eventOrganizer",required:!0,value:f.organizer_name,onChange:A=>g(v=>({...v,organizer_name:A.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Event organizer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Capacity"}),s.jsx("input",{type:"number",id:"event-capacity",name:"eventCapacity",required:!0,min:"1",max:"1000",value:f.capacity,onChange:A=>g(v=>({...v,capacity:parseInt(A.target.value)})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",id:"event-tags",name:"eventTags",value:f.tags,onChange:A=>g(v=>({...v,tags:A.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"healing, community, support"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"event-featured",name:"eventFeatured",checked:f.featured,onChange:A=>g(v=>({...v,featured:A.target.checked})),className:"mr-2"}),s.jsx("label",{className:"text-indigo-200",children:"Featured Event"})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-indigo-700",children:[s.jsx("button",{type:"button",onClick:()=>{c(!1),p(null),g(Vt)},className:"px-6 py-2 border border-indigo-600 text-indigo-200 rounded hover:bg-indigo-800/50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-emerald-600 to-indigo-600 text-white font-bold rounded hover:from-emerald-500 hover:to-indigo-500 transition-all",children:h?"Update Event":"Create Event"})]})]})]})})})]})]})}function wo(){return s.jsx(nn,{requiredRole:"moderator",title:"Events Admin Dashboard",children:s.jsx(To,{})})}const Yt={title:"",excerpt:"",content:"",author:"",category:"community",tags:"",featured:!1,imageUrl:"",source:"",externalUrl:"",type:"original",priority:"medium"},si=["community","politics","culture","health","education","business","technology"],Ao=[{value:"original",label:"Original Reporting",icon:ve},{value:"curated",label:"Curated Content",icon:tn},{value:"community_response",label:"Community Response",icon:me}];function Co(){const{articles:e,loading:t,error:a,refetch:i,createArticle:n,updateArticle:o,deleteArticle:u}=Yi(),[l,c]=_.useState([]),[h,p]=_.useState(!1),[f,g]=_.useState(null),[d,m]=_.useState(Yt),[E,T]=_.useState(""),[y,S]=_.useState("all"),[D,P]=_.useState("all");Na.useEffect(()=>{let I=e;E&&(I=I.filter(H=>H.title.toLowerCase().includes(E.toLowerCase())||H.excerpt.toLowerCase().includes(E.toLowerCase())||v(H.author).toLowerCase().includes(E.toLowerCase())||(H.tags||[]).some(_e=>_e.toLowerCase().includes(E.toLowerCase())))),y!=="all"&&(I=I.filter(H=>H.status===y)),D!=="all"&&(I=I.filter(H=>H.category===D)),c(I)},[e,E,y,D]);const M=async I=>{I.preventDefault();try{const H={title:d.title,excerpt:d.excerpt,content:d.content,author:d.author,category:d.category,tags:d.tags.split(",").map(_e=>_e.trim()).filter(Boolean),featured:d.featured,image_url:d.imageUrl,source_url:d.externalUrl,type:d.type,priority:d.priority,status:f?.status||"draft"};f?(await o(f.id,H),Se("Article Updated","Article updated successfully!")):(await n(H),Se("Article Created","Article created successfully!")),m(Yt),g(null),p(!1)}catch(H){console.error("Failed to save article:",H),Ve("Save Failed","Failed to save article. Please try again.")}},C=I=>{g(I),m({title:I.title,excerpt:I.excerpt,content:I.content||"",author:v(I.author),category:I.category,tags:(I.tags||[]).join(", "),featured:I.featured||!1,imageUrl:I.image_url||"",source:I.source||"",externalUrl:I.source_url||"",type:I.type||"original",priority:I.priority||"medium"}),p(!0)},q=async I=>{if(confirm("Are you sure you want to delete this article?"))try{await u(I),Se("Article Deleted","Article deleted successfully!")}catch(H){console.error("Failed to delete article:",H),Ve("Delete Failed","Failed to delete article. Please try again.")}},Y=async(I,H)=>{try{await o(I,{status:H,published_at:H==="published"?new Date().toISOString():void 0}),Se(`Article ${H}`,`Article ${H} successfully!`)}catch(_e){console.error("Failed to update article status:",_e),Ve("Update Failed","Failed to update article status. Please try again.")}},A=I=>{switch(I){case"published":return"text-green-400 bg-green-900/20";case"draft":return"text-yellow-400 bg-yellow-900/20";case"archived":return"text-gray-400 bg-gray-900/20";default:return"text-gray-400 bg-gray-900/20"}},v=I=>typeof I=="string"?I:I.name,z=()=>s.jsx(aa,{className:"w-4 h-4 text-green-400"}),X=I=>{switch(I){case"original":return ve;case"curated":return tn;case"community_response":return me;default:return ve}},pe=I=>{switch(I){case"urgent":return"text-red-400 bg-red-900/20";case"high":return"text-orange-400 bg-orange-900/20";case"medium":return"text-yellow-400 bg-yellow-900/20";case"low":return"text-green-400 bg-green-900/20";default:return"text-gray-400 bg-gray-900/20"}},Oe={total:e.length,published:e.filter(I=>I.status==="published").length,draft:e.filter(I=>I.status==="draft").length,todayCount:e.filter(I=>{const H=new Date().toISOString().split("T")[0];return new Date(I.published_at||I.created_at).toISOString().split("T")[0]===H}).length,connectionStatus:"supabase"};return t?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-400 mx-auto mb-4"}),s.jsx("p",{className:"text-indigo-200",children:"Loading Newsroom Dashboard..."})]})}):s.jsxs(s.Fragment,{children:[s.jsx(fs,{pageName:"Admin Newsroom Dashboard",dependencies:["Supabase","Articles Hook","Admin Auth"]}),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900",children:[s.jsx("div",{className:"bg-indigo-900/50 backdrop-blur-sm border-b border-indigo-700/30",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsxs("button",{onClick:()=>window.location.href="/admin",className:"flex items-center gap-2 px-4 py-2 bg-indigo-800 hover:bg-indigo-700 rounded-lg transition-colors text-sm",children:[s.jsx(Ea,{className:"w-4 h-4"}),"Back to Hub"]}),s.jsxs("button",{onClick:()=>window.location.href="/admin",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors text-sm",children:[s.jsx(_s,{className:"w-4 h-4"}),"Integration Hub"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-white heading-block uppercase",children:"Newsroom Admin Dashboard"}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsx("p",{className:"text-indigo-200",children:"Manage articles, news, and community content"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[z(),s.jsxs("span",{className:"text-indigo-300",children:["Connected to Supabase",a&&s.jsxs("span",{className:"text-red-400 ml-2",children:["• ",a]})]})]})]})]}),s.jsxs(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>p(!0),className:"px-6 py-3 bg-gradient-to-r from-emerald-600 to-indigo-600 text-white font-bold hover:from-emerald-500 hover:to-indigo-500 transition-all heading-block uppercase flex items-center",children:[s.jsx(Ji,{className:"w-5 h-5 mr-2"}),"Create Article"]})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-8",children:[s.jsx("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-indigo-200 text-sm font-medium",children:"Total Articles"}),s.jsx("p",{className:"text-2xl font-black text-white",children:Oe.total})]}),s.jsx(Nt,{className:"w-6 h-6 text-indigo-400"})]})}),s.jsx("div",{className:"bg-green-900/30 backdrop-blur-sm border border-green-700/30 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-200 text-sm font-medium",children:"Published"}),s.jsx("p",{className:"text-2xl font-black text-white",children:Oe.published})]}),s.jsx(je,{className:"w-6 h-6 text-green-400"})]})}),s.jsx("div",{className:"bg-yellow-900/30 backdrop-blur-sm border border-yellow-700/30 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-200 text-sm font-medium",children:"Drafts"}),s.jsx("p",{className:"text-2xl font-black text-white",children:Oe.draft})]}),s.jsx(as,{className:"w-6 h-6 text-yellow-400"})]})}),s.jsx("div",{className:"bg-violet-900/30 backdrop-blur-sm border border-violet-700/30 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-violet-200 text-sm font-medium",children:"Today's Articles"}),s.jsx("p",{className:"text-2xl font-black text-white",children:Oe.todayCount})]}),s.jsx(ce,{className:"w-6 h-6 text-violet-400"})]})}),s.jsx("div",{className:"bg-emerald-900/30 backdrop-blur-sm border border-emerald-700/30 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-emerald-200 text-sm font-medium",children:"Data Source"}),s.jsx("p",{className:"text-lg font-black text-white capitalize",children:Oe.connectionStatus})]}),z()]})})]}),s.jsx("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-6 mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Es,{className:"absolute left-3 top-3 w-5 h-5 text-indigo-400"}),s.jsx("input",{type:"text",placeholder:"Search articles...",value:E,onChange:I=>T(I.target.value),className:"w-full pl-10 pr-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("select",{value:y,onChange:I=>S(I.target.value),className:"px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"pending_review",children:"Pending Review"}),s.jsx("option",{value:"archived",children:"Archived"})]}),s.jsxs("select",{value:D,onChange:I=>P(I.target.value),className:"px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"All Categories"}),si.map(I=>s.jsx("option",{value:I,children:I},I))]}),s.jsxs("button",{onClick:i,className:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-500 transition-colors flex items-center",disabled:t,children:[s.jsx(ja,{className:"w-4 h-4 mr-2"}),t?"Refreshing...":"Refresh"]}),s.jsxs("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-500 transition-colors flex items-center justify-center",children:[s.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Filter"]})]})}),s.jsxs("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-indigo-800/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Article"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Author"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Source"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Stats"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Priority"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-indigo-200 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-indigo-700/30",children:l.map(I=>{const H=X(I.type);return s.jsxs("tr",{className:"hover:bg-indigo-800/20 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:s.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-emerald-500 to-indigo-600 flex items-center justify-center",children:s.jsx(Nt,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-white line-clamp-2",children:I.title}),s.jsx("div",{className:"text-sm text-indigo-200 mt-1",children:I.category}),s.jsxs("div",{className:"flex items-center mt-2",children:[I.featured&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-900/30 text-yellow-400 mr-2",children:"Featured"}),s.jsxs("div",{className:"flex space-x-1",children:[I.tags.slice(0,2).map(_e=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-800/30 text-indigo-200",children:_e},_e)),I.tags.length>2&&s.jsxs("span",{className:"text-xs text-indigo-400",children:["+",I.tags.length-2]})]})]})]})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"text-sm text-white",children:v(I.author)}),s.jsx("div",{className:"text-sm text-indigo-200",children:new Date(I.published_at||I.created_at).toLocaleDateString()})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(H,{className:"w-4 h-4 text-indigo-400 mr-2"}),s.jsx("span",{className:"text-sm text-indigo-200 capitalize",children:(I.type||"original").replace("_"," ")})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-white",children:I.source_url?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-emerald-400",children:"🔗 External"}),s.jsx("a",{href:I.source_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-300 hover:text-indigo-200 truncate max-w-20",title:I.source_url,children:new URL(I.source_url).hostname})]}):s.jsx("span",{className:"text-indigo-300",children:"✍️ Original"})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm text-white flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xe,{className:"w-4 h-4 text-indigo-400 mr-1"}),I.views||0]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vr,{className:"w-4 h-4 text-indigo-400 mr-1"}),I.shares||0]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${pe(I.priority||"medium")}`,children:(I.priority||"medium").toUpperCase()})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("select",{value:I.status,onChange:_e=>Y(I.id,_e.target.value),className:`px-3 py-1 rounded-full text-xs font-medium border-0 ${A(I.status)}`,children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"pending_review",children:"Pending Review"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"archived",children:"Archived"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>C(I),className:"text-indigo-400 hover:text-indigo-300 transition-colors",children:s.jsx(as,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-emerald-400 hover:text-emerald-300 transition-colors",children:s.jsx(Xe,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>q(I.id),className:"text-red-400 hover:text-red-300 transition-colors",children:s.jsx(en,{className:"w-4 h-4"})})]})})]},I.id)})})]})}),l.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nt,{className:"w-12 h-12 text-indigo-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No articles found"}),s.jsx("p",{className:"text-indigo-200",children:"Create your first article to get started."})]})]})]}),h&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-indigo-900 border border-indigo-700 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-black text-white heading-block uppercase",children:f?"Edit Article":"Create New Article"}),s.jsx("button",{onClick:()=>{p(!1),g(null),m(Yt)},className:"text-indigo-400 hover:text-white transition-colors",children:s.jsx(rt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Article Title"}),s.jsx("input",{type:"text",required:!0,value:d.title,onChange:I=>m(H=>({...H,title:I.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter article title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Category"}),s.jsx("select",{value:d.category,onChange:I=>m(H=>({...H,category:I.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:si.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Content Type"}),s.jsx("select",{value:d.type,onChange:I=>m(H=>({...H,type:I.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:Ao.map(I=>s.jsx("option",{value:I.value,children:I.label},I.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Excerpt"}),s.jsx("textarea",{required:!0,value:d.excerpt,onChange:I=>m(H=>({...H,excerpt:I.target.value})),rows:3,className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Brief excerpt or summary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Content"}),s.jsx("textarea",{required:!0,value:d.content,onChange:I=>m(H=>({...H,content:I.target.value})),rows:10,className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Full article content"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Author"}),s.jsx("input",{type:"text",required:!0,value:d.author,onChange:I=>m(H=>({...H,author:I.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Article author"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Priority"}),s.jsxs("select",{value:d.priority,onChange:I=>m(H=>({...H,priority:I.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),d.type==="curated"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Source"}),s.jsx("input",{type:"text",value:d.source,onChange:I=>m(H=>({...H,source:I.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Original source name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Source URL"}),s.jsx("input",{type:"url",value:d.externalUrl,onChange:I=>m(H=>({...H,externalUrl:I.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"https://..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:d.tags,onChange:I=>m(H=>({...H,tags:I.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"policy, rights, community"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-indigo-200 mb-2",children:"Featured Image URL"}),s.jsx("input",{type:"url",value:d.imageUrl,onChange:I=>m(H=>({...H,imageUrl:I.target.value})),className:"w-full px-4 py-2 bg-indigo-800/50 border border-indigo-600 rounded text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"https://..."})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:d.featured,onChange:I=>m(H=>({...H,featured:I.target.checked})),className:"mr-2"}),s.jsx("label",{className:"text-indigo-200",children:"Featured Article"})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-indigo-700",children:[s.jsx("button",{type:"button",onClick:()=>{p(!1),g(null),m(Yt)},className:"px-6 py-2 border border-indigo-600 text-indigo-200 rounded hover:bg-indigo-800/50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-emerald-600 to-indigo-600 text-white font-bold rounded hover:from-emerald-500 hover:to-indigo-500 transition-all",children:f?"Update Article":"Create Article"})]})]})]})})})]})]})}function So(){return s.jsx(nn,{requiredRole:"moderator",title:"Newsroom Admin Dashboard",children:s.jsx(Co,{})})}const Io=()=>{const[e,t]=_.useState([]),[a,i]=_.useState({pendingSocial:0,approvedToday:0,scheduledPosts:0,platforms:{twitter:0,instagram:0,linkedin:0,facebook:0}}),[n,o]=_.useState(!0),[u,l]=_.useState(null);_.useEffect(()=>{c();const y=setInterval(c,3e4);return()=>clearInterval(y)},[]);const c=async()=>{try{o(!0);const S=await(await fetch("/api/social-content")).json();if(S.success&&S.content_entries){const D=[];S.content_entries.forEach(P=>{Object.entries(P.content).forEach(([M,C])=>{C.text&&C.status==="success"&&D.push({id:`${P.id}_${M}`,type:M,content_type:P.type,title:`${P.type} - ${M}`,content:{text:C.text,scheduled_date:P.scheduled_date,hashtags:h(C.text)},status:P.status||"pending",moderation_result:P.moderation_result,workflow_run_id:P.workflow_runs[M]||"",generated_at:C.generated_at,approved_at:P.approved_at,rejected_at:P.rejected_at,rejection_reason:P.rejection_reason})})}),t(D),p(D)}}catch(y){console.error("Failed to load social media queue:",y),t([])}finally{o(!1)}},h=y=>(y.match(/#[\w]+/g)||[]).map(D=>D.substring(1)),p=y=>{const S=y.filter(M=>M.status==="pending").length,D=y.filter(M=>M.approved_at&&new Date(M.approved_at).toDateString()===new Date().toDateString()).length,P={twitter:y.filter(M=>M.type==="twitter").length,instagram:y.filter(M=>M.type==="instagram").length,linkedin:y.filter(M=>M.type==="linkedin").length,facebook:y.filter(M=>M.type==="facebook").length};i({pendingSocial:S,approvedToday:D,scheduledPosts:y.filter(M=>M.status==="approved").length,platforms:P})},f=async(y,S,D)=>{try{const P=e.find(A=>A.id===y);if(!P)return;const[M,C]=y.split("_");if(!(await fetch("/api/social-content/moderate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content_id:M,platform:C,action:S,reason:D,moderator:"admin",moderated_at:new Date().toISOString()})})).ok)throw new Error("Failed to update social content");t(A=>A.map(v=>v.id===y?{...v,status:S==="approve"?"approved":"rejected",approved_at:S==="approve"?new Date().toISOString():void 0,rejected_at:S==="reject"?new Date().toISOString():void 0,rejection_reason:D}:v)),Se(`Social Content ${S==="approve"?"Approved":"Rejected"}`,`${C} content for ${P.content_type} has been ${S==="approve"?"approved":"rejected"}`);const Y=e.map(A=>A.id===y?{...A,status:S==="approve"?"approved":"rejected"}:A);p(Y)}catch(P){console.error("Social moderation failed:",P),Ve("Moderation Failed","Failed to process social media moderation. Please try again.")}},g=y=>{switch(y){case"twitter":return s.jsx(Kr,{className:"w-5 h-5 text-blue-400"});case"instagram":return s.jsx(Wr,{className:"w-5 h-5 text-pink-500"});case"linkedin":return s.jsx(Gr,{className:"w-5 h-5 text-blue-600"});case"facebook":return s.jsx($r,{className:"w-5 h-5 text-blue-800"});default:return s.jsx(sa,{className:"w-5 h-5 text-gray-500"})}},d=y=>{switch(y){case"carnival":return"bg-purple-100 text-purple-800";case"recruitment":return"bg-blue-100 text-blue-800";case"alain_locke":return"bg-green-100 text-green-800";case"business_network":return"bg-orange-100 text-orange-800";case"website_launch":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=y=>new Date(y).toLocaleString(),E=e.filter(y=>y.status==="pending"),T=e.filter(y=>y.status==="approved");return n?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600",children:"Loading social media queue..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Social"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:a.pendingSocial})]}),s.jsx(ke,{className:"w-8 h-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved Today"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:a.approvedToday})]}),s.jsx(je,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Scheduled Posts"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.scheduledPosts})]}),s.jsx(ce,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Content"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:e.length})]}),s.jsx(ja,{className:"w-8 h-8 text-orange-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Platform Breakdown"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(a.platforms).map(([y,S])=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[g(y),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 capitalize",children:y}),s.jsxs("p",{className:"text-sm text-gray-600",children:[S," items"]})]})]},y))})]}),E.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pending Social Media Content"}),s.jsx("p",{className:"text-gray-600",children:"Review and approve generated social media posts"})]}),s.jsx("div",{className:"divide-y divide-gray-200",children:E.map(y=>s.jsx("div",{className:"px-6 py-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g(y.type),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${d(y.content_type)}`,children:y.content_type.replace("_"," ").toUpperCase()}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Scheduled: ",m(y.content.scheduled_date)]})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:s.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:y.content.text})}),y.content.hashtags&&y.content.hashtags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsx(Yr,{className:"w-4 h-4 text-gray-400 mt-1"}),y.content.hashtags.map((S,D)=>s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:["#",S]},D))]}),y.moderation_result?.issues&&y.moderation_result.issues.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-red-600 mb-1",children:"Issues:"}),s.jsx("ul",{className:"text-sm text-red-600 list-disc list-inside",children:y.moderation_result.issues.map((S,D)=>s.jsx("li",{children:S},D))})]}),y.moderation_result?.recommendations&&y.moderation_result.recommendations.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Recommendations:"}),s.jsx("ul",{className:"text-sm text-yellow-600 list-disc list-inside",children:y.moderation_result.recommendations.map((S,D)=>s.jsx("li",{children:S},D))})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Generated: ",m(y.generated_at)," • ",y.content.text.length," characters"]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[s.jsxs("button",{onClick:()=>f(y.id,"approve"),className:"flex items-center gap-1 px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(je,{className:"w-4 h-4"}),"Approve"]}),s.jsxs("button",{onClick:()=>{const S=prompt("Reason for rejection:");S&&f(y.id,"reject",S)},className:"flex items-center gap-1 px-3 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(rt,{className:"w-4 h-4"}),"Reject"]}),s.jsxs("button",{onClick:()=>l(y),className:"flex items-center gap-1 px-3 py-2 bg-gray-600 text-white text-sm rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(Xe,{className:"w-4 h-4"}),"Preview"]})]})]})},y.id))})]}),T.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recently Approved Content"}),s.jsx("p",{className:"text-gray-600",children:"Content ready for publishing"})]}),s.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:T.slice(0,5).map(y=>s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g(y.type),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${d(y.content_type)}`,children:y.content_type.replace("_"," ").toUpperCase()}),s.jsxs("span",{className:"text-sm text-gray-900 truncate max-w-xs",children:[y.content.text.substring(0,60),"..."]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-600",children:"Approved"}),s.jsx("span",{className:"text-xs text-gray-500",children:y.approved_at&&m(y.approved_at)})]})]})},y.id))})]}),E.length===0&&T.length===0&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[s.jsx(sa,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Social Media Content"}),s.jsx("p",{className:"text-gray-600",children:"No social media content found. Generate some content first!"})]})]})},ko=()=>{const[e,t]=_.useState({pendingCount:0,todayActions:0,activeModerators:1,newsroomQueue:0,eventsQueue:0,communityQueue:0,socialQueue:0}),[a,i]=_.useState([]),[n,o]=_.useState("all"),[u,l]=_.useState(""),[c,h]=_.useState(!0),[p,f]=_.useState("traditional");_.useEffect(()=>{g()},[]);const g=async()=>{try{h(!0);let y=[];try{console.log("Fetching data from Supabase...");const[P,M]=await Promise.all([Ee.from("events").select("*").in("status",["draft","pending"]),Ee.from("newsroom_articles").select("*").in("status",["draft","pending"])]);console.log("Events result:",P),console.log("Articles result:",M),P.data?(console.log("Processing events:",P.data),P.data.forEach(C=>{console.log("Adding event to queue:",C.title),y.push({id:C.id,type:"event",title:C.title,content:{description:C.description,date:C.date,time:C.start_time,location:C.location||"TBD"},submittedBy:C.source==="manual"?"Chrome Extension":C.organizer||"Unknown",submittedAt:new Date(C.created_at),status:"pending",flags:C.tags?.includes("community-submitted")?["community-submitted"]:[],priority:"medium"})})):console.log("No events data found"),M.data?(console.log("Processing articles:",M.data),M.data.forEach(C=>{console.log("Adding article to queue:",C.title),y.push({id:C.id,type:"newsroom_article",title:C.title,content:{excerpt:C.excerpt||C.content},submittedBy:C.source_url?"Chrome Extension":"Unknown",submittedAt:new Date(C.created_at),status:"pending",flags:["community-submitted"],priority:"medium"})})):console.log("No articles data found")}catch(P){console.error("Supabase error:",P),console.log("ERROR - Skipping fallback to focus on Supabase data only")}y.sort((P,M)=>M.submittedAt.getTime()-P.submittedAt.getTime()),console.log("🎯 SETTING MODERATION QUEUE:",y),console.log("🎯 QUEUE LENGTH:",y.length),i(y);const S=y.filter(P=>P.type==="event").length,D=y.filter(P=>P.type==="newsroom_article").length;console.log("📊 STATS UPDATE:",{total:y.length,events:S,articles:D}),t({pendingCount:y.length,todayActions:0,activeModerators:1,newsroomQueue:D,eventsQueue:S,communityQueue:0,socialQueue:0})}catch(y){console.error("Failed to load moderation queue:",y),i([])}finally{h(!1)}},d=async(y,S,D)=>{try{const P=a.find(M=>M.id===y);if(!P)return;if(console.log(`🔨 Moderating ${P.type} "${P.title}" - Action: ${S}`),P.type==="event"){const{error:M}=await Ee.from("events").update({status:S==="approved"?"published":"rejected",moderated_at:new Date().toISOString(),moderated_by:"admin",moderation_reason:D||null}).eq("id",y);if(M)throw console.error("Supabase event update error:",M),new Error("Failed to update event: "+M.message)}else if(P.type==="newsroom_article"){const{error:M}=await Ee.from("newsroom_articles").update({status:S==="approved"?"published":"rejected",moderated_at:new Date().toISOString(),moderated_by:"admin",moderation_reason:D||null,published_at:S==="approved"?new Date().toISOString():null}).eq("id",y);if(M)throw console.error("Supabase article update error:",M),new Error("Failed to update article: "+M.message)}i(M=>M.filter(C=>C.id!==y)),console.log(`✅ Successfully ${S} ${P.type}: "${P.title}"`),Se(`Successfully ${S} ${P.type}: "${P.title}"`),t(M=>({...M,pendingCount:M.pendingCount-1,todayActions:M.todayActions+1,newsroomQueue:P.type==="newsroom_article"?M.newsroomQueue-1:M.newsroomQueue,eventsQueue:P.type==="event"?M.eventsQueue-1:M.eventsQueue})),Se(`${P.type==="event"?"Event":"Article"} ${S}`,`The ${P.type} has been ${S} successfully`)}catch(P){console.error("Moderation action failed:",P),Ve("Moderation Failed","Failed to process moderation action. Please try again.")}},m=y=>{switch(y){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},E=y=>{switch(y){case"newsroom_article":return s.jsx(ve,{className:"w-5 h-5"});case"event":return s.jsx(ce,{className:"w-5 h-5"});case"community_story":return s.jsx(me,{className:"w-5 h-5"});case"comment":return s.jsx(ia,{className:"w-5 h-5"});default:return s.jsx(ve,{className:"w-5 h-5"})}};console.log("🔍 FILTERING QUEUE:",{moderationQueueLength:a.length,selectedFilter:n,searchQuery:u,moderationQueue:a});const T=a.filter(y=>{const S=n==="all"||y.type===n,D=u===""||y.title.toLowerCase().includes(u.toLowerCase())||y.submittedBy.toLowerCase().includes(u.toLowerCase()),P=S&&D;return console.log("🔍 FILTERING ITEM:",y.title,"Status:",y.status,"Filter:",n,"Matches Filter:",S,"Matches Search:",D,"WILL SHOW:",P),P});return c?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading moderation dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"py-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"BLKOUT Moderation Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Community content management and safety"}),s.jsxs("div",{className:"flex space-x-1 mt-6",children:[s.jsx("button",{onClick:()=>f("traditional"),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${p==="traditional"?"bg-purple-600 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{className:"w-4 h-4"}),"Traditional Content"]})}),s.jsx("button",{onClick:()=>f("social"),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${p==="social"?"bg-purple-600 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ia,{className:"w-4 h-4"}),"Social Media"]})})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:p==="social"?s.jsx(Io,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.pendingCount})]}),s.jsx(ke,{className:"w-8 h-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Actions"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.todayActions})]}),s.jsx(ja,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Moderators"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.activeModerators})]}),s.jsx(me,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Flagged Items"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:a.filter(y=>y.status==="flagged").length})]}),s.jsx(Qr,{className:"w-8 h-8 text-red-600"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Newsroom Queue"}),s.jsx(ve,{className:"w-6 h-6 text-purple-600"})]}),s.jsx("p",{className:"text-3xl font-bold text-purple-600 mb-2",children:e.newsroomQueue}),s.jsx("button",{className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Review Articles"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Events Queue"}),s.jsx(ce,{className:"w-6 h-6 text-blue-600"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:e.eventsQueue}),s.jsx("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Review Events"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Community Queue"}),s.jsx(me,{className:"w-6 h-6 text-green-600"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mb-2",children:e.communityQueue}),s.jsx("button",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Review Stories"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ta,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:n,onChange:y=>o(y.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[s.jsx("option",{value:"all",children:"All Content"}),s.jsx("option",{value:"newsroom_article",children:"Newsroom Articles"}),s.jsx("option",{value:"event",children:"Events"}),s.jsx("option",{value:"community_story",children:"Community Stories"}),s.jsx("option",{value:"comment",children:"Comments"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Es,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Search content...",value:u,onChange:y=>l(y.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm w-full sm:w-80"})]})]})}),s.jsx("div",{className:"divide-y divide-gray-200",children:T.length===0?s.jsxs("div",{className:"px-6 py-12 text-center",children:[s.jsx(ke,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No items in queue"}),s.jsx("p",{className:"text-gray-600",children:"All content has been reviewed. Great work!"})]}):T.map(y=>s.jsx("div",{className:"px-6 py-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E(y.type),s.jsx("h3",{className:"font-medium text-gray-900",children:y.title}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${m(y.priority)}`,children:y.priority.toUpperCase()})]}),s.jsxs("p",{className:"text-gray-600 mb-3",children:[y.type==="newsroom_article"&&y.content.excerpt,y.type==="event"&&`${new Date(y.content.date).toLocaleDateString()} - ${y.content.location}`,y.type==="community_story"&&y.content.excerpt]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:y.flags.map((S,D)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:S},D))}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Submitted by ",y.submittedBy," • ",new Date(y.submittedAt).toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[s.jsxs("button",{onClick:()=>d(y.id,"approved"),className:"flex items-center gap-1 px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(je,{className:"w-4 h-4"}),"Approve"]}),s.jsxs("button",{onClick:()=>{const S=prompt("Reason for rejection:");S&&d(y.id,"rejected",S)},className:"flex items-center gap-1 px-3 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(rt,{className:"w-4 h-4"}),"Reject"]}),s.jsxs("button",{onClick:()=>d(y.id,"flagged"),className:"flex items-center gap-1 px-3 py-2 bg-yellow-600 text-white text-sm rounded-lg hover:bg-yellow-700 transition-colors",children:[s.jsx(Xr,{className:"w-4 h-4"}),"Flag"]}),s.jsxs("button",{className:"flex items-center gap-1 px-3 py-2 bg-gray-600 text-white text-sm rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(Xe,{className:"w-4 h-4"}),"Preview"]})]})]})},y.id))})]})]})})]})};var G;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(G||(G={}));function Oo(e){return e.type===G.Tag||e.type===G.Script||e.type===G.Style}const Aa=G.Root,on=G.Text,Do=G.Directive,un=G.Comment,Lo=G.Script,Ro=G.Style,na=G.Tag,Po=G.CDATA,Mo=G.Doctype;class cn{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return It(this,t)}}class Ca extends cn{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class St extends Ca{constructor(){super(...arguments),this.type=G.Text}get nodeType(){return 3}}class Sa extends Ca{constructor(){super(...arguments),this.type=G.Comment}get nodeType(){return 8}}class Ia extends Ca{constructor(t,a){super(a),this.name=t,this.type=G.Directive}get nodeType(){return 1}}class ka extends cn{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class ln extends ka{constructor(){super(...arguments),this.type=G.CDATA}get nodeType(){return 4}}class Je extends ka{constructor(){super(...arguments),this.type=G.Root}get nodeType(){return 9}}class Oa extends ka{constructor(t,a,i=[],n=t==="script"?G.Script:t==="style"?G.Style:G.Tag){super(i),this.name=t,this.attribs=a,this.type=n}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var a,i;return{name:t,value:this.attribs[t],namespace:(a=this["x-attribsNamespace"])===null||a===void 0?void 0:a[t],prefix:(i=this["x-attribsPrefix"])===null||i===void 0?void 0:i[t]}})}}function F(e){return Oo(e)}function Ts(e){return e.type===G.CDATA}function Ie(e){return e.type===G.Text}function ws(e){return e.type===G.Comment}function ra(e){return e.type===G.Directive}function Ye(e){return e.type===G.Root}function ee(e){return Object.prototype.hasOwnProperty.call(e,"children")}function It(e,t=!1){let a;if(Ie(e))a=new St(e.data);else if(ws(e))a=new Sa(e.data);else if(F(e)){const i=t?Us(e.children):[],n=new Oa(e.name,{...e.attribs},i);i.forEach(o=>o.parent=n),e.namespace!=null&&(n.namespace=e.namespace),e["x-attribsNamespace"]&&(n["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(n["x-attribsPrefix"]={...e["x-attribsPrefix"]}),a=n}else if(Ts(e)){const i=t?Us(e.children):[],n=new ln(i);i.forEach(o=>o.parent=n),a=n}else if(Ye(e)){const i=t?Us(e.children):[],n=new Je(i);i.forEach(o=>o.parent=n),e["x-mode"]&&(n["x-mode"]=e["x-mode"]),a=n}else if(ra(e)){const i=new Ia(e.name,e.data);e["x-name"]!=null&&(i["x-name"]=e["x-name"],i["x-publicId"]=e["x-publicId"],i["x-systemId"]=e["x-systemId"]),a=i}else throw new Error(`Not implemented yet: ${e.type}`);return a.startIndex=e.startIndex,a.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(a.sourceCodeLocation=e.sourceCodeLocation),a}function Us(e){const t=e.map(a=>It(a,!0));for(let a=1;a<t.length;a++)t[a].prev=t[a-1],t[a-1].next=t[a];return t}const ai={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Bo{constructor(t,a,i){this.dom=[],this.root=new Je(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof a=="function"&&(i=a,a=ai),typeof t=="object"&&(a=t,t=void 0),this.callback=t??null,this.options=a??ai,this.elementCB=i??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new Je(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,a){const i=this.options.xmlMode?G.Tag:void 0,n=new Oa(t,a,void 0,i);this.addNode(n),this.tagStack.push(n)}ontext(t){const{lastNode:a}=this;if(a&&a.type===G.Text)a.data+=t,this.options.withEndIndices&&(a.endIndex=this.parser.endIndex);else{const i=new St(t);this.addNode(i),this.lastNode=i}}oncomment(t){if(this.lastNode&&this.lastNode.type===G.Comment){this.lastNode.data+=t;return}const a=new Sa(t);this.addNode(a),this.lastNode=a}oncommentend(){this.lastNode=null}oncdatastart(){const t=new St(""),a=new ln([t]);this.addNode(a),t.parent=a,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,a){const i=new Ia(t,a);this.addNode(i)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const a=this.tagStack[this.tagStack.length-1],i=a.children[a.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),a.children.push(t),i&&(t.prev=i,i.next=t),t.parent=a,this.lastNode=null}}const ii=/["&'<>$\x80-\uFFFF]/g,Uo=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),Fo=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function dn(e){let t="",a=0,i;for(;(i=ii.exec(e))!==null;){const n=i.index,o=e.charCodeAt(n),u=Uo.get(o);u!==void 0?(t+=e.substring(a,n)+u,a=n+1):(t+=`${e.substring(a,n)}&#x${Fo(e,n).toString(16)};`,a=ii.lastIndex+=+((o&64512)===55296))}return t+e.substr(a)}function mn(e,t){return function(i){let n,o=0,u="";for(;n=e.exec(i);)o!==n.index&&(u+=i.substring(o,n.index)),u+=t.get(n[0].charCodeAt(0)),o=n.index+1;return u+i.substring(o)}}const Ho=mn(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),qo=mn(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),zo=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Vo=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Yo=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function $o(e){return e.replace(/"/g,"&quot;")}function Go(e,t){var a;if(!e)return;const i=((a=t.encodeEntities)!==null&&a!==void 0?a:t.decodeEntities)===!1?$o:t.xmlMode||t.encodeEntities!=="utf8"?dn:Ho;return Object.keys(e).map(n=>{var o,u;const l=(o=e[n])!==null&&o!==void 0?o:"";return t.xmlMode==="foreign"&&(n=(u=Vo.get(n))!==null&&u!==void 0?u:n),!t.emptyAttrs&&!t.xmlMode&&l===""?n:`${n}="${i(l)}"`}).join(" ")}const ni=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function As(e,t={}){const a="length"in e?e:[e];let i="";for(let n=0;n<a.length;n++)i+=Wo(a[n],t);return i}function Wo(e,t){switch(e.type){case Aa:return As(e.children,t);case Mo:case Do:return Jo(e);case un:return tu(e);case Po:return eu(e);case Lo:case Ro:case na:return Xo(e,t);case on:return Zo(e,t)}}const Ko=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Qo=new Set(["svg","math"]);function Xo(e,t){var a;t.xmlMode==="foreign"&&(e.name=(a=zo.get(e.name))!==null&&a!==void 0?a:e.name,e.parent&&Ko.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&Qo.has(e.name)&&(t={...t,xmlMode:"foreign"});let i=`<${e.name}`;const n=Go(e.attribs,t);return n&&(i+=` ${n}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&ni.has(e.name))?(t.xmlMode||(i+=" "),i+="/>"):(i+=">",e.children.length>0&&(i+=As(e.children,t)),(t.xmlMode||!ni.has(e.name))&&(i+=`</${e.name}>`)),i}function Jo(e){return`<${e.data}>`}function Zo(e,t){var a;let i=e.data||"";return((a=t.encodeEntities)!==null&&a!==void 0?a:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&Yo.has(e.parent.name))&&(i=t.xmlMode||t.encodeEntities!=="utf8"?dn(i):qo(i)),i}function eu(e){return`<![CDATA[${e.children[0].data}]]>`}function tu(e){return`<!--${e.data}-->`}function hn(e,t){return As(e,t)}function su(e,t){return ee(e)?e.children.map(a=>hn(a,t)).join(""):""}function es(e){return Array.isArray(e)?e.map(es).join(""):F(e)?e.name==="br"?`
`:es(e.children):Ts(e)?es(e.children):Ie(e)?e.data:""}function ut(e){return Array.isArray(e)?e.map(ut).join(""):ee(e)&&!ws(e)?ut(e.children):Ie(e)?e.data:""}function is(e){return Array.isArray(e)?e.map(is).join(""):ee(e)&&(e.type===G.Tag||Ts(e))?is(e.children):Ie(e)?e.data:""}function Cs(e){return ee(e)?e.children:[]}function gn(e){return e.parent||null}function xn(e){const t=gn(e);if(t!=null)return Cs(t);const a=[e];let{prev:i,next:n}=e;for(;i!=null;)a.unshift(i),{prev:i}=i;for(;n!=null;)a.push(n),{next:n}=n;return a}function au(e,t){var a;return(a=e.attribs)===null||a===void 0?void 0:a[t]}function iu(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function nu(e){return e.name}function Da(e){let{next:t}=e;for(;t!==null&&!F(t);)({next:t}=t);return t}function La(e){let{prev:t}=e;for(;t!==null&&!F(t);)({prev:t}=t);return t}function et(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,a=t.lastIndexOf(e);a>=0&&t.splice(a,1)}e.next=null,e.prev=null,e.parent=null}function ru(e,t){const a=t.prev=e.prev;a&&(a.next=t);const i=t.next=e.next;i&&(i.prev=t);const n=t.parent=e.parent;if(n){const o=n.children;o[o.lastIndexOf(e)]=t,e.parent=null}}function ou(e,t){if(et(t),t.next=null,t.parent=e,e.children.push(t)>1){const a=e.children[e.children.length-2];a.next=t,t.prev=a}else t.prev=null}function uu(e,t){et(t);const{parent:a}=e,i=e.next;if(t.next=i,t.prev=e,e.next=t,t.parent=a,i){if(i.prev=t,a){const n=a.children;n.splice(n.lastIndexOf(i),0,t)}}else a&&a.children.push(t)}function cu(e,t){if(et(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){const a=e.children[1];a.prev=t,t.next=a}else t.next=null}function lu(e,t){et(t);const{parent:a}=e;if(a){const i=a.children;i.splice(i.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=a,t.prev=e.prev,t.next=e,e.prev=t}function Bt(e,t,a=!0,i=1/0){return Ra(e,Array.isArray(t)?t:[t],a,i)}function Ra(e,t,a,i){const n=[],o=[Array.isArray(t)?t:[t]],u=[0];for(;;){if(u[0]>=o[0].length){if(u.length===1)return n;o.shift(),u.shift();continue}const l=o[0][u[0]++];if(e(l)&&(n.push(l),--i<=0))return n;a&&ee(l)&&l.children.length>0&&(u.unshift(0),o.unshift(l.children))}}function du(e,t){return t.find(e)}function Pa(e,t,a=!0){const i=Array.isArray(t)?t:[t];for(let n=0;n<i.length;n++){const o=i[n];if(F(o)&&e(o))return o;if(a&&ee(o)&&o.children.length>0){const u=Pa(e,o.children,!0);if(u)return u}}return null}function pn(e,t){return(Array.isArray(t)?t:[t]).some(a=>F(a)&&e(a)||ee(a)&&pn(e,a.children))}function mu(e,t){const a=[],i=[Array.isArray(t)?t:[t]],n=[0];for(;;){if(n[0]>=i[0].length){if(i.length===1)return a;i.shift(),n.shift();continue}const o=i[0][n[0]++];F(o)&&e(o)&&a.push(o),ee(o)&&o.children.length>0&&(n.unshift(0),i.unshift(o.children))}}const ns={tag_name(e){return typeof e=="function"?t=>F(t)&&e(t.name):e==="*"?F:t=>F(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>Ie(t)&&e(t.data):t=>Ie(t)&&t.data===e}};function Ma(e,t){return typeof t=="function"?a=>F(a)&&t(a.attribs[e]):a=>F(a)&&a.attribs[e]===t}function hu(e,t){return a=>e(a)||t(a)}function fn(e){const t=Object.keys(e).map(a=>{const i=e[a];return Object.prototype.hasOwnProperty.call(ns,a)?ns[a](i):Ma(a,i)});return t.length===0?null:t.reduce(hu)}function gu(e,t){const a=fn(e);return a?a(t):!0}function xu(e,t,a,i=1/0){const n=fn(e);return n?Bt(n,t,a,i):[]}function pu(e,t,a=!0){return Array.isArray(t)||(t=[t]),Pa(Ma("id",e),t,a)}function lt(e,t,a=!0,i=1/0){return Bt(ns.tag_name(e),t,a,i)}function fu(e,t,a=!0,i=1/0){return Bt(Ma("class",e),t,a,i)}function bu(e,t,a=!0,i=1/0){return Bt(ns.tag_type(e),t,a,i)}function yu(e){let t=e.length;for(;--t>=0;){const a=e[t];if(t>0&&e.lastIndexOf(a,t-1)>=0){e.splice(t,1);continue}for(let i=a.parent;i;i=i.parent)if(e.includes(i)){e.splice(t,1);break}}return e}var Ne;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(Ne||(Ne={}));function bn(e,t){const a=[],i=[];if(e===t)return 0;let n=ee(e)?e:e.parent;for(;n;)a.unshift(n),n=n.parent;for(n=ee(t)?t:t.parent;n;)i.unshift(n),n=n.parent;const o=Math.min(a.length,i.length);let u=0;for(;u<o&&a[u]===i[u];)u++;if(u===0)return Ne.DISCONNECTED;const l=a[u-1],c=l.children,h=a[u],p=i[u];return c.indexOf(h)>c.indexOf(p)?l===t?Ne.FOLLOWING|Ne.CONTAINED_BY:Ne.FOLLOWING:l===e?Ne.PRECEDING|Ne.CONTAINS:Ne.PRECEDING}function dt(e){return e=e.filter((t,a,i)=>!i.includes(t,a+1)),e.sort((t,a)=>{const i=bn(t,a);return i&Ne.PRECEDING?-1:i&Ne.FOLLOWING?1:0}),e}function Nu(e){const t=rs(Tu,e);return t?t.name==="feed"?vu(t):_u(t):null}function vu(e){var t;const a=e.children,i={type:"atom",items:lt("entry",a).map(u=>{var l;const{children:c}=u,h={media:yn(c)};ge(h,"id","id",c),ge(h,"title","title",c);const p=(l=rs("link",c))===null||l===void 0?void 0:l.attribs.href;p&&(h.link=p);const f=He("summary",c)||He("content",c);f&&(h.description=f);const g=He("updated",c);return g&&(h.pubDate=new Date(g)),h})};ge(i,"id","id",a),ge(i,"title","title",a);const n=(t=rs("link",a))===null||t===void 0?void 0:t.attribs.href;n&&(i.link=n),ge(i,"description","subtitle",a);const o=He("updated",a);return o&&(i.updated=new Date(o)),ge(i,"author","email",a,!0),i}function _u(e){var t,a;const i=(a=(t=rs("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&a!==void 0?a:[],n={type:e.name.substr(0,3),id:"",items:lt("item",e.children).map(u=>{const{children:l}=u,c={media:yn(l)};ge(c,"id","guid",l),ge(c,"title","title",l),ge(c,"link","link",l),ge(c,"description","description",l);const h=He("pubDate",l)||He("dc:date",l);return h&&(c.pubDate=new Date(h)),c})};ge(n,"title","title",i),ge(n,"link","link",i),ge(n,"description","description",i);const o=He("lastBuildDate",i);return o&&(n.updated=new Date(o)),ge(n,"author","managingEditor",i,!0),n}const Eu=["url","type","lang"],ju=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function yn(e){return lt("media:content",e).map(t=>{const{attribs:a}=t,i={medium:a.medium,isDefault:!!a.isDefault};for(const n of Eu)a[n]&&(i[n]=a[n]);for(const n of ju)a[n]&&(i[n]=parseInt(a[n],10));return a.expression&&(i.expression=a.expression),i})}function rs(e,t){return lt(e,t,!0,1)[0]}function He(e,t,a=!1){return ut(lt(e,t,a,1)).trim()}function ge(e,t,a,i,n=!1){const o=He(a,i,n);o&&(e[t]=o)}function Tu(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}const Ss=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return Ne},append:uu,appendChild:ou,compareDocumentPosition:bn,existsOne:pn,filter:Bt,find:Ra,findAll:mu,findOne:Pa,findOneChild:du,getAttributeValue:au,getChildren:Cs,getElementById:pu,getElements:xu,getElementsByClassName:fu,getElementsByTagName:lt,getElementsByTagType:bu,getFeed:Nu,getInnerHTML:su,getName:nu,getOuterHTML:hn,getParent:gn,getSiblings:xn,getText:es,hasAttrib:iu,hasChildren:ee,innerText:is,isCDATA:Ts,isComment:ws,isDocument:Ye,isTag:F,isText:Ie,nextElementSibling:Da,prepend:lu,prependChild:cu,prevElementSibling:La,removeElement:et,removeSubsets:yu,replaceElement:ru,testElement:gu,textContent:ut,uniqueSort:dt},Symbol.toStringTag,{value:"Module"})),wu={_useHtmlParser2:!1};function oa(e,t){if(!e)return t??wu;const a={_useHtmlParser2:!!e.xmlMode,...t,...e};return e.xml?(a._useHtmlParser2=!0,a.xmlMode=!0,e.xml!==!0&&Object.assign(a,e.xml)):e.xmlMode&&(a._useHtmlParser2=!0),a}function Nn(e,t,a){return e?e(t??e._root.children,null,void 0,a).toString():""}function Au(e,t){return typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function Cu(e,t){const a=Au(e)?(t=e,void 0):e,i={...this===null||this===void 0?void 0:this._options,...oa(t)};return Nn(this,a,i)}function Su(e){const t={...this._options,xmlMode:!0};return Nn(this,e,t)}function kt(e){const t=e??(this?this.root():[]);let a="";for(let i=0;i<t.length;i++)a+=ut(t[i]);return a}function Iu(e,t,a=typeof t=="boolean"?t:!1){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(a=t);const i=this.load(e,this._options,!1);return a||i("script").remove(),[...i.root()[0].children]}function ku(){return this(this._root)}function vn(e,t){if(t===e)return!1;let a=t;for(;a&&a!==a.parent;)if(a=a.parent,a===e)return!0;return!1}function Ou(e){return this.root().extract(e)}function Du(e,t){if(!ri(e)||!ri(t))return;let a=e.length;const i=+t.length;for(let n=0;n<i;n++)e[a++]=t[n];return e.length=a,e}function ri(e){if(Array.isArray(e))return!0;if(typeof e!="object"||e===null||!("length"in e)||typeof e.length!="number"||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}const Lu=Object.freeze(Object.defineProperty({__proto__:null,contains:vn,extract:Ou,html:Cu,merge:Du,parseHTML:Iu,root:ku,text:kt,xml:Su},Symbol.toStringTag,{value:"Module"}));function Pe(e){return e.cheerio!=null}function Ru(e){return e.replace(/[._-](\w|$)/g,(t,a)=>a.toUpperCase())}function Pu(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function Z(e,t){const a=e.length;for(let i=0;i<a;i++)t(e[i],i);return e}var Ke;(function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"})(Ke||(Ke={}));function ua(e){const t=e.indexOf("<");if(t===-1||t>e.length-3)return!1;const a=e.charCodeAt(t+1);return(a>=Ke.LowerA&&a<=Ke.LowerZ||a>=Ke.UpperA&&a<=Ke.UpperZ||a===Ke.Exclamation)&&e.includes(">",t+2)}const Mu=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),Bu=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0)));var Fs;const Uu=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),oi=(Fs=String.fromCodePoint)!==null&&Fs!==void 0?Fs:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Fu(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Uu.get(e))!==null&&t!==void 0?t:e}var re;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(re||(re={}));const Hu=32;var qe;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(qe||(qe={}));function ca(e){return e>=re.ZERO&&e<=re.NINE}function qu(e){return e>=re.UPPER_A&&e<=re.UPPER_F||e>=re.LOWER_A&&e<=re.LOWER_F}function zu(e){return e>=re.UPPER_A&&e<=re.UPPER_Z||e>=re.LOWER_A&&e<=re.LOWER_Z||ca(e)}function Vu(e){return e===re.EQUALS||zu(e)}var ie;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ie||(ie={}));var Ae;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Ae||(Ae={}));let Yu=class{constructor(t,a,i){this.decodeTree=t,this.emitCodePoint=a,this.errors=i,this.state=ie.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ae.Strict}startEntity(t){this.decodeMode=t,this.state=ie.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,a){switch(this.state){case ie.EntityStart:return t.charCodeAt(a)===re.NUM?(this.state=ie.NumericStart,this.consumed+=1,this.stateNumericStart(t,a+1)):(this.state=ie.NamedEntity,this.stateNamedEntity(t,a));case ie.NumericStart:return this.stateNumericStart(t,a);case ie.NumericDecimal:return this.stateNumericDecimal(t,a);case ie.NumericHex:return this.stateNumericHex(t,a);case ie.NamedEntity:return this.stateNamedEntity(t,a)}}stateNumericStart(t,a){return a>=t.length?-1:(t.charCodeAt(a)|Hu)===re.LOWER_X?(this.state=ie.NumericHex,this.consumed+=1,this.stateNumericHex(t,a+1)):(this.state=ie.NumericDecimal,this.stateNumericDecimal(t,a))}addToNumericResult(t,a,i,n){if(a!==i){const o=i-a;this.result=this.result*Math.pow(n,o)+Number.parseInt(t.substr(a,o),n),this.consumed+=o}}stateNumericHex(t,a){const i=a;for(;a<t.length;){const n=t.charCodeAt(a);if(ca(n)||qu(n))a+=1;else return this.addToNumericResult(t,i,a,16),this.emitNumericEntity(n,3)}return this.addToNumericResult(t,i,a,16),-1}stateNumericDecimal(t,a){const i=a;for(;a<t.length;){const n=t.charCodeAt(a);if(ca(n))a+=1;else return this.addToNumericResult(t,i,a,10),this.emitNumericEntity(n,2)}return this.addToNumericResult(t,i,a,10),-1}emitNumericEntity(t,a){var i;if(this.consumed<=a)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===re.SEMI)this.consumed+=1;else if(this.decodeMode===Ae.Strict)return 0;return this.emitCodePoint(Fu(this.result),this.consumed),this.errors&&(t!==re.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,a){const{decodeTree:i}=this;let n=i[this.treeIndex],o=(n&qe.VALUE_LENGTH)>>14;for(;a<t.length;a++,this.excess++){const u=t.charCodeAt(a);if(this.treeIndex=$u(i,n,this.treeIndex+Math.max(1,o),u),this.treeIndex<0)return this.result===0||this.decodeMode===Ae.Attribute&&(o===0||Vu(u))?0:this.emitNotTerminatedNamedEntity();if(n=i[this.treeIndex],o=(n&qe.VALUE_LENGTH)>>14,o!==0){if(u===re.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Ae.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:a,decodeTree:i}=this,n=(i[a]&qe.VALUE_LENGTH)>>14;return this.emitNamedEntityData(a,n,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,a,i){const{decodeTree:n}=this;return this.emitCodePoint(a===1?n[t]&~qe.VALUE_LENGTH:n[t+1],i),a===3&&this.emitCodePoint(n[t+2],i),i}end(){var t;switch(this.state){case ie.NamedEntity:return this.result!==0&&(this.decodeMode!==Ae.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ie.NumericDecimal:return this.emitNumericEntity(0,2);case ie.NumericHex:return this.emitNumericEntity(0,3);case ie.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ie.EntityStart:return 0}}};function $u(e,t,a,i){const n=(t&qe.BRANCH_LENGTH)>>7,o=t&qe.JUMP_TABLE;if(n===0)return o!==0&&i===o?a:-1;if(o){const c=i-o;return c<0||c>=n?-1:e[a+c]-1}let u=a,l=u+n-1;for(;u<=l;){const c=u+l>>>1,h=e[c];if(h<i)u=c+1;else if(h>i)l=c-1;else return e[c+n]}return-1}var U;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(U||(U={}));var L;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(L||(L={}));function De(e){return e===U.Space||e===U.NewLine||e===U.Tab||e===U.FormFeed||e===U.CarriageReturn}function $t(e){return e===U.Slash||e===U.Gt||De(e)}function Gu(e){return e>=U.LowerA&&e<=U.LowerZ||e>=U.UpperA&&e<=U.UpperZ}var Ce;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(Ce||(Ce={}));const te={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};let Wu=class{constructor({xmlMode:t=!1,decodeEntities:a=!0},i){this.cbs=i,this.state=L.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=L.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=a,this.entityDecoder=new Yu(t?Bu:Mu,(n,o)=>this.emitCodePoint(n,o))}reset(){this.state=L.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=L.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===U.Lt||!this.decodeEntities&&this.fastForwardTo(U.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=L.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===U.Amp&&this.startEntity()}stateSpecialStartSequence(t){const a=this.sequenceIndex===this.currentSequence.length;if(!(a?$t(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!a){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=L.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===U.Gt||De(t)){const a=this.index-this.currentSequence.length;if(this.sectionStart<a){const i=this.index;this.index=a,this.cbs.ontext(this.sectionStart,a),this.index=i}this.isSpecial=!1,this.sectionStart=a+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===te.TitleEnd?this.decodeEntities&&t===U.Amp&&this.startEntity():this.fastForwardTo(U.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===U.Lt)}stateCDATASequence(t){t===te.Cdata[this.sequenceIndex]?++this.sequenceIndex===te.Cdata.length&&(this.state=L.InCommentLike,this.currentSequence=te.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=L.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===te.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=L.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!$t(t):Gu(t)}startSpecial(t,a){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=a,this.state=L.SpecialStartSequence}stateBeforeTagName(t){if(t===U.ExclamationMark)this.state=L.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===U.Questionmark)this.state=L.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const a=t|32;this.sectionStart=this.index,this.xmlMode?this.state=L.InTagName:a===te.ScriptEnd[2]?this.state=L.BeforeSpecialS:a===te.TitleEnd[2]||a===te.XmpEnd[2]?this.state=L.BeforeSpecialT:this.state=L.InTagName}else t===U.Slash?this.state=L.BeforeClosingTagName:(this.state=L.Text,this.stateText(t))}stateInTagName(t){$t(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=L.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){De(t)||(t===U.Gt?this.state=L.Text:(this.state=this.isTagStartChar(t)?L.InClosingTagName:L.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===U.Gt||De(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=L.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===U.Gt||this.fastForwardTo(U.Gt))&&(this.state=L.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===U.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=L.InSpecialTag,this.sequenceIndex=0):this.state=L.Text,this.sectionStart=this.index+1):t===U.Slash?this.state=L.InSelfClosingTag:De(t)||(this.state=L.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===U.Gt?(this.cbs.onselfclosingtag(this.index),this.state=L.Text,this.sectionStart=this.index+1,this.isSpecial=!1):De(t)||(this.state=L.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===U.Eq||$t(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=L.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===U.Eq?this.state=L.BeforeAttributeValue:t===U.Slash||t===U.Gt?(this.cbs.onattribend(Ce.NoValue,this.sectionStart),this.sectionStart=-1,this.state=L.BeforeAttributeName,this.stateBeforeAttributeName(t)):De(t)||(this.cbs.onattribend(Ce.NoValue,this.sectionStart),this.state=L.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===U.DoubleQuote?(this.state=L.InAttributeValueDq,this.sectionStart=this.index+1):t===U.SingleQuote?(this.state=L.InAttributeValueSq,this.sectionStart=this.index+1):De(t)||(this.sectionStart=this.index,this.state=L.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,a){t===a||!this.decodeEntities&&this.fastForwardTo(a)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(a===U.DoubleQuote?Ce.Double:Ce.Single,this.index+1),this.state=L.BeforeAttributeName):this.decodeEntities&&t===U.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,U.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,U.SingleQuote)}stateInAttributeValueNoQuotes(t){De(t)||t===U.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Ce.Unquoted,this.index),this.state=L.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===U.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===U.OpeningSquareBracket?(this.state=L.CDATASequence,this.sequenceIndex=0):this.state=t===U.Dash?L.BeforeComment:L.InDeclaration}stateInDeclaration(t){(t===U.Gt||this.fastForwardTo(U.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=L.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===U.Gt||this.fastForwardTo(U.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=L.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===U.Dash?(this.state=L.InCommentLike,this.currentSequence=te.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=L.InDeclaration}stateInSpecialComment(t){(t===U.Gt||this.fastForwardTo(U.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=L.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const a=t|32;a===te.ScriptEnd[3]?this.startSpecial(te.ScriptEnd,4):a===te.StyleEnd[3]?this.startSpecial(te.StyleEnd,4):(this.state=L.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){switch(t|32){case te.TitleEnd[3]:{this.startSpecial(te.TitleEnd,4);break}case te.TextareaEnd[3]:{this.startSpecial(te.TextareaEnd,4);break}case te.XmpEnd[3]:{this.startSpecial(te.XmpEnd,4);break}default:this.state=L.InTagName,this.stateInTagName(t)}}startEntity(){this.baseState=this.state,this.state=L.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Ae.Strict:this.baseState===L.Text||this.baseState===L.InSpecialTag?Ae.Legacy:Ae.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===L.Text||this.state===L.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===L.InAttributeValueDq||this.state===L.InAttributeValueSq||this.state===L.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case L.Text:{this.stateText(t);break}case L.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case L.InSpecialTag:{this.stateInSpecialTag(t);break}case L.CDATASequence:{this.stateCDATASequence(t);break}case L.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case L.InAttributeName:{this.stateInAttributeName(t);break}case L.InCommentLike:{this.stateInCommentLike(t);break}case L.InSpecialComment:{this.stateInSpecialComment(t);break}case L.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case L.InTagName:{this.stateInTagName(t);break}case L.InClosingTagName:{this.stateInClosingTagName(t);break}case L.BeforeTagName:{this.stateBeforeTagName(t);break}case L.AfterAttributeName:{this.stateAfterAttributeName(t);break}case L.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case L.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case L.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case L.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case L.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case L.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case L.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case L.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case L.InDeclaration:{this.stateInDeclaration(t);break}case L.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case L.BeforeComment:{this.stateBeforeComment(t);break}case L.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case L.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===L.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===L.InCommentLike?this.currentSequence===te.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===L.InTagName||this.state===L.BeforeAttributeName||this.state===L.BeforeAttributeValue||this.state===L.AfterAttributeName||this.state===L.InAttributeName||this.state===L.InAttributeValueSq||this.state===L.InAttributeValueDq||this.state===L.InAttributeValueNq||this.state===L.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,a){this.baseState!==L.Text&&this.baseState!==L.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+a,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+a,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}};const at=new Set(["input","option","optgroup","select","button","datalist","textarea"]),K=new Set(["p"]),ui=new Set(["thead","tbody"]),ci=new Set(["dd","dt"]),li=new Set(["rt","rp"]),Ku=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",K],["h1",K],["h2",K],["h3",K],["h4",K],["h5",K],["h6",K],["select",at],["input",at],["output",at],["button",at],["datalist",at],["textarea",at],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",ci],["dt",ci],["address",K],["article",K],["aside",K],["blockquote",K],["details",K],["div",K],["dl",K],["fieldset",K],["figcaption",K],["figure",K],["footer",K],["form",K],["header",K],["hr",K],["main",K],["nav",K],["ol",K],["pre",K],["section",K],["table",K],["ul",K],["rt",li],["rp",li],["tbody",ui],["tfoot",ui]]),Qu=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),di=new Set(["math","svg"]),mi=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Xu=/\s|\//;let Ju=class{constructor(t,a={}){var i,n,o,u,l,c;this.options=a,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(i=a.lowerCaseTags)!==null&&i!==void 0?i:this.htmlMode,this.lowerCaseAttributeNames=(n=a.lowerCaseAttributeNames)!==null&&n!==void 0?n:this.htmlMode,this.recognizeSelfClosing=(o=a.recognizeSelfClosing)!==null&&o!==void 0?o:!this.htmlMode,this.tokenizer=new((u=a.Tokenizer)!==null&&u!==void 0?u:Wu)(this.options,this),this.foreignContext=[!this.htmlMode],(c=(l=this.cbs).onparserinit)===null||c===void 0||c.call(l,this)}ontext(t,a){var i,n;const o=this.getSlice(t,a);this.endIndex=a-1,(n=(i=this.cbs).ontext)===null||n===void 0||n.call(i,o),this.startIndex=a}ontextentity(t,a){var i,n;this.endIndex=a-1,(n=(i=this.cbs).ontext)===null||n===void 0||n.call(i,oi(t)),this.startIndex=a}isVoidElement(t){return this.htmlMode&&Qu.has(t)}onopentagname(t,a){this.endIndex=a;let i=this.getSlice(t,a);this.lowerCaseTagNames&&(i=i.toLowerCase()),this.emitOpenTag(i)}emitOpenTag(t){var a,i,n,o;this.openTagStart=this.startIndex,this.tagname=t;const u=this.htmlMode&&Ku.get(t);if(u)for(;this.stack.length>0&&u.has(this.stack[0]);){const l=this.stack.shift();(i=(a=this.cbs).onclosetag)===null||i===void 0||i.call(a,l,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(di.has(t)?this.foreignContext.unshift(!0):mi.has(t)&&this.foreignContext.unshift(!1))),(o=(n=this.cbs).onopentagname)===null||o===void 0||o.call(n,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var a,i;this.startIndex=this.openTagStart,this.attribs&&((i=(a=this.cbs).onopentag)===null||i===void 0||i.call(a,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,a){var i,n,o,u,l,c,h,p;this.endIndex=a;let f=this.getSlice(t,a);if(this.lowerCaseTagNames&&(f=f.toLowerCase()),this.htmlMode&&(di.has(f)||mi.has(f))&&this.foreignContext.shift(),this.isVoidElement(f))this.htmlMode&&f==="br"&&((u=(o=this.cbs).onopentagname)===null||u===void 0||u.call(o,"br"),(c=(l=this.cbs).onopentag)===null||c===void 0||c.call(l,"br",{},!0),(p=(h=this.cbs).onclosetag)===null||p===void 0||p.call(h,"br",!1));else{const g=this.stack.indexOf(f);if(g!==-1)for(let d=0;d<=g;d++){const m=this.stack.shift();(n=(i=this.cbs).onclosetag)===null||n===void 0||n.call(i,m,d!==g)}else this.htmlMode&&f==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=a+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var a,i;const n=this.tagname;this.endOpenTag(t),this.stack[0]===n&&((i=(a=this.cbs).onclosetag)===null||i===void 0||i.call(a,n,!t),this.stack.shift())}onattribname(t,a){this.startIndex=t;const i=this.getSlice(t,a);this.attribname=this.lowerCaseAttributeNames?i.toLowerCase():i}onattribdata(t,a){this.attribvalue+=this.getSlice(t,a)}onattribentity(t){this.attribvalue+=oi(t)}onattribend(t,a){var i,n;this.endIndex=a,(n=(i=this.cbs).onattribute)===null||n===void 0||n.call(i,this.attribname,this.attribvalue,t===Ce.Double?'"':t===Ce.Single?"'":t===Ce.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const a=t.search(Xu);let i=a<0?t:t.substr(0,a);return this.lowerCaseTagNames&&(i=i.toLowerCase()),i}ondeclaration(t,a){this.endIndex=a;const i=this.getSlice(t,a);if(this.cbs.onprocessinginstruction){const n=this.getInstructionName(i);this.cbs.onprocessinginstruction(`!${n}`,`!${i}`)}this.startIndex=a+1}onprocessinginstruction(t,a){this.endIndex=a;const i=this.getSlice(t,a);if(this.cbs.onprocessinginstruction){const n=this.getInstructionName(i);this.cbs.onprocessinginstruction(`?${n}`,`?${i}`)}this.startIndex=a+1}oncomment(t,a,i){var n,o,u,l;this.endIndex=a,(o=(n=this.cbs).oncomment)===null||o===void 0||o.call(n,this.getSlice(t,a-i)),(l=(u=this.cbs).oncommentend)===null||l===void 0||l.call(u),this.startIndex=a+1}oncdata(t,a,i){var n,o,u,l,c,h,p,f,g,d;this.endIndex=a;const m=this.getSlice(t,a-i);!this.htmlMode||this.options.recognizeCDATA?((o=(n=this.cbs).oncdatastart)===null||o===void 0||o.call(n),(l=(u=this.cbs).ontext)===null||l===void 0||l.call(u,m),(h=(c=this.cbs).oncdataend)===null||h===void 0||h.call(c)):((f=(p=this.cbs).oncomment)===null||f===void 0||f.call(p,`[CDATA[${m}]]`),(d=(g=this.cbs).oncommentend)===null||d===void 0||d.call(g)),this.startIndex=a+1}onend(){var t,a;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let i=0;i<this.stack.length;i++)this.cbs.onclosetag(this.stack[i],!0)}(a=(t=this.cbs).onend)===null||a===void 0||a.call(t)}reset(){var t,a,i,n;(a=(t=this.cbs).onreset)===null||a===void 0||a.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(n=(i=this.cbs).onparserinit)===null||n===void 0||n.call(i,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,a){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let i=this.buffers[0].slice(t-this.bufferOffset,a-this.bufferOffset);for(;a-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),i+=this.buffers[0].slice(0,a-this.bufferOffset);return i}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var a,i;if(this.ended){(i=(a=this.cbs).onerror)===null||i===void 0||i.call(a,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var a,i;if(this.ended){(i=(a=this.cbs).onerror)===null||i===void 0||i.call(a,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}};function Zu(e,t){const a=new Bo(void 0,t);return new Ju(a,t).end(e),a.root}var Hs;const Ot=(Hs=Object.hasOwn)!==null&&Hs!==void 0?Hs:((e,t)=>Object.prototype.hasOwnProperty.call(e,t)),Dt=/\s+/,la="data-",Ba=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ec=/^{[^]*}$|^\[[^]*]$/;function os(e,t,a){var i;if(!(!e||!F(e))){if((i=e.attribs)!==null&&i!==void 0||(e.attribs={}),!t)return e.attribs;if(Ot(e.attribs,t))return!a&&Ba.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return kt(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function nt(e,t,a){a===null?En(e,t):e.attribs[t]=`${a}`}function tc(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return Z(this,(a,i)=>{F(a)&&nt(a,e,t.call(a,i,a.attribs[e]))})}return Z(this,a=>{if(F(a))if(typeof e=="object")for(const i of Object.keys(e)){const n=e[i];nt(a,i,n)}else nt(a,e,t)})}return arguments.length>1?this:os(this[0],e,this.options.xmlMode)}function hi(e,t,a){return t in e?e[t]:!a&&Ba.test(t)?os(e,t,!1)!==void 0:os(e,t,a)}function qs(e,t,a,i){t in e?e[t]=a:nt(e,t,!i&&Ba.test(t)?a?"":null:`${a}`)}function sc(e,t){var a;if(typeof e=="string"&&t===void 0){const i=this[0];if(!i)return;switch(e){case"style":{const n=this.css(),o=Object.keys(n);for(let u=0;u<o.length;u++)n[u]=o[u];return n.length=o.length,n}case"tagName":case"nodeName":return F(i)?i.name.toUpperCase():void 0;case"href":case"src":{if(!F(i))return;const n=(a=i.attribs)===null||a===void 0?void 0:a[e];return typeof URL<"u"&&(e==="href"&&(i.tagName==="a"||i.tagName==="link")||e==="src"&&(i.tagName==="img"||i.tagName==="iframe"||i.tagName==="audio"||i.tagName==="video"||i.tagName==="source"))&&n!==void 0&&this.options.baseURI?new URL(n,this.options.baseURI).href:n}case"innerText":return is(i);case"textContent":return ut(i);case"outerHTML":return i.type===Aa?this.html():this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return F(i)?hi(i,e,this.options.xmlMode):void 0}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new TypeError("Bad combination of arguments.");return Z(this,(i,n)=>{F(i)&&qs(i,e,t.call(i,n,hi(i,e,this.options.xmlMode)),this.options.xmlMode)})}return Z(this,i=>{if(F(i))if(typeof e=="object")for(const n of Object.keys(e)){const o=e[n];qs(i,n,o,this.options.xmlMode)}else qs(i,e,t,this.options.xmlMode)})}}function gi(e,t,a){var i;(i=e.data)!==null&&i!==void 0||(e.data={}),typeof t=="object"?Object.assign(e.data,t):typeof t=="string"&&a!==void 0&&(e.data[t]=a)}function ac(e){for(const t of Object.keys(e.attribs)){if(!t.startsWith(la))continue;const a=Ru(t.slice(la.length));Ot(e.data,a)||(e.data[a]=_n(e.attribs[t]))}return e.data}function ic(e,t){const a=la+Pu(t),i=e.data;if(Ot(i,t))return i[t];if(Ot(e.attribs,a))return i[t]=_n(e.attribs[a])}function _n(e){if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;const t=Number(e);if(e===String(t))return t;if(ec.test(e))try{return JSON.parse(e)}catch{}return e}function nc(e,t){var a;const i=this[0];if(!i||!F(i))return;const n=i;return(a=n.data)!==null&&a!==void 0||(n.data={}),e==null?ac(n):typeof e=="object"||t!==void 0?(Z(this,o=>{F(o)&&(typeof e=="object"?gi(o,e):gi(o,e,t))}),this):ic(n,e)}function rc(e){const t=arguments.length===0,a=this[0];if(!a||!F(a))return t?void 0:this;switch(a.name){case"textarea":return this.text(e);case"select":{const i=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");const n=typeof e=="object"?e:[e];for(const o of n)this.find(`option[value="${o}"]`).attr("selected","");return this}return this.attr("multiple")?i.toArray().map(n=>kt(n.children)):i.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function En(e,t){!e.attribs||!Ot(e.attribs,t)||delete e.attribs[t]}function us(e){return e?e.trim().split(Dt):[]}function oc(e){const t=us(e);for(const a of t)Z(this,i=>{F(i)&&En(i,a)});return this}function uc(e){return this.toArray().some(t=>{const a=F(t)&&t.attribs.class;let i=-1;if(a&&e.length>0)for(;(i=a.indexOf(e,i+1))>-1;){const n=i+e.length;if((i===0||Dt.test(a[i-1]))&&(n===a.length||Dt.test(a[n])))return!0}return!1})}function jn(e){if(typeof e=="function")return Z(this,(i,n)=>{if(F(i)){const o=i.attribs.class||"";jn.call([i],e.call(i,n,o))}});if(!e||typeof e!="string")return this;const t=e.split(Dt),a=this.length;for(let i=0;i<a;i++){const n=this[i];if(!F(n))continue;const o=os(n,"class",!1);if(o){let u=` ${o} `;for(const l of t){const c=`${l} `;u.includes(` ${c}`)||(u+=c)}nt(n,"class",u.trim())}else nt(n,"class",t.join(" ").trim())}return this}function Tn(e){if(typeof e=="function")return Z(this,(n,o)=>{F(n)&&Tn.call([n],e.call(n,o,n.attribs.class||""))});const t=us(e),a=t.length,i=arguments.length===0;return Z(this,n=>{if(F(n))if(i)n.attribs.class="";else{const o=us(n.attribs.class);let u=!1;for(let l=0;l<a;l++){const c=o.indexOf(t[l]);c!==-1&&(o.splice(c,1),u=!0,l--)}u&&(n.attribs.class=o.join(" "))}})}function wn(e,t){if(typeof e=="function")return Z(this,(u,l)=>{F(u)&&wn.call([u],e.call(u,l,u.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;const a=e.split(Dt),i=a.length,n=typeof t=="boolean"?t?1:-1:0,o=this.length;for(let u=0;u<o;u++){const l=this[u];if(!F(l))continue;const c=us(l.attribs.class);for(let h=0;h<i;h++){const p=c.indexOf(a[h]);n>=0&&p===-1?c.push(a[h]):n<=0&&p!==-1&&c.splice(p,1)}l.attribs.class=c.join(" ")}return this}const cc=Object.freeze(Object.defineProperty({__proto__:null,addClass:jn,attr:tc,data:nc,hasClass:uc,prop:sc,removeAttr:oc,removeClass:Tn,toggleClass:wn,val:rc},Symbol.toStringTag,{value:"Module"}));var B;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(B||(B={}));var ae;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(ae||(ae={}));const xi=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,lc=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,dc=new Map([[126,ae.Element],[94,ae.Start],[36,ae.End],[42,ae.Any],[33,ae.Not],[124,ae.Hyphen]]),mc=new Set(["has","not","matches","is","where","host","host-context"]);function vt(e){switch(e.type){case B.Adjacent:case B.Child:case B.Descendant:case B.Parent:case B.Sibling:case B.ColumnCombinator:return!0;default:return!1}}const hc=new Set(["contains","icontains"]);function gc(e,t,a){const i=parseInt(t,16)-65536;return i!==i||a?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)}function ht(e){return e.replace(lc,gc)}function zs(e){return e===39||e===34}function pi(e){return e===32||e===9||e===10||e===12||e===13}function Is(e){const t=[],a=An(t,`${e}`,0);if(a<e.length)throw new Error(`Unmatched selector: ${e.slice(a)}`);return t}function An(e,t,a){let i=[];function n(g){const d=t.slice(a+g).match(xi);if(!d)throw new Error(`Expected name, found ${t.slice(a)}`);const[m]=d;return a+=g+m.length,ht(m)}function o(g){for(a+=g;a<t.length&&pi(t.charCodeAt(a));)a++}function u(){a+=1;const g=a;let d=1;for(;d>0&&a<t.length;a++)t.charCodeAt(a)===40&&!l(a)?d++:t.charCodeAt(a)===41&&!l(a)&&d--;if(d)throw new Error("Parenthesis not matched");return ht(t.slice(g,a-1))}function l(g){let d=0;for(;t.charCodeAt(--g)===92;)d++;return(d&1)===1}function c(){if(i.length>0&&vt(i[i.length-1]))throw new Error("Did not expect successive traversals.")}function h(g){if(i.length>0&&i[i.length-1].type===B.Descendant){i[i.length-1].type=g;return}c(),i.push({type:g})}function p(g,d){i.push({type:B.Attribute,name:g,action:d,value:n(1),namespace:null,ignoreCase:"quirks"})}function f(){if(i.length&&i[i.length-1].type===B.Descendant&&i.pop(),i.length===0)throw new Error("Empty sub-selector");e.push(i)}if(o(0),t.length===a)return a;e:for(;a<t.length;){const g=t.charCodeAt(a);switch(g){case 32:case 9:case 10:case 12:case 13:{(i.length===0||i[0].type!==B.Descendant)&&(c(),i.push({type:B.Descendant})),o(1);break}case 62:{h(B.Child),o(1);break}case 60:{h(B.Parent),o(1);break}case 126:{h(B.Sibling),o(1);break}case 43:{h(B.Adjacent),o(1);break}case 46:{p("class",ae.Element);break}case 35:{p("id",ae.Equals);break}case 91:{o(1);let d,m=null;t.charCodeAt(a)===124?d=n(1):t.startsWith("*|",a)?(m="*",d=n(2)):(d=n(0),t.charCodeAt(a)===124&&t.charCodeAt(a+1)!==61&&(m=d,d=n(1))),o(0);let E=ae.Exists;const T=dc.get(t.charCodeAt(a));if(T){if(E=T,t.charCodeAt(a+1)!==61)throw new Error("Expected `=`");o(2)}else t.charCodeAt(a)===61&&(E=ae.Equals,o(1));let y="",S=null;if(E!=="exists"){if(zs(t.charCodeAt(a))){const M=t.charCodeAt(a);let C=a+1;for(;C<t.length&&(t.charCodeAt(C)!==M||l(C));)C+=1;if(t.charCodeAt(C)!==M)throw new Error("Attribute value didn't end");y=ht(t.slice(a+1,C)),a=C+1}else{const M=a;for(;a<t.length&&(!pi(t.charCodeAt(a))&&t.charCodeAt(a)!==93||l(a));)a+=1;y=ht(t.slice(M,a))}o(0);const P=t.charCodeAt(a)|32;P===115?(S=!1,o(1)):P===105&&(S=!0,o(1))}if(t.charCodeAt(a)!==93)throw new Error("Attribute selector didn't terminate");a+=1;const D={type:B.Attribute,name:d,action:E,value:y,namespace:m,ignoreCase:S};i.push(D);break}case 58:{if(t.charCodeAt(a+1)===58){i.push({type:B.PseudoElement,name:n(2).toLowerCase(),data:t.charCodeAt(a)===40?u():null});continue}const d=n(1).toLowerCase();let m=null;if(t.charCodeAt(a)===40)if(mc.has(d)){if(zs(t.charCodeAt(a+1)))throw new Error(`Pseudo-selector ${d} cannot be quoted`);if(m=[],a=An(m,t,a+1),t.charCodeAt(a)!==41)throw new Error(`Missing closing parenthesis in :${d} (${t})`);a+=1}else{if(m=u(),hc.has(d)){const E=m.charCodeAt(0);E===m.charCodeAt(m.length-1)&&zs(E)&&(m=m.slice(1,-1))}m=ht(m)}i.push({type:B.Pseudo,name:d,data:m});break}case 44:{f(),i=[],o(1);break}default:{if(t.startsWith("/*",a)){const E=t.indexOf("*/",a+2);if(E<0)throw new Error("Comment was not terminated");a=E+2,i.length===0&&o(0);break}let d=null,m;if(g===42)a+=1,m="*";else if(g===124){if(m="",t.charCodeAt(a+1)===124){h(B.ColumnCombinator),o(2);break}}else if(xi.test(t.slice(a)))m=n(0);else break e;t.charCodeAt(a)===124&&t.charCodeAt(a+1)!==124&&(d=m,t.charCodeAt(a+1)===42?(m="*",a+=2):m=n(1)),i.push(m==="*"?{type:B.Universal,namespace:d}:{type:B.Tag,name:m,namespace:d})}}}return f(),a}var Vs,fi;function xc(){return fi||(fi=1,Vs={trueFunc:function(){return!0},falseFunc:function(){return!1}}),Vs}var cs=xc();const V=qi(cs),Cn=new Map([[B.Universal,50],[B.Tag,30],[B.Attribute,1],[B.Pseudo,0]]);function Ua(e){return!Cn.has(e.type)}const pc=new Map([[ae.Exists,10],[ae.Equals,8],[ae.Not,7],[ae.Start,6],[ae.End,6],[ae.Any,5]]);function fc(e){const t=e.map(Sn);for(let a=1;a<e.length;a++){const i=t[a];if(!(i<0))for(let n=a-1;n>=0&&i<t[n];n--){const o=e[n+1];e[n+1]=e[n],e[n]=o,t[n+1]=t[n],t[n]=i}}}function Sn(e){var t,a;let i=(t=Cn.get(e.type))!==null&&t!==void 0?t:-1;return e.type===B.Attribute?(i=(a=pc.get(e.action))!==null&&a!==void 0?a:4,e.action===ae.Equals&&e.name==="id"&&(i=9),e.ignoreCase&&(i>>=1)):e.type===B.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?i=0:Array.isArray(e.data)?(i=Math.min(...e.data.map(n=>Math.min(...n.map(Sn)))),i<0&&(i=0)):i=2:i=3),i}const bc=/[-[\]{}()*+?.,\\^$|#\s]/g;function bi(e){return e.replace(bc,"\\$&")}const yc=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Ge(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&yc.has(e.name)}const Nc={equals(e,t,a){const{adapter:i}=a,{name:n}=t;let{value:o}=t;return Ge(t,a)?(o=o.toLowerCase(),u=>{const l=i.getAttributeValue(u,n);return l!=null&&l.length===o.length&&l.toLowerCase()===o&&e(u)}):u=>i.getAttributeValue(u,n)===o&&e(u)},hyphen(e,t,a){const{adapter:i}=a,{name:n}=t;let{value:o}=t;const u=o.length;return Ge(t,a)?(o=o.toLowerCase(),function(c){const h=i.getAttributeValue(c,n);return h!=null&&(h.length===u||h.charAt(u)==="-")&&h.substr(0,u).toLowerCase()===o&&e(c)}):function(c){const h=i.getAttributeValue(c,n);return h!=null&&(h.length===u||h.charAt(u)==="-")&&h.substr(0,u)===o&&e(c)}},element(e,t,a){const{adapter:i}=a,{name:n,value:o}=t;if(/\s/.test(o))return V.falseFunc;const u=new RegExp(`(?:^|\\s)${bi(o)}(?:$|\\s)`,Ge(t,a)?"i":"");return function(c){const h=i.getAttributeValue(c,n);return h!=null&&h.length>=o.length&&u.test(h)&&e(c)}},exists(e,{name:t},{adapter:a}){return i=>a.hasAttrib(i,t)&&e(i)},start(e,t,a){const{adapter:i}=a,{name:n}=t;let{value:o}=t;const u=o.length;return u===0?V.falseFunc:Ge(t,a)?(o=o.toLowerCase(),l=>{const c=i.getAttributeValue(l,n);return c!=null&&c.length>=u&&c.substr(0,u).toLowerCase()===o&&e(l)}):l=>{var c;return!!(!((c=i.getAttributeValue(l,n))===null||c===void 0)&&c.startsWith(o))&&e(l)}},end(e,t,a){const{adapter:i}=a,{name:n}=t;let{value:o}=t;const u=-o.length;return u===0?V.falseFunc:Ge(t,a)?(o=o.toLowerCase(),l=>{var c;return((c=i.getAttributeValue(l,n))===null||c===void 0?void 0:c.substr(u).toLowerCase())===o&&e(l)}):l=>{var c;return!!(!((c=i.getAttributeValue(l,n))===null||c===void 0)&&c.endsWith(o))&&e(l)}},any(e,t,a){const{adapter:i}=a,{name:n,value:o}=t;if(o==="")return V.falseFunc;if(Ge(t,a)){const u=new RegExp(bi(o),"i");return function(c){const h=i.getAttributeValue(c,n);return h!=null&&h.length>=o.length&&u.test(h)&&e(c)}}return u=>{var l;return!!(!((l=i.getAttributeValue(u,n))===null||l===void 0)&&l.includes(o))&&e(u)}},not(e,t,a){const{adapter:i}=a,{name:n}=t;let{value:o}=t;return o===""?u=>!!i.getAttributeValue(u,n)&&e(u):Ge(t,a)?(o=o.toLowerCase(),u=>{const l=i.getAttributeValue(u,n);return(l==null||l.length!==o.length||l.toLowerCase()!==o)&&e(u)}):u=>i.getAttributeValue(u,n)!==o&&e(u)}},vc=new Set([9,10,12,13,32]),yi=48,_c=57;function Ec(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,a=0,i=o(),n=u();if(t<e.length&&e.charAt(t)==="n"&&(t++,a=i*(n??1),l(),t<e.length?(i=o(),l(),n=u()):i=n=0),n===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[a,i*n];function o(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function u(){const c=t;let h=0;for(;t<e.length&&e.charCodeAt(t)>=yi&&e.charCodeAt(t)<=_c;)h=h*10+(e.charCodeAt(t)-yi),t++;return t===c?null:h}function l(){for(;t<e.length&&vc.has(e.charCodeAt(t));)t++}}function jc(e){const t=e[0],a=e[1]-1;if(a<0&&t<=0)return V.falseFunc;if(t===-1)return o=>o<=a;if(t===0)return o=>o===a;if(t===1)return a<0?V.trueFunc:o=>o>=a;const i=Math.abs(t),n=(a%i+i)%i;return t>1?o=>o>=a&&o%i===n:o=>o<=a&&o%i===n}function Gt(e){return jc(Ec(e))}function Wt(e,t){return a=>{const i=t.getParent(a);return i!=null&&t.isTag(i)&&e(a)}}const da={contains(e,t,{adapter:a}){return function(n){return e(n)&&a.getText(n).includes(t)}},icontains(e,t,{adapter:a}){const i=t.toLowerCase();return function(o){return e(o)&&a.getText(o).toLowerCase().includes(i)}},"nth-child"(e,t,{adapter:a,equals:i}){const n=Gt(t);return n===V.falseFunc?V.falseFunc:n===V.trueFunc?Wt(e,a):function(u){const l=a.getSiblings(u);let c=0;for(let h=0;h<l.length&&!i(u,l[h]);h++)a.isTag(l[h])&&c++;return n(c)&&e(u)}},"nth-last-child"(e,t,{adapter:a,equals:i}){const n=Gt(t);return n===V.falseFunc?V.falseFunc:n===V.trueFunc?Wt(e,a):function(u){const l=a.getSiblings(u);let c=0;for(let h=l.length-1;h>=0&&!i(u,l[h]);h--)a.isTag(l[h])&&c++;return n(c)&&e(u)}},"nth-of-type"(e,t,{adapter:a,equals:i}){const n=Gt(t);return n===V.falseFunc?V.falseFunc:n===V.trueFunc?Wt(e,a):function(u){const l=a.getSiblings(u);let c=0;for(let h=0;h<l.length;h++){const p=l[h];if(i(u,p))break;a.isTag(p)&&a.getName(p)===a.getName(u)&&c++}return n(c)&&e(u)}},"nth-last-of-type"(e,t,{adapter:a,equals:i}){const n=Gt(t);return n===V.falseFunc?V.falseFunc:n===V.trueFunc?Wt(e,a):function(u){const l=a.getSiblings(u);let c=0;for(let h=l.length-1;h>=0;h--){const p=l[h];if(i(u,p))break;a.isTag(p)&&a.getName(p)===a.getName(u)&&c++}return n(c)&&e(u)}},root(e,t,{adapter:a}){return i=>{const n=a.getParent(i);return(n==null||!a.isTag(n))&&e(i)}},scope(e,t,a,i){const{equals:n}=a;return!i||i.length===0?da.root(e,t,a):i.length===1?o=>n(i[0],o)&&e(o):o=>i.includes(o)&&e(o)},hover:Ys("isHovered"),visited:Ys("isVisited"),active:Ys("isActive")};function Ys(e){return function(a,i,{adapter:n}){const o=n[e];return typeof o!="function"?V.falseFunc:function(l){return o(l)&&a(l)}}}const Ni={empty(e,{adapter:t}){return!t.getChildren(e).some(a=>t.isTag(a)||t.getText(a)!=="")},"first-child"(e,{adapter:t,equals:a}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;const i=t.getSiblings(e).find(n=>t.isTag(n));return i!=null&&a(e,i)},"last-child"(e,{adapter:t,equals:a}){const i=t.getSiblings(e);for(let n=i.length-1;n>=0;n--){if(a(e,i[n]))return!0;if(t.isTag(i[n]))break}return!1},"first-of-type"(e,{adapter:t,equals:a}){const i=t.getSiblings(e),n=t.getName(e);for(let o=0;o<i.length;o++){const u=i[o];if(a(e,u))return!0;if(t.isTag(u)&&t.getName(u)===n)break}return!1},"last-of-type"(e,{adapter:t,equals:a}){const i=t.getSiblings(e),n=t.getName(e);for(let o=i.length-1;o>=0;o--){const u=i[o];if(a(e,u))return!0;if(t.isTag(u)&&t.getName(u)===n)break}return!1},"only-of-type"(e,{adapter:t,equals:a}){const i=t.getName(e);return t.getSiblings(e).every(n=>a(e,n)||!t.isTag(n)||t.getName(n)!==i)},"only-child"(e,{adapter:t,equals:a}){return t.getSiblings(e).every(i=>a(e,i)||!t.isTag(i))}};function vi(e,t,a,i){if(a===null){if(e.length>i)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===i)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const Tc={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},In={};function wc(e,t){return e===V.falseFunc?V.falseFunc:a=>t.isTag(a)&&e(a)}function kn(e,t){const a=t.getSiblings(e);if(a.length<=1)return[];const i=a.indexOf(e);return i<0||i===a.length-1?[]:a.slice(i+1).filter(t.isTag)}function ma(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const $s=(e,t,a,i,n)=>{const o=n(t,ma(a),i);return o===V.trueFunc?e:o===V.falseFunc?V.falseFunc:u=>o(u)&&e(u)},Gs={is:$s,matches:$s,where:$s,not(e,t,a,i,n){const o=n(t,ma(a),i);return o===V.falseFunc?e:o===V.trueFunc?V.falseFunc:u=>!o(u)&&e(u)},has(e,t,a,i,n){const{adapter:o}=a,u=ma(a);u.relativeSelector=!0;const l=t.some(p=>p.some(Ua))?[In]:void 0,c=n(t,u,l);if(c===V.falseFunc)return V.falseFunc;const h=wc(c,o);if(l&&c!==V.trueFunc){const{shouldTestNextSiblings:p=!1}=c;return f=>{if(!e(f))return!1;l[0]=f;const g=o.getChildren(f),d=p?[...g,...kn(f,o)]:g;return o.existsOne(h,d)}}return p=>e(p)&&o.existsOne(h,o.getChildren(p))}};function Ac(e,t,a,i,n){var o;const{name:u,data:l}=t;if(Array.isArray(l)){if(!(u in Gs))throw new Error(`Unknown pseudo-class :${u}(${l})`);return Gs[u](e,l,a,i,n)}const c=(o=a.pseudos)===null||o===void 0?void 0:o[u],h=typeof c=="string"?c:Tc[u];if(typeof h=="string"){if(l!=null)throw new Error(`Pseudo ${u} doesn't have any arguments`);const p=Is(h);return Gs.is(e,p,a,i,n)}if(typeof c=="function")return vi(c,u,l,1),p=>c(p,l)&&e(p);if(u in da)return da[u](e,l,a,i);if(u in Ni){const p=Ni[u];return vi(p,u,l,2),f=>p(f,a,l)&&e(f)}throw new Error(`Unknown pseudo-class :${u}`)}function Ws(e,t){const a=t.getParent(e);return a&&t.isTag(a)?a:null}function Cc(e,t,a,i,n){const{adapter:o,equals:u}=a;switch(t.type){case B.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case B.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case B.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!a.xmlMode||a.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),Nc[t.action](e,t,a)}case B.Pseudo:return Ac(e,t,a,i,n);case B.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:l}=t;return(!a.xmlMode||a.lowerCaseTags)&&(l=l.toLowerCase()),function(h){return o.getName(h)===l&&e(h)}}case B.Descendant:{if(a.cacheResults===!1||typeof WeakSet>"u")return function(h){let p=h;for(;p=Ws(p,o);)if(e(p))return!0;return!1};const l=new WeakSet;return function(h){let p=h;for(;p=Ws(p,o);)if(!l.has(p)){if(o.isTag(p)&&e(p))return!0;l.add(p)}return!1}}case"_flexibleDescendant":return function(c){let h=c;do if(e(h))return!0;while(h=Ws(h,o));return!1};case B.Parent:return function(c){return o.getChildren(c).some(h=>o.isTag(h)&&e(h))};case B.Child:return function(c){const h=o.getParent(c);return h!=null&&o.isTag(h)&&e(h)};case B.Sibling:return function(c){const h=o.getSiblings(c);for(let p=0;p<h.length;p++){const f=h[p];if(u(c,f))break;if(o.isTag(f)&&e(f))return!0}return!1};case B.Adjacent:return o.prevElementSibling?function(c){const h=o.prevElementSibling(c);return h!=null&&e(h)}:function(c){const h=o.getSiblings(c);let p;for(let f=0;f<h.length;f++){const g=h[f];if(u(c,g))break;o.isTag(g)&&(p=g)}return!!p&&e(p)};case B.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function On(e){return e.type===B.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(On)))}const Sc={type:B.Descendant},Ic={type:"_flexibleDescendant"},kc={type:B.Pseudo,name:"scope",data:null};function Oc(e,{adapter:t},a){const i=!!a?.every(n=>{const o=t.isTag(n)&&t.getParent(n);return n===In||o&&t.isTag(o)});for(const n of e){if(!(n.length>0&&Ua(n[0])&&n[0].type!==B.Descendant))if(i&&!n.some(On))n.unshift(Sc);else continue;n.unshift(kc)}}function Dn(e,t,a){var i;e.forEach(fc),a=(i=t.context)!==null&&i!==void 0?i:a;const n=Array.isArray(a),o=a&&(Array.isArray(a)?a:[a]);if(t.relativeSelector!==!1)Oc(e,t,o);else if(e.some(c=>c.length>0&&Ua(c[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let u=!1;const l=e.map(c=>{if(c.length>=2){const[h,p]=c;h.type!==B.Pseudo||h.name!=="scope"||(n&&p.type===B.Descendant?c[1]=Ic:(p.type===B.Adjacent||p.type===B.Sibling)&&(u=!0))}return Dc(c,t,o)}).reduce(Lc,V.falseFunc);return l.shouldTestNextSiblings=u,l}function Dc(e,t,a){var i;return e.reduce((n,o)=>n===V.falseFunc?V.falseFunc:Cc(n,o,t,a,Dn),(i=t.rootFunc)!==null&&i!==void 0?i:V.trueFunc)}function Lc(e,t){return t===V.falseFunc||e===V.trueFunc?e:e===V.falseFunc||t===V.trueFunc?t:function(i){return e(i)||t(i)}}const Ln=(e,t)=>e===t,Rc={adapter:Ss,equals:Ln};function Pc(e){var t,a,i,n;const o=e??Rc;return(t=o.adapter)!==null&&t!==void 0||(o.adapter=Ss),(a=o.equals)!==null&&a!==void 0||(o.equals=(n=(i=o.adapter)===null||i===void 0?void 0:i.equals)!==null&&n!==void 0?n:Ln),o}function Mc(e){return function(a,i,n){const o=Pc(i);return e(a,o,n)}}const Fa=Mc(Dn);function Rn(e,t,a=!1){return a&&(e=Bc(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}function Bc(e,t){const a=Array.isArray(e)?e.slice(0):[e],i=a.length;for(let n=0;n<i;n++){const o=kn(a[n],t);a.push(...o)}return a}const Uc=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function ls(e){return e.type!=="pseudo"?!1:Uc.has(e.name)?!0:e.name==="not"&&Array.isArray(e.data)?e.data.some(t=>t.some(ls)):!1}function Fc(e,t,a){const i=t!=null?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(i)?i>=0?i+1:1/0:0;case"lt":return isFinite(i)?i>=0?Math.min(i,a):1/0:0;case"gt":return isFinite(i)?1/0:0;case"odd":return 2*a;case"even":return 2*a-1;case"last":case"not":return 1/0}}function Hc(e){for(;e.parent;)e=e.parent;return e}function Ha(e){const t=[],a=[];for(const i of e)i.some(ls)?t.push(i):a.push(i);return[a,t]}const qc={type:B.Universal,namespace:null},zc={type:B.Pseudo,name:"scope",data:null};function Pn(e,t,a={}){return Mn([e],t,a)}function Mn(e,t,a={}){if(typeof t=="function")return e.some(t);const[i,n]=Ha(Is(t));return i.length>0&&e.some(Fa(i,a))||n.some(o=>Fn(o,e,a).length>0)}function Vc(e,t,a,i){const n=typeof a=="string"?parseInt(a,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(n)&&Math.abs(n)<t.length?[n<0?t[t.length+n]:t[n]]:[];case"gt":return isFinite(n)?t.slice(n+1):[];case"even":return t.filter((o,u)=>u%2===0);case"odd":return t.filter((o,u)=>u%2===1);case"not":{const o=new Set(Un(a,t,i));return t.filter(u=>!o.has(u))}}}function Bn(e,t,a={}){return Un(Is(e),t,a)}function Un(e,t,a){if(t.length===0)return[];const[i,n]=Ha(e);let o;if(i.length){const u=ga(t,i,a);if(n.length===0)return u;u.length&&(o=new Set(u))}for(let u=0;u<n.length&&o?.size!==t.length;u++){const l=n[u];if((o?t.filter(p=>F(p)&&!o.has(p)):t).length===0)break;const h=Fn(l,t,a);if(h.length)if(o)h.forEach(p=>o.add(p));else{if(u===n.length-1)return h;o=new Set(h)}}return typeof o<"u"?o.size===t.length?t:t.filter(u=>o.has(u)):[]}function Fn(e,t,a){var i;if(e.some(vt)){const n=(i=a.root)!==null&&i!==void 0?i:Hc(t[0]),o={...a,context:t,relativeSelector:!1};return e.push(zc),ds(n,e,o,!0,t.length)}return ds(t,e,a,!1,t.length)}function Yc(e,t,a={},i=1/0){if(typeof e=="function")return Hn(t,e);const[n,o]=Ha(Is(e)),u=o.map(l=>ds(t,l,a,!0,i));return n.length&&u.push(ha(t,n,a,i)),u.length===0?[]:u.length===1?u[0]:dt(u.reduce((l,c)=>[...l,...c]))}function ds(e,t,a,i,n){const o=t.findIndex(ls),u=t.slice(0,o),l=t[o],c=t.length-1===o?n:1/0,h=Fc(l.name,l.data,c);if(h===0)return[];const f=(u.length===0&&!Array.isArray(e)?Cs(e).filter(F):u.length===0?(Array.isArray(e)?e:[e]).filter(F):i||u.some(vt)?ha(e,[u],a,h):ga(e,[u],a)).slice(0,h);let g=Vc(l.name,f,l.data,a);if(g.length===0||t.length===o+1)return g;const d=t.slice(o+1),m=d.some(vt);if(m){if(vt(d[0])){const{type:E}=d[0];(E===B.Sibling||E===B.Adjacent)&&(g=Rn(g,Ss,!0)),d.unshift(qc)}a={...a,relativeSelector:!1,rootFunc:E=>g.includes(E)}}else a.rootFunc&&a.rootFunc!==cs.trueFunc&&(a={...a,rootFunc:cs.trueFunc});return d.some(ls)?ds(g,d,a,!1,n):m?ha(g,[d],a,n):ga(g,[d],a)}function ha(e,t,a,i){const n=Fa(t,a,e);return Hn(e,n,i)}function Hn(e,t,a=1/0){const i=Rn(e,Ss,t.shouldTestNextSiblings);return Ra(n=>F(n)&&t(n),i,!0,a)}function ga(e,t,a){const i=(Array.isArray(e)?e:[e]).filter(F);if(i.length===0)return i;const n=Fa(t,a);return n===cs.trueFunc?i:i.filter(n)}const $c=/^\s*[+~]/;function Gc(e){if(!e)return this._make([]);if(typeof e!="string"){const t=Pe(e)?e.toArray():[e],a=this.toArray();return this._make(t.filter(i=>a.some(n=>vn(n,i))))}return this._findBySelector(e,Number.POSITIVE_INFINITY)}function Wc(e,t){var a;const i=this.toArray(),n=$c.test(e)?i:this.children().toArray(),o={context:i,root:(a=this._root)===null||a===void 0?void 0:a[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(Yc(e,n,o,t))}function qa(e){return function(t,...a){return function(i){var n;let o=e(t,this);return i&&(o=Ya(o,i,this.options.xmlMode,(n=this._root)===null||n===void 0?void 0:n[0])),this._make(this.length>1&&o.length>1?a.reduce((u,l)=>l(u),o):o)}}}const Ut=qa((e,t)=>{let a=[];for(let i=0;i<t.length;i++){const n=e(t[i]);n.length>0&&(a=a.concat(n))}return a}),za=qa((e,t)=>{const a=[];for(let i=0;i<t.length;i++){const n=e(t[i]);n!==null&&a.push(n)}return a});function Va(e,...t){let a=null;const i=qa((n,o)=>{const u=[];return Z(o,l=>{for(let c;(c=n(l))&&!a?.(c,u.length);l=c)u.push(c)}),u})(e,...t);return function(n,o){a=typeof n=="string"?l=>Pn(l,n,this.options):n?Ft(n):null;const u=i.call(this,o);return a=null,u}}function mt(e){return e.length>1?Array.from(new Set(e)):e}const Kc=za(({parent:e})=>e&&!Ye(e)?e:null,mt),Qc=Ut(e=>{const t=[];for(;e.parent&&!Ye(e.parent);)t.push(e.parent),e=e.parent;return t},dt,e=>e.reverse()),Xc=Va(({parent:e})=>e&&!Ye(e)?e:null,dt,e=>e.reverse());function Jc(e){var t;const a=[];if(!e)return this._make(a);const i={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},n=typeof e=="string"?o=>Pn(o,e,i):Ft(e);return Z(this,o=>{for(o&&!Ye(o)&&!F(o)&&(o=o.parent);o&&F(o);){if(n(o,0)){a.includes(o)||a.push(o);break}o=o.parent}}),this._make(a)}const Zc=za(e=>Da(e)),el=Ut(e=>{const t=[];for(;e.next;)e=e.next,F(e)&&t.push(e);return t},mt),tl=Va(e=>Da(e),mt),sl=za(e=>La(e)),al=Ut(e=>{const t=[];for(;e.prev;)e=e.prev,F(e)&&t.push(e);return t},mt),il=Va(e=>La(e),mt),nl=Ut(e=>xn(e).filter(t=>F(t)&&t!==e),dt),rl=Ut(e=>Cs(e).filter(F),mt);function ol(){const e=this.toArray().reduce((t,a)=>ee(a)?t.concat(a.children):t,[]);return this._make(e)}function ul(e){let t=0;const a=this.length;for(;t<a&&e.call(this[t],t,this[t])!==!1;)++t;return this}function cl(e){let t=[];for(let a=0;a<this.length;a++){const i=this[a],n=e.call(i,a,i);n!=null&&(t=t.concat(n))}return this._make(t)}function Ft(e){return typeof e=="function"?(t,a)=>e.call(t,a,t):Pe(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function ll(e){var t;return this._make(Ya(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}function Ya(e,t,a,i){return typeof t=="string"?Bn(t,e,{xmlMode:a,root:i}):e.filter(Ft(t))}function dl(e){const t=this.toArray();return typeof e=="string"?Mn(t.filter(F),e,this.options):e?t.some(Ft(e)):!1}function ml(e){let t=this.toArray();if(typeof e=="string"){const a=new Set(Bn(e,t,this.options));t=t.filter(i=>!a.has(i))}else{const a=Ft(e);t=t.filter((i,n)=>!a(i,n))}return this._make(t)}function hl(e){return this.filter(typeof e=="string"?`:has(${e})`:(t,a)=>this._make(a).find(e).length>0)}function gl(){return this.length>1?this._make(this[0]):this}function xl(){return this.length>0?this._make(this[this.length-1]):this}function pl(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}function fl(e){return e==null?this.toArray():this[e<0?this.length+e:e]}function bl(){return Array.prototype.slice.call(this)}function yl(e){let t,a;return e==null?(t=this.parent().children(),a=this[0]):typeof e=="string"?(t=this._make(e),a=this[0]):(t=this,a=Pe(e)?e[0]:e),Array.prototype.indexOf.call(t,a)}function Nl(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function vl(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}function _l(e,t){const a=this._make(e,t),i=dt([...this.get(),...a.get()]);return this._make(i)}function El(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}const jl=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:Wc,add:_l,addBack:El,children:rl,closest:Jc,contents:ol,each:ul,end:vl,eq:pl,filter:ll,filterArray:Ya,find:Gc,first:gl,get:fl,has:hl,index:yl,is:dl,last:xl,map:cl,next:Zc,nextAll:el,nextUntil:tl,not:ml,parent:Kc,parents:Qc,parentsUntil:Xc,prev:sl,prevAll:al,prevUntil:il,siblings:nl,slice:Nl,toArray:bl},Symbol.toStringTag,{value:"Module"}));function Tl(e){return function(a,i,n,o){if(typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=a.toString()),typeof a=="string")return e(a,i,n,o);const u=a;if(!Array.isArray(u)&&Ye(u))return u;const l=new Je([]);return Ze(u,l),l}}function Ze(e,t){const a=Array.isArray(e)?e:[e];t?t.children=a:t=null;for(let i=0;i<a.length;i++){const n=a[i];n.parent&&n.parent.children!==a&&et(n),t?(n.prev=a[i-1]||null,n.next=a[i+1]||null):n.prev=n.next=null,n.parent=t}return t}function wl(e,t){if(e==null)return[];if(typeof e=="string")return this._parse(e,this.options,!1,null).children.slice(0);if("length"in e){if(e.length===1)return this._makeDomArray(e[0],t);const a=[];for(let i=0;i<e.length;i++){const n=e[i];if(typeof n=="object"){if(n==null)continue;if(!("length"in n)){a.push(t?It(n,!0):n);continue}}a.push(...this._makeDomArray(n,t))}return a}return[t?It(e,!0):e]}function qn(e){return function(...t){const a=this.length-1;return Z(this,(i,n)=>{if(!ee(i))return;const o=typeof t[0]=="function"?t[0].call(i,n,this._render(i.children)):t,u=this._makeDomArray(o,n<a);e(u,i.children,i)})}}function $e(e,t,a,i,n){var o,u;const l=[t,a,...i],c=t===0?null:e[t-1],h=t+a>=e.length?null:e[t+a];for(let p=0;p<i.length;++p){const f=i[p],g=f.parent;if(g){const m=g.children.indexOf(f);m!==-1&&(g.children.splice(m,1),n===g&&t>m&&l[0]--)}f.parent=n,f.prev&&(f.prev.next=(o=f.next)!==null&&o!==void 0?o:null),f.next&&(f.next.prev=(u=f.prev)!==null&&u!==void 0?u:null),f.prev=p===0?c:i[p-1],f.next=p===i.length-1?h:i[p+1]}return c&&(c.next=i[0]),h&&(h.prev=i[i.length-1]),e.splice(...l)}function Al(e){return(Pe(e)?e:this._make(e)).append(this),this}function Cl(e){return(Pe(e)?e:this._make(e)).prepend(this),this}const Sl=qn((e,t,a)=>{$e(t,t.length,0,e,a)}),Il=qn((e,t,a)=>{$e(t,0,0,e,a)});function zn(e){return function(t){const a=this.length-1,i=this.parents().last();for(let n=0;n<this.length;n++){const o=this[n],u=typeof t=="function"?t.call(o,n,o):typeof t=="string"&&!ua(t)?i.find(t).clone():t,[l]=this._makeDomArray(u,n<a);if(!l||!ee(l))continue;let c=l,h=0;for(;h<c.children.length;){const p=c.children[h];F(p)?(c=p,h=0):h++}e(o,c,[l])}return this}}const kl=zn((e,t,a)=>{const{parent:i}=e;if(!i)return;const n=i.children,o=n.indexOf(e);Ze([e],t),$e(n,o,0,a,i)}),Ol=zn((e,t,a)=>{ee(e)&&(Ze(e.children,t),Ze(a,e))});function Dl(e){return this.parent(e).not("body").each((t,a)=>{this._make(a).replaceWith(a.children)}),this}function Ll(e){const t=this[0];if(t){const a=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t);let i;for(let o=0;o<a.length;o++)a[o].type===na&&(i=a[o]);let n=0;for(;i&&n<i.children.length;){const o=i.children[n];o.type===na?(i=o,n=0):n++}i&&this._make(i).append(this)}return this}function Rl(...e){const t=this.length-1;return Z(this,(a,i)=>{if(!ee(a)||!a.parent)return;const n=a.parent.children,o=n.indexOf(a);if(o===-1)return;const u=typeof e[0]=="function"?e[0].call(a,i,this._render(a.children)):e,l=this._makeDomArray(u,i<t);$e(n,o+1,0,l,a.parent)})}function Pl(e){typeof e=="string"&&(e=this._make(e)),this.remove();const t=[];for(const a of this._makeDomArray(e)){const i=this.clone().toArray(),{parent:n}=a;if(!n)continue;const o=n.children,u=o.indexOf(a);u!==-1&&($e(o,u+1,0,i,n),t.push(...i))}return this._make(t)}function Ml(...e){const t=this.length-1;return Z(this,(a,i)=>{if(!ee(a)||!a.parent)return;const n=a.parent.children,o=n.indexOf(a);if(o===-1)return;const u=typeof e[0]=="function"?e[0].call(a,i,this._render(a.children)):e,l=this._makeDomArray(u,i<t);$e(n,o,0,l,a.parent)})}function Bl(e){const t=this._make(e);this.remove();const a=[];return Z(t,i=>{const n=this.clone().toArray(),{parent:o}=i;if(!o)return;const u=o.children,l=u.indexOf(i);l!==-1&&($e(u,l,0,n,o),a.push(...n))}),this._make(a)}function Ul(e){const t=e?this.filter(e):this;return Z(t,a=>{et(a),a.prev=a.next=a.parent=null}),this}function Fl(e){return Z(this,(t,a)=>{const{parent:i}=t;if(!i)return;const n=i.children,o=typeof e=="function"?e.call(t,a,t):e,u=this._makeDomArray(o);Ze(u,null);const l=n.indexOf(t);$e(n,l,1,u,i),u.includes(t)||(t.parent=t.prev=t.next=null)})}function Hl(){return Z(this,e=>{if(ee(e)){for(const t of e.children)t.next=t.prev=t.parent=null;e.children.length=0}})}function ql(e){if(e===void 0){const t=this[0];return!t||!ee(t)?null:this._render(t.children)}return Z(this,t=>{if(!ee(t))return;for(const i of t.children)i.next=i.prev=i.parent=null;const a=Pe(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children;Ze(a,t)})}function zl(){return this._render(this)}function Vl(e){return e===void 0?kt(this):typeof e=="function"?Z(this,(t,a)=>this._make(t).text(e.call(t,a,kt([t])))):Z(this,t=>{if(!ee(t))return;for(const i of t.children)i.next=i.prev=i.parent=null;const a=new St(`${e}`);Ze(a,t)})}function Yl(){const e=Array.prototype.map.call(this.get(),a=>It(a,!0)),t=new Je(e);for(const a of e)a.parent=t;return this._make(e)}const $l=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:wl,after:Rl,append:Sl,appendTo:Al,before:Ml,clone:Yl,empty:Hl,html:ql,insertAfter:Pl,insertBefore:Bl,prepend:Il,prependTo:Cl,remove:Ul,replaceWith:Fl,text:Vl,toString:zl,unwrap:Dl,wrap:kl,wrapAll:Ll,wrapInner:Ol},Symbol.toStringTag,{value:"Module"}));function Gl(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return Z(this,(a,i)=>{F(a)&&Vn(a,e,t,i)});if(this.length!==0)return Yn(this[0],e)}function Vn(e,t,a,i){if(typeof t=="string"){const n=Yn(e),o=typeof a=="function"?a.call(e,i,n[t]):a;o===""?delete n[t]:o!=null&&(n[t]=o),e.attribs.style=Wl(n)}else if(typeof t=="object"){const n=Object.keys(t);for(let o=0;o<n.length;o++){const u=n[o];Vn(e,u,t[u],o)}}}function Yn(e,t){if(!e||!F(e))return;const a=Kl(e.attribs.style);if(typeof t=="string")return a[t];if(Array.isArray(t)){const i={};for(const n of t)a[n]!=null&&(i[n]=a[n]);return i}return a}function Wl(e){return Object.keys(e).reduce((t,a)=>`${t}${t?" ":""}${a}: ${e[a]};`,"")}function Kl(e){if(e=(e||"").trim(),!e)return{};const t={};let a;for(const i of e.split(";")){const n=i.indexOf(":");if(n<1||n===i.length-1){const o=i.trimEnd();o.length>0&&a!==void 0&&(t[a]+=`;${o}`)}else a=i.slice(0,n).trim(),t[a]=i.slice(n+1).trim()}return t}const Ql=Object.freeze(Object.defineProperty({__proto__:null,css:Gl},Symbol.toStringTag,{value:"Module"})),_i="input,select,textarea,keygen",Xl=/%20/g,Ei=/\r?\n/g;function Jl(){return this.serializeArray().map(a=>`${encodeURIComponent(a.name)}=${encodeURIComponent(a.value)}`).join("&").replace(Xl,"+")}function Zl(){return this.map((e,t)=>{const a=this._make(t);return F(t)&&t.name==="form"?a.find(_i).toArray():a.filter(_i).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((e,t)=>{var a;const i=this._make(t),n=i.attr("name"),o=(a=i.val())!==null&&a!==void 0?a:"";return Array.isArray(o)?o.map(u=>({name:n,value:u.replace(Ei,`\r
`)})):{name:n,value:o.replace(Ei,`\r
`)}}).toArray()}const ed=Object.freeze(Object.defineProperty({__proto__:null,serialize:Jl,serializeArray:Zl},Symbol.toStringTag,{value:"Module"}));function td(e){var t;return typeof e=="string"?{selector:e,value:"textContent"}:{selector:e.selector,value:(t=e.value)!==null&&t!==void 0?t:"textContent"}}function sd(e){const t={};for(const a in e){const i=e[a],n=Array.isArray(i),{selector:o,value:u}=td(n?i[0]:i),l=typeof u=="function"?u:typeof u=="string"?c=>this._make(c).prop(u):c=>this._make(c).extract(u);if(n)t[a]=this._findBySelector(o,Number.POSITIVE_INFINITY).map((c,h)=>l(h,a,t)).get();else{const c=this._findBySelector(o,1);t[a]=c.length>0?l(c[0],a,t):void 0}}return t}const ad=Object.freeze(Object.defineProperty({__proto__:null,extract:sd},Symbol.toStringTag,{value:"Module"}));class Ht{constructor(t,a,i){if(this.length=0,this.options=i,this._root=a,t){for(let n=0;n<t.length;n++)this[n]=t[n];this.length=t.length}}}Ht.prototype.cheerio="[cheerio object]";Ht.prototype.splice=Array.prototype.splice;Ht.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(Ht.prototype,cc,jl,$l,Ql,ed,ad);function id(e,t){return function a(i,n,o=!0){if(i==null)throw new Error("cheerio.load() expects a string");const u=oa(n),l=e(i,u,o,null);class c extends Ht{_make(f,g){const d=h(f,g);return d.prevObject=this,d}_parse(f,g,d,m){return e(f,g,d,m)}_render(f){return t(f,this.options)}}function h(p,f,g=l,d){if(p&&Pe(p))return p;const m=oa(d,u),E=typeof g=="string"?[e(g,m,!1,null)]:"length"in g?g:[g],T=Pe(E)?E:new c(E,null,m);if(T._root=T,!p)return new c(void 0,T,m);const y=typeof p=="string"&&ua(p)?e(p,m,!1,null).children:nd(p)?[p]:Array.isArray(p)?p:void 0,S=new c(y,T,m);if(y)return S;if(typeof p!="string")throw new TypeError("Unexpected type of selector");let D=p;const P=f?typeof f=="string"?ua(f)?new c([e(f,m,!1,null)],T,m):(D=`${f} ${D}`,T):Pe(f)?f:new c(Array.isArray(f)?f:[f],T,m):T;return P?P.find(D):S}return Object.assign(h,Lu,{load:a,_root:l,_options:u,fn:c.prototype,prototype:c.prototype}),h}}function nd(e){return!!e.name||e.type===Aa||e.type===on||e.type===un}const rd=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),J="�";var x;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(x||(x={}));const he={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function $n(e){return e>=55296&&e<=57343}function od(e){return e>=56320&&e<=57343}function ud(e,t){return(e-55296)*1024+9216+t}function Gn(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Wn(e){return e>=64976&&e<=65007||rd.has(e)}var w;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(w||(w={}));const cd=65536;class ld{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=cd,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,a){const{line:i,col:n,offset:o}=this,u=n+a,l=o+a;return{code:t,startLine:i,endLine:i,startCol:u,endCol:u,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const a=this.html.charCodeAt(this.pos+1);if(od(a))return this.pos++,this._addGap(),ud(t,a)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,x.EOF;return this._err(w.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,a){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=a}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,a){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(a)return this.html.startsWith(t,this.pos);for(let i=0;i<t.length;i++)if((this.html.charCodeAt(this.pos+i)|32)!==t.charCodeAt(i))return!1;return!0}peek(t){const a=this.pos+t;if(a>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,x.EOF;const i=this.html.charCodeAt(a);return i===x.CARRIAGE_RETURN?x.LINE_FEED:i}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,x.EOF;let t=this.html.charCodeAt(this.pos);return t===x.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,x.LINE_FEED):t===x.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,$n(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===x.LINE_FEED||t===x.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Gn(t)?this._err(w.controlCharacterInInputStream):Wn(t)&&this._err(w.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var $;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})($||($={}));function Kn(e,t){for(let a=e.attrs.length-1;a>=0;a--)if(e.attrs[a].name===t)return e.attrs[a].value;return null}const dd=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),md=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function hd(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=md.get(e))!==null&&t!==void 0?t:e}var oe;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(oe||(oe={}));const gd=32;var ze;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ze||(ze={}));function xa(e){return e>=oe.ZERO&&e<=oe.NINE}function xd(e){return e>=oe.UPPER_A&&e<=oe.UPPER_F||e>=oe.LOWER_A&&e<=oe.LOWER_F}function pd(e){return e>=oe.UPPER_A&&e<=oe.UPPER_Z||e>=oe.LOWER_A&&e<=oe.LOWER_Z||xa(e)}function fd(e){return e===oe.EQUALS||pd(e)}var ne;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ne||(ne={}));var Re;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Re||(Re={}));class bd{constructor(t,a,i){this.decodeTree=t,this.emitCodePoint=a,this.errors=i,this.state=ne.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Re.Strict}startEntity(t){this.decodeMode=t,this.state=ne.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,a){switch(this.state){case ne.EntityStart:return t.charCodeAt(a)===oe.NUM?(this.state=ne.NumericStart,this.consumed+=1,this.stateNumericStart(t,a+1)):(this.state=ne.NamedEntity,this.stateNamedEntity(t,a));case ne.NumericStart:return this.stateNumericStart(t,a);case ne.NumericDecimal:return this.stateNumericDecimal(t,a);case ne.NumericHex:return this.stateNumericHex(t,a);case ne.NamedEntity:return this.stateNamedEntity(t,a)}}stateNumericStart(t,a){return a>=t.length?-1:(t.charCodeAt(a)|gd)===oe.LOWER_X?(this.state=ne.NumericHex,this.consumed+=1,this.stateNumericHex(t,a+1)):(this.state=ne.NumericDecimal,this.stateNumericDecimal(t,a))}addToNumericResult(t,a,i,n){if(a!==i){const o=i-a;this.result=this.result*Math.pow(n,o)+Number.parseInt(t.substr(a,o),n),this.consumed+=o}}stateNumericHex(t,a){const i=a;for(;a<t.length;){const n=t.charCodeAt(a);if(xa(n)||xd(n))a+=1;else return this.addToNumericResult(t,i,a,16),this.emitNumericEntity(n,3)}return this.addToNumericResult(t,i,a,16),-1}stateNumericDecimal(t,a){const i=a;for(;a<t.length;){const n=t.charCodeAt(a);if(xa(n))a+=1;else return this.addToNumericResult(t,i,a,10),this.emitNumericEntity(n,2)}return this.addToNumericResult(t,i,a,10),-1}emitNumericEntity(t,a){var i;if(this.consumed<=a)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===oe.SEMI)this.consumed+=1;else if(this.decodeMode===Re.Strict)return 0;return this.emitCodePoint(hd(this.result),this.consumed),this.errors&&(t!==oe.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,a){const{decodeTree:i}=this;let n=i[this.treeIndex],o=(n&ze.VALUE_LENGTH)>>14;for(;a<t.length;a++,this.excess++){const u=t.charCodeAt(a);if(this.treeIndex=yd(i,n,this.treeIndex+Math.max(1,o),u),this.treeIndex<0)return this.result===0||this.decodeMode===Re.Attribute&&(o===0||fd(u))?0:this.emitNotTerminatedNamedEntity();if(n=i[this.treeIndex],o=(n&ze.VALUE_LENGTH)>>14,o!==0){if(u===oe.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Re.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:a,decodeTree:i}=this,n=(i[a]&ze.VALUE_LENGTH)>>14;return this.emitNamedEntityData(a,n,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,a,i){const{decodeTree:n}=this;return this.emitCodePoint(a===1?n[t]&~ze.VALUE_LENGTH:n[t+1],i),a===3&&this.emitCodePoint(n[t+2],i),i}end(){var t;switch(this.state){case ne.NamedEntity:return this.result!==0&&(this.decodeMode!==Re.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ne.NumericDecimal:return this.emitNumericEntity(0,2);case ne.NumericHex:return this.emitNumericEntity(0,3);case ne.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ne.EntityStart:return 0}}}function yd(e,t,a,i){const n=(t&ze.BRANCH_LENGTH)>>7,o=t&ze.JUMP_TABLE;if(n===0)return o!==0&&i===o?a:-1;if(o){const c=i-o;return c<0||c>=n?-1:e[a+c]-1}let u=a,l=u+n-1;for(;u<=l;){const c=u+l>>>1,h=e[c];if(h<i)u=c+1;else if(h>i)l=c-1;else return e[c+n]}return-1}var O;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(O||(O={}));var Qe;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Qe||(Qe={}));var fe;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(fe||(fe={}));var j;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(j||(j={}));var r;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(r||(r={}));const Nd=new Map([[j.A,r.A],[j.ADDRESS,r.ADDRESS],[j.ANNOTATION_XML,r.ANNOTATION_XML],[j.APPLET,r.APPLET],[j.AREA,r.AREA],[j.ARTICLE,r.ARTICLE],[j.ASIDE,r.ASIDE],[j.B,r.B],[j.BASE,r.BASE],[j.BASEFONT,r.BASEFONT],[j.BGSOUND,r.BGSOUND],[j.BIG,r.BIG],[j.BLOCKQUOTE,r.BLOCKQUOTE],[j.BODY,r.BODY],[j.BR,r.BR],[j.BUTTON,r.BUTTON],[j.CAPTION,r.CAPTION],[j.CENTER,r.CENTER],[j.CODE,r.CODE],[j.COL,r.COL],[j.COLGROUP,r.COLGROUP],[j.DD,r.DD],[j.DESC,r.DESC],[j.DETAILS,r.DETAILS],[j.DIALOG,r.DIALOG],[j.DIR,r.DIR],[j.DIV,r.DIV],[j.DL,r.DL],[j.DT,r.DT],[j.EM,r.EM],[j.EMBED,r.EMBED],[j.FIELDSET,r.FIELDSET],[j.FIGCAPTION,r.FIGCAPTION],[j.FIGURE,r.FIGURE],[j.FONT,r.FONT],[j.FOOTER,r.FOOTER],[j.FOREIGN_OBJECT,r.FOREIGN_OBJECT],[j.FORM,r.FORM],[j.FRAME,r.FRAME],[j.FRAMESET,r.FRAMESET],[j.H1,r.H1],[j.H2,r.H2],[j.H3,r.H3],[j.H4,r.H4],[j.H5,r.H5],[j.H6,r.H6],[j.HEAD,r.HEAD],[j.HEADER,r.HEADER],[j.HGROUP,r.HGROUP],[j.HR,r.HR],[j.HTML,r.HTML],[j.I,r.I],[j.IMG,r.IMG],[j.IMAGE,r.IMAGE],[j.INPUT,r.INPUT],[j.IFRAME,r.IFRAME],[j.KEYGEN,r.KEYGEN],[j.LABEL,r.LABEL],[j.LI,r.LI],[j.LINK,r.LINK],[j.LISTING,r.LISTING],[j.MAIN,r.MAIN],[j.MALIGNMARK,r.MALIGNMARK],[j.MARQUEE,r.MARQUEE],[j.MATH,r.MATH],[j.MENU,r.MENU],[j.META,r.META],[j.MGLYPH,r.MGLYPH],[j.MI,r.MI],[j.MO,r.MO],[j.MN,r.MN],[j.MS,r.MS],[j.MTEXT,r.MTEXT],[j.NAV,r.NAV],[j.NOBR,r.NOBR],[j.NOFRAMES,r.NOFRAMES],[j.NOEMBED,r.NOEMBED],[j.NOSCRIPT,r.NOSCRIPT],[j.OBJECT,r.OBJECT],[j.OL,r.OL],[j.OPTGROUP,r.OPTGROUP],[j.OPTION,r.OPTION],[j.P,r.P],[j.PARAM,r.PARAM],[j.PLAINTEXT,r.PLAINTEXT],[j.PRE,r.PRE],[j.RB,r.RB],[j.RP,r.RP],[j.RT,r.RT],[j.RTC,r.RTC],[j.RUBY,r.RUBY],[j.S,r.S],[j.SCRIPT,r.SCRIPT],[j.SEARCH,r.SEARCH],[j.SECTION,r.SECTION],[j.SELECT,r.SELECT],[j.SOURCE,r.SOURCE],[j.SMALL,r.SMALL],[j.SPAN,r.SPAN],[j.STRIKE,r.STRIKE],[j.STRONG,r.STRONG],[j.STYLE,r.STYLE],[j.SUB,r.SUB],[j.SUMMARY,r.SUMMARY],[j.SUP,r.SUP],[j.TABLE,r.TABLE],[j.TBODY,r.TBODY],[j.TEMPLATE,r.TEMPLATE],[j.TEXTAREA,r.TEXTAREA],[j.TFOOT,r.TFOOT],[j.TD,r.TD],[j.TH,r.TH],[j.THEAD,r.THEAD],[j.TITLE,r.TITLE],[j.TR,r.TR],[j.TRACK,r.TRACK],[j.TT,r.TT],[j.U,r.U],[j.UL,r.UL],[j.SVG,r.SVG],[j.VAR,r.VAR],[j.WBR,r.WBR],[j.XMP,r.XMP]]);function ks(e){var t;return(t=Nd.get(e))!==null&&t!==void 0?t:r.UNKNOWN}const R=r,vd={[O.HTML]:new Set([R.ADDRESS,R.APPLET,R.AREA,R.ARTICLE,R.ASIDE,R.BASE,R.BASEFONT,R.BGSOUND,R.BLOCKQUOTE,R.BODY,R.BR,R.BUTTON,R.CAPTION,R.CENTER,R.COL,R.COLGROUP,R.DD,R.DETAILS,R.DIR,R.DIV,R.DL,R.DT,R.EMBED,R.FIELDSET,R.FIGCAPTION,R.FIGURE,R.FOOTER,R.FORM,R.FRAME,R.FRAMESET,R.H1,R.H2,R.H3,R.H4,R.H5,R.H6,R.HEAD,R.HEADER,R.HGROUP,R.HR,R.HTML,R.IFRAME,R.IMG,R.INPUT,R.LI,R.LINK,R.LISTING,R.MAIN,R.MARQUEE,R.MENU,R.META,R.NAV,R.NOEMBED,R.NOFRAMES,R.NOSCRIPT,R.OBJECT,R.OL,R.P,R.PARAM,R.PLAINTEXT,R.PRE,R.SCRIPT,R.SECTION,R.SELECT,R.SOURCE,R.STYLE,R.SUMMARY,R.TABLE,R.TBODY,R.TD,R.TEMPLATE,R.TEXTAREA,R.TFOOT,R.TH,R.THEAD,R.TITLE,R.TR,R.TRACK,R.UL,R.WBR,R.XMP]),[O.MATHML]:new Set([R.MI,R.MO,R.MN,R.MS,R.MTEXT,R.ANNOTATION_XML]),[O.SVG]:new Set([R.TITLE,R.FOREIGN_OBJECT,R.DESC]),[O.XLINK]:new Set,[O.XML]:new Set,[O.XMLNS]:new Set},pa=new Set([R.H1,R.H2,R.H3,R.H4,R.H5,R.H6]),_d=new Set([j.STYLE,j.SCRIPT,j.XMP,j.IFRAME,j.NOEMBED,j.NOFRAMES,j.PLAINTEXT]);function Ed(e,t){return _d.has(e)||t&&e===j.NOSCRIPT}var b;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(b||(b={}));const xe={DATA:b.DATA,RCDATA:b.RCDATA,RAWTEXT:b.RAWTEXT,SCRIPT_DATA:b.SCRIPT_DATA,PLAINTEXT:b.PLAINTEXT,CDATA_SECTION:b.CDATA_SECTION};function jd(e){return e>=x.DIGIT_0&&e<=x.DIGIT_9}function yt(e){return e>=x.LATIN_CAPITAL_A&&e<=x.LATIN_CAPITAL_Z}function Td(e){return e>=x.LATIN_SMALL_A&&e<=x.LATIN_SMALL_Z}function Ue(e){return Td(e)||yt(e)}function ji(e){return Ue(e)||jd(e)}function Kt(e){return e+32}function Qn(e){return e===x.SPACE||e===x.LINE_FEED||e===x.TABULATION||e===x.FORM_FEED}function Ti(e){return Qn(e)||e===x.SOLIDUS||e===x.GREATER_THAN_SIGN}function wd(e){return e===x.NULL?w.nullCharacterReference:e>1114111?w.characterReferenceOutsideUnicodeRange:$n(e)?w.surrogateCharacterReference:Wn(e)?w.noncharacterCharacterReference:Gn(e)||e===x.CARRIAGE_RETURN?w.controlCharacterReference:null}class Ad{constructor(t,a){this.options=t,this.handler=a,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=b.DATA,this.returnState=b.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new ld(a),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new bd(dd,(i,n)=>{this.preprocessor.pos=this.entityStartPos+n-1,this._flushCodePointConsumedAsCharacterReference(i)},a.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(w.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:i=>{this._err(w.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+i)},validateNumericCharacterReference:i=>{const n=wd(i);n&&this._err(n,1)}}:void 0)}_err(t,a=0){var i,n;(n=(i=this.handler).onParseError)===null||n===void 0||n.call(i,this.preprocessor.getError(t,a))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,a,i){this.active=!0,this.preprocessor.write(t,a),this._runParsingLoop(),this.paused||i?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let a=0;a<t;a++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,a){return this.preprocessor.startsWith(t,a)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:$.START_TAG,tagName:"",tagID:r.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:$.END_TAG,tagName:"",tagID:r.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:$.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:$.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,a){this.currentCharacterToken={type:t,chars:a,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,a;const i=this.currentToken;if(Kn(i,this.currentAttr.name)===null){if(i.attrs.push(this.currentAttr),i.location&&this.currentLocation){const n=(t=(a=i.location).attrs)!==null&&t!==void 0?t:a.attrs=Object.create(null);n[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(w.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=ks(t.tagName),t.type===$.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(w.endTagWithAttributes),t.selfClosing&&this._err(w.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case $.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case $.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case $.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:$.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,a){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=a;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,a)}_emitCodePoint(t){const a=Qn(t)?$.WHITESPACE_CHARACTER:t===x.NULL?$.NULL_CHARACTER:$.CHARACTER;this._appendCharToCurrentCharacterToken(a,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken($.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=b.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Re.Attribute:Re.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===b.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===b.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===b.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case b.DATA:{this._stateData(t);break}case b.RCDATA:{this._stateRcdata(t);break}case b.RAWTEXT:{this._stateRawtext(t);break}case b.SCRIPT_DATA:{this._stateScriptData(t);break}case b.PLAINTEXT:{this._statePlaintext(t);break}case b.TAG_OPEN:{this._stateTagOpen(t);break}case b.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case b.TAG_NAME:{this._stateTagName(t);break}case b.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case b.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case b.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case b.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case b.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case b.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case b.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case b.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case b.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case b.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case b.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case b.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case b.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case b.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case b.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case b.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case b.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case b.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case b.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case b.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case b.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case b.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case b.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case b.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case b.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case b.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case b.BOGUS_COMMENT:{this._stateBogusComment(t);break}case b.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case b.COMMENT_START:{this._stateCommentStart(t);break}case b.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case b.COMMENT:{this._stateComment(t);break}case b.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case b.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case b.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case b.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case b.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case b.COMMENT_END:{this._stateCommentEnd(t);break}case b.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case b.DOCTYPE:{this._stateDoctype(t);break}case b.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case b.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case b.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case b.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case b.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case b.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case b.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case b.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case b.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case b.CDATA_SECTION:{this._stateCdataSection(t);break}case b.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case b.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case b.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case b.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case x.LESS_THAN_SIGN:{this.state=b.TAG_OPEN;break}case x.AMPERSAND:{this._startCharacterReference();break}case x.NULL:{this._err(w.unexpectedNullCharacter),this._emitCodePoint(t);break}case x.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case x.AMPERSAND:{this._startCharacterReference();break}case x.LESS_THAN_SIGN:{this.state=b.RCDATA_LESS_THAN_SIGN;break}case x.NULL:{this._err(w.unexpectedNullCharacter),this._emitChars(J);break}case x.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case x.LESS_THAN_SIGN:{this.state=b.RAWTEXT_LESS_THAN_SIGN;break}case x.NULL:{this._err(w.unexpectedNullCharacter),this._emitChars(J);break}case x.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case x.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_LESS_THAN_SIGN;break}case x.NULL:{this._err(w.unexpectedNullCharacter),this._emitChars(J);break}case x.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case x.NULL:{this._err(w.unexpectedNullCharacter),this._emitChars(J);break}case x.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Ue(t))this._createStartTagToken(),this.state=b.TAG_NAME,this._stateTagName(t);else switch(t){case x.EXCLAMATION_MARK:{this.state=b.MARKUP_DECLARATION_OPEN;break}case x.SOLIDUS:{this.state=b.END_TAG_OPEN;break}case x.QUESTION_MARK:{this._err(w.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=b.BOGUS_COMMENT,this._stateBogusComment(t);break}case x.EOF:{this._err(w.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(w.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=b.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Ue(t))this._createEndTagToken(),this.state=b.TAG_NAME,this._stateTagName(t);else switch(t){case x.GREATER_THAN_SIGN:{this._err(w.missingEndTagName),this.state=b.DATA;break}case x.EOF:{this._err(w.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(w.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=b.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const a=this.currentToken;switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:{this.state=b.BEFORE_ATTRIBUTE_NAME;break}case x.SOLIDUS:{this.state=b.SELF_CLOSING_START_TAG;break}case x.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentTagToken();break}case x.NULL:{this._err(w.unexpectedNullCharacter),a.tagName+=J;break}case x.EOF:{this._err(w.eofInTag),this._emitEOFToken();break}default:a.tagName+=String.fromCodePoint(yt(t)?Kt(t):t)}}_stateRcdataLessThanSign(t){t===x.SOLIDUS?this.state=b.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=b.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Ue(t)?(this.state=b.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=b.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const a=this.currentToken;switch(a.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=b.BEFORE_ATTRIBUTE_NAME,!1;case x.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=b.SELF_CLOSING_START_TAG,!1;case x.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=b.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===x.SOLIDUS?this.state=b.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=b.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Ue(t)?(this.state=b.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=b.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case x.SOLIDUS:{this.state=b.SCRIPT_DATA_END_TAG_OPEN;break}case x.EXCLAMATION_MARK:{this.state=b.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=b.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Ue(t)?(this.state=b.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===x.HYPHEN_MINUS?(this.state=b.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===x.HYPHEN_MINUS?(this.state=b.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=b.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case x.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case x.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case x.NULL:{this._err(w.unexpectedNullCharacter),this._emitChars(J);break}case x.EOF:{this._err(w.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case x.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case x.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case x.NULL:{this._err(w.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_ESCAPED,this._emitChars(J);break}case x.EOF:{this._err(w.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case x.HYPHEN_MINUS:{this._emitChars("-");break}case x.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case x.GREATER_THAN_SIGN:{this.state=b.SCRIPT_DATA,this._emitChars(">");break}case x.NULL:{this._err(w.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_ESCAPED,this._emitChars(J);break}case x.EOF:{this._err(w.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===x.SOLIDUS?this.state=b.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ue(t)?(this._emitChars("<"),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Ue(t)?(this.state=b.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(he.SCRIPT,!1)&&Ti(this.preprocessor.peek(he.SCRIPT.length))){this._emitCodePoint(t);for(let a=0;a<he.SCRIPT.length;a++)this._emitCodePoint(this._consume());this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=b.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case x.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case x.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case x.NULL:{this._err(w.unexpectedNullCharacter),this._emitChars(J);break}case x.EOF:{this._err(w.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case x.HYPHEN_MINUS:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case x.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case x.NULL:{this._err(w.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(J);break}case x.EOF:{this._err(w.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case x.HYPHEN_MINUS:{this._emitChars("-");break}case x.LESS_THAN_SIGN:{this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case x.GREATER_THAN_SIGN:{this.state=b.SCRIPT_DATA,this._emitChars(">");break}case x.NULL:{this._err(w.unexpectedNullCharacter),this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(J);break}case x.EOF:{this._err(w.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===x.SOLIDUS?(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(he.SCRIPT,!1)&&Ti(this.preprocessor.peek(he.SCRIPT.length))){this._emitCodePoint(t);for(let a=0;a<he.SCRIPT.length;a++)this._emitCodePoint(this._consume());this.state=b.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=b.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:break;case x.SOLIDUS:case x.GREATER_THAN_SIGN:case x.EOF:{this.state=b.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case x.EQUALS_SIGN:{this._err(w.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=b.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=b.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:case x.SOLIDUS:case x.GREATER_THAN_SIGN:case x.EOF:{this._leaveAttrName(),this.state=b.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case x.EQUALS_SIGN:{this._leaveAttrName(),this.state=b.BEFORE_ATTRIBUTE_VALUE;break}case x.QUOTATION_MARK:case x.APOSTROPHE:case x.LESS_THAN_SIGN:{this._err(w.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case x.NULL:{this._err(w.unexpectedNullCharacter),this.currentAttr.name+=J;break}default:this.currentAttr.name+=String.fromCodePoint(yt(t)?Kt(t):t)}}_stateAfterAttributeName(t){switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:break;case x.SOLIDUS:{this.state=b.SELF_CLOSING_START_TAG;break}case x.EQUALS_SIGN:{this.state=b.BEFORE_ATTRIBUTE_VALUE;break}case x.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentTagToken();break}case x.EOF:{this._err(w.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=b.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:break;case x.QUOTATION_MARK:{this.state=b.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case x.APOSTROPHE:{this.state=b.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case x.GREATER_THAN_SIGN:{this._err(w.missingAttributeValue),this.state=b.DATA,this.emitCurrentTagToken();break}default:this.state=b.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case x.QUOTATION_MARK:{this.state=b.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case x.AMPERSAND:{this._startCharacterReference();break}case x.NULL:{this._err(w.unexpectedNullCharacter),this.currentAttr.value+=J;break}case x.EOF:{this._err(w.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case x.APOSTROPHE:{this.state=b.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case x.AMPERSAND:{this._startCharacterReference();break}case x.NULL:{this._err(w.unexpectedNullCharacter),this.currentAttr.value+=J;break}case x.EOF:{this._err(w.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:{this._leaveAttrValue(),this.state=b.BEFORE_ATTRIBUTE_NAME;break}case x.AMPERSAND:{this._startCharacterReference();break}case x.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=b.DATA,this.emitCurrentTagToken();break}case x.NULL:{this._err(w.unexpectedNullCharacter),this.currentAttr.value+=J;break}case x.QUOTATION_MARK:case x.APOSTROPHE:case x.LESS_THAN_SIGN:case x.EQUALS_SIGN:case x.GRAVE_ACCENT:{this._err(w.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case x.EOF:{this._err(w.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:{this._leaveAttrValue(),this.state=b.BEFORE_ATTRIBUTE_NAME;break}case x.SOLIDUS:{this._leaveAttrValue(),this.state=b.SELF_CLOSING_START_TAG;break}case x.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=b.DATA,this.emitCurrentTagToken();break}case x.EOF:{this._err(w.eofInTag),this._emitEOFToken();break}default:this._err(w.missingWhitespaceBetweenAttributes),this.state=b.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case x.GREATER_THAN_SIGN:{const a=this.currentToken;a.selfClosing=!0,this.state=b.DATA,this.emitCurrentTagToken();break}case x.EOF:{this._err(w.eofInTag),this._emitEOFToken();break}default:this._err(w.unexpectedSolidusInTag),this.state=b.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const a=this.currentToken;switch(t){case x.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentComment(a);break}case x.EOF:{this.emitCurrentComment(a),this._emitEOFToken();break}case x.NULL:{this._err(w.unexpectedNullCharacter),a.data+=J;break}default:a.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(he.DASH_DASH,!0)?(this._createCommentToken(he.DASH_DASH.length+1),this.state=b.COMMENT_START):this._consumeSequenceIfMatch(he.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(he.DOCTYPE.length+1),this.state=b.DOCTYPE):this._consumeSequenceIfMatch(he.CDATA_START,!0)?this.inForeignNode?this.state=b.CDATA_SECTION:(this._err(w.cdataInHtmlContent),this._createCommentToken(he.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=b.BOGUS_COMMENT):this._ensureHibernation()||(this._err(w.incorrectlyOpenedComment),this._createCommentToken(2),this.state=b.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case x.HYPHEN_MINUS:{this.state=b.COMMENT_START_DASH;break}case x.GREATER_THAN_SIGN:{this._err(w.abruptClosingOfEmptyComment),this.state=b.DATA;const a=this.currentToken;this.emitCurrentComment(a);break}default:this.state=b.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const a=this.currentToken;switch(t){case x.HYPHEN_MINUS:{this.state=b.COMMENT_END;break}case x.GREATER_THAN_SIGN:{this._err(w.abruptClosingOfEmptyComment),this.state=b.DATA,this.emitCurrentComment(a);break}case x.EOF:{this._err(w.eofInComment),this.emitCurrentComment(a),this._emitEOFToken();break}default:a.data+="-",this.state=b.COMMENT,this._stateComment(t)}}_stateComment(t){const a=this.currentToken;switch(t){case x.HYPHEN_MINUS:{this.state=b.COMMENT_END_DASH;break}case x.LESS_THAN_SIGN:{a.data+="<",this.state=b.COMMENT_LESS_THAN_SIGN;break}case x.NULL:{this._err(w.unexpectedNullCharacter),a.data+=J;break}case x.EOF:{this._err(w.eofInComment),this.emitCurrentComment(a),this._emitEOFToken();break}default:a.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const a=this.currentToken;switch(t){case x.EXCLAMATION_MARK:{a.data+="!",this.state=b.COMMENT_LESS_THAN_SIGN_BANG;break}case x.LESS_THAN_SIGN:{a.data+="<";break}default:this.state=b.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===x.HYPHEN_MINUS?this.state=b.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=b.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===x.HYPHEN_MINUS?this.state=b.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=b.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==x.GREATER_THAN_SIGN&&t!==x.EOF&&this._err(w.nestedComment),this.state=b.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const a=this.currentToken;switch(t){case x.HYPHEN_MINUS:{this.state=b.COMMENT_END;break}case x.EOF:{this._err(w.eofInComment),this.emitCurrentComment(a),this._emitEOFToken();break}default:a.data+="-",this.state=b.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const a=this.currentToken;switch(t){case x.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentComment(a);break}case x.EXCLAMATION_MARK:{this.state=b.COMMENT_END_BANG;break}case x.HYPHEN_MINUS:{a.data+="-";break}case x.EOF:{this._err(w.eofInComment),this.emitCurrentComment(a),this._emitEOFToken();break}default:a.data+="--",this.state=b.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const a=this.currentToken;switch(t){case x.HYPHEN_MINUS:{a.data+="--!",this.state=b.COMMENT_END_DASH;break}case x.GREATER_THAN_SIGN:{this._err(w.incorrectlyClosedComment),this.state=b.DATA,this.emitCurrentComment(a);break}case x.EOF:{this._err(w.eofInComment),this.emitCurrentComment(a),this._emitEOFToken();break}default:a.data+="--!",this.state=b.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:{this.state=b.BEFORE_DOCTYPE_NAME;break}case x.GREATER_THAN_SIGN:{this.state=b.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case x.EOF:{this._err(w.eofInDoctype),this._createDoctypeToken(null);const a=this.currentToken;a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(w.missingWhitespaceBeforeDoctypeName),this.state=b.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(yt(t))this._createDoctypeToken(String.fromCharCode(Kt(t))),this.state=b.DOCTYPE_NAME;else switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:break;case x.NULL:{this._err(w.unexpectedNullCharacter),this._createDoctypeToken(J),this.state=b.DOCTYPE_NAME;break}case x.GREATER_THAN_SIGN:{this._err(w.missingDoctypeName),this._createDoctypeToken(null);const a=this.currentToken;a.forceQuirks=!0,this.emitCurrentDoctype(a),this.state=b.DATA;break}case x.EOF:{this._err(w.eofInDoctype),this._createDoctypeToken(null);const a=this.currentToken;a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=b.DOCTYPE_NAME}}_stateDoctypeName(t){const a=this.currentToken;switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:{this.state=b.AFTER_DOCTYPE_NAME;break}case x.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentDoctype(a);break}case x.NULL:{this._err(w.unexpectedNullCharacter),a.name+=J;break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:a.name+=String.fromCodePoint(yt(t)?Kt(t):t)}}_stateAfterDoctypeName(t){const a=this.currentToken;switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:break;case x.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentDoctype(a);break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(he.PUBLIC,!1)?this.state=b.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(he.SYSTEM,!1)?this.state=b.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(w.invalidCharacterSequenceAfterDoctypeName),a.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const a=this.currentToken;switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:{this.state=b.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case x.QUOTATION_MARK:{this._err(w.missingWhitespaceAfterDoctypePublicKeyword),a.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case x.APOSTROPHE:{this._err(w.missingWhitespaceAfterDoctypePublicKeyword),a.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case x.GREATER_THAN_SIGN:{this._err(w.missingDoctypePublicIdentifier),a.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(a);break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(w.missingQuoteBeforeDoctypePublicIdentifier),a.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const a=this.currentToken;switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:break;case x.QUOTATION_MARK:{a.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case x.APOSTROPHE:{a.publicId="",this.state=b.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case x.GREATER_THAN_SIGN:{this._err(w.missingDoctypePublicIdentifier),a.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(a);break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(w.missingQuoteBeforeDoctypePublicIdentifier),a.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const a=this.currentToken;switch(t){case x.QUOTATION_MARK:{this.state=b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case x.NULL:{this._err(w.unexpectedNullCharacter),a.publicId+=J;break}case x.GREATER_THAN_SIGN:{this._err(w.abruptDoctypePublicIdentifier),a.forceQuirks=!0,this.emitCurrentDoctype(a),this.state=b.DATA;break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:a.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const a=this.currentToken;switch(t){case x.APOSTROPHE:{this.state=b.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case x.NULL:{this._err(w.unexpectedNullCharacter),a.publicId+=J;break}case x.GREATER_THAN_SIGN:{this._err(w.abruptDoctypePublicIdentifier),a.forceQuirks=!0,this.emitCurrentDoctype(a),this.state=b.DATA;break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:a.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const a=this.currentToken;switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:{this.state=b.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case x.GREATER_THAN_SIGN:{this.state=b.DATA,this.emitCurrentDoctype(a);break}case x.QUOTATION_MARK:{this._err(w.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),a.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case x.APOSTROPHE:{this._err(w.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),a.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(w.missingQuoteBeforeDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const a=this.currentToken;switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:break;case x.GREATER_THAN_SIGN:{this.emitCurrentDoctype(a),this.state=b.DATA;break}case x.QUOTATION_MARK:{a.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case x.APOSTROPHE:{a.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(w.missingQuoteBeforeDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const a=this.currentToken;switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:{this.state=b.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case x.QUOTATION_MARK:{this._err(w.missingWhitespaceAfterDoctypeSystemKeyword),a.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case x.APOSTROPHE:{this._err(w.missingWhitespaceAfterDoctypeSystemKeyword),a.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case x.GREATER_THAN_SIGN:{this._err(w.missingDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(a);break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(w.missingQuoteBeforeDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const a=this.currentToken;switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:break;case x.QUOTATION_MARK:{a.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case x.APOSTROPHE:{a.systemId="",this.state=b.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case x.GREATER_THAN_SIGN:{this._err(w.missingDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=b.DATA,this.emitCurrentDoctype(a);break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(w.missingQuoteBeforeDoctypeSystemIdentifier),a.forceQuirks=!0,this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const a=this.currentToken;switch(t){case x.QUOTATION_MARK:{this.state=b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case x.NULL:{this._err(w.unexpectedNullCharacter),a.systemId+=J;break}case x.GREATER_THAN_SIGN:{this._err(w.abruptDoctypeSystemIdentifier),a.forceQuirks=!0,this.emitCurrentDoctype(a),this.state=b.DATA;break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:a.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const a=this.currentToken;switch(t){case x.APOSTROPHE:{this.state=b.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case x.NULL:{this._err(w.unexpectedNullCharacter),a.systemId+=J;break}case x.GREATER_THAN_SIGN:{this._err(w.abruptDoctypeSystemIdentifier),a.forceQuirks=!0,this.emitCurrentDoctype(a),this.state=b.DATA;break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:a.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const a=this.currentToken;switch(t){case x.SPACE:case x.LINE_FEED:case x.TABULATION:case x.FORM_FEED:break;case x.GREATER_THAN_SIGN:{this.emitCurrentDoctype(a),this.state=b.DATA;break}case x.EOF:{this._err(w.eofInDoctype),a.forceQuirks=!0,this.emitCurrentDoctype(a),this._emitEOFToken();break}default:this._err(w.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=b.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const a=this.currentToken;switch(t){case x.GREATER_THAN_SIGN:{this.emitCurrentDoctype(a),this.state=b.DATA;break}case x.NULL:{this._err(w.unexpectedNullCharacter);break}case x.EOF:{this.emitCurrentDoctype(a),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case x.RIGHT_SQUARE_BRACKET:{this.state=b.CDATA_SECTION_BRACKET;break}case x.EOF:{this._err(w.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===x.RIGHT_SQUARE_BRACKET?this.state=b.CDATA_SECTION_END:(this._emitChars("]"),this.state=b.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case x.GREATER_THAN_SIGN:{this.state=b.DATA;break}case x.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=b.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(x.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&ji(this.preprocessor.peek(1))?b.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){ji(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===x.SEMICOLON&&this._err(w.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const Xn=new Set([r.DD,r.DT,r.LI,r.OPTGROUP,r.OPTION,r.P,r.RB,r.RP,r.RT,r.RTC]),wi=new Set([...Xn,r.CAPTION,r.COLGROUP,r.TBODY,r.TD,r.TFOOT,r.TH,r.THEAD,r.TR]),ms=new Set([r.APPLET,r.CAPTION,r.HTML,r.MARQUEE,r.OBJECT,r.TABLE,r.TD,r.TEMPLATE,r.TH]),Cd=new Set([...ms,r.OL,r.UL]),Sd=new Set([...ms,r.BUTTON]),Ai=new Set([r.ANNOTATION_XML,r.MI,r.MN,r.MO,r.MS,r.MTEXT]),Ci=new Set([r.DESC,r.FOREIGN_OBJECT,r.TITLE]),Id=new Set([r.TR,r.TEMPLATE,r.HTML]),kd=new Set([r.TBODY,r.TFOOT,r.THEAD,r.TEMPLATE,r.HTML]),Od=new Set([r.TABLE,r.TEMPLATE,r.HTML]),Dd=new Set([r.TD,r.TH]);class Ld{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,a,i){this.treeAdapter=a,this.handler=i,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=r.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===r.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===O.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,a){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=a,this.currentTagId=a,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,a,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,a){const i=this._indexOf(t);this.items[i]=a,i===this.stackTop&&(this.current=a)}insertAfter(t,a,i){const n=this._indexOf(t)+1;this.items.splice(n,0,a),this.tagIDs.splice(n,0,i),this.stackTop++,n===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,n===this.stackTop)}popUntilTagNamePopped(t){let a=this.stackTop+1;do a=this.tagIDs.lastIndexOf(t,a-1);while(a>0&&this.treeAdapter.getNamespaceURI(this.items[a])!==O.HTML);this.shortenToLength(Math.max(a,0))}shortenToLength(t){for(;this.stackTop>=t;){const a=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(a,this.stackTop<t)}}popUntilElementPopped(t){const a=this._indexOf(t);this.shortenToLength(Math.max(a,0))}popUntilPopped(t,a){const i=this._indexOfTagNames(t,a);this.shortenToLength(Math.max(i,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(pa,O.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Dd,O.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,a){for(let i=this.stackTop;i>=0;i--)if(t.has(this.tagIDs[i])&&this.treeAdapter.getNamespaceURI(this.items[i])===a)return i;return-1}clearBackTo(t,a){const i=this._indexOfTagNames(t,a);this.shortenToLength(i+1)}clearBackToTableContext(){this.clearBackTo(Od,O.HTML)}clearBackToTableBodyContext(){this.clearBackTo(kd,O.HTML)}clearBackToTableRowContext(){this.clearBackTo(Id,O.HTML)}remove(t){const a=this._indexOf(t);a>=0&&(a===this.stackTop?this.pop():(this.items.splice(a,1),this.tagIDs.splice(a,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===r.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const a=this._indexOf(t)-1;return a>=0?this.items[a]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===r.HTML}hasInDynamicScope(t,a){for(let i=this.stackTop;i>=0;i--){const n=this.tagIDs[i];switch(this.treeAdapter.getNamespaceURI(this.items[i])){case O.HTML:{if(n===t)return!0;if(a.has(n))return!1;break}case O.SVG:{if(Ci.has(n))return!1;break}case O.MATHML:{if(Ai.has(n))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,ms)}hasInListItemScope(t){return this.hasInDynamicScope(t,Cd)}hasInButtonScope(t){return this.hasInDynamicScope(t,Sd)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const a=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case O.HTML:{if(pa.has(a))return!0;if(ms.has(a))return!1;break}case O.SVG:{if(Ci.has(a))return!1;break}case O.MATHML:{if(Ai.has(a))return!1;break}}}return!0}hasInTableScope(t){for(let a=this.stackTop;a>=0;a--)if(this.treeAdapter.getNamespaceURI(this.items[a])===O.HTML)switch(this.tagIDs[a]){case t:return!0;case r.TABLE:case r.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===O.HTML)switch(this.tagIDs[t]){case r.TBODY:case r.THEAD:case r.TFOOT:return!0;case r.TABLE:case r.HTML:return!1}return!0}hasInSelectScope(t){for(let a=this.stackTop;a>=0;a--)if(this.treeAdapter.getNamespaceURI(this.items[a])===O.HTML)switch(this.tagIDs[a]){case t:return!0;case r.OPTION:case r.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&Xn.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&wi.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&wi.has(this.currentTagId);)this.pop()}}const Ks=3;var we;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(we||(we={}));const Si={type:we.Marker};class Rd{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,a){const i=[],n=a.length,o=this.treeAdapter.getTagName(t),u=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const c=this.entries[l];if(c.type===we.Marker)break;const{element:h}=c;if(this.treeAdapter.getTagName(h)===o&&this.treeAdapter.getNamespaceURI(h)===u){const p=this.treeAdapter.getAttrList(h);p.length===n&&i.push({idx:l,attrs:p})}}return i}_ensureNoahArkCondition(t){if(this.entries.length<Ks)return;const a=this.treeAdapter.getAttrList(t),i=this._getNoahArkConditionCandidates(t,a);if(i.length<Ks)return;const n=new Map(a.map(u=>[u.name,u.value]));let o=0;for(let u=0;u<i.length;u++){const l=i[u];l.attrs.every(c=>n.get(c.name)===c.value)&&(o+=1,o>=Ks&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(Si)}pushElement(t,a){this._ensureNoahArkCondition(t),this.entries.unshift({type:we.Element,element:t,token:a})}insertElementAfterBookmark(t,a){const i=this.entries.indexOf(this.bookmark);this.entries.splice(i,0,{type:we.Element,element:t,token:a})}removeEntry(t){const a=this.entries.indexOf(t);a!==-1&&this.entries.splice(a,1)}clearToLastMarker(){const t=this.entries.indexOf(Si);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const a=this.entries.find(i=>i.type===we.Marker||this.treeAdapter.getTagName(i.element)===t);return a&&a.type===we.Element?a:null}getElementEntry(t){return this.entries.find(a=>a.type===we.Element&&a.element===t)}}const Le={createDocument(){return{nodeName:"#document",mode:fe.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,a){return{nodeName:e,tagName:e,attrs:a,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,a){const i=e.childNodes.indexOf(a);e.childNodes.splice(i,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,a,i){const n=e.childNodes.find(o=>o.nodeName==="#documentType");if(n)n.name=t,n.publicId=a,n.systemId=i;else{const o={nodeName:"#documentType",name:t,publicId:a,systemId:i,parentNode:null};Le.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const a=e.childNodes[e.childNodes.length-1];if(Le.isTextNode(a)){a.value+=t;return}}Le.appendChild(e,Le.createTextNode(t))},insertTextBefore(e,t,a){const i=e.childNodes[e.childNodes.indexOf(a)-1];i&&Le.isTextNode(i)?i.value+=t:Le.insertBefore(e,Le.createTextNode(t),a)},adoptAttributes(e,t){const a=new Set(e.attrs.map(i=>i.name));for(let i=0;i<t.length;i++)a.has(t[i].name)||e.attrs.push(t[i])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Jn="html",Pd="about:legacy-compat",Md="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Zn=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Bd=[...Zn,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Ud=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),er=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Fd=[...er,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Ii(e,t){return t.some(a=>e.startsWith(a))}function Hd(e){return e.name===Jn&&e.publicId===null&&(e.systemId===null||e.systemId===Pd)}function qd(e){if(e.name!==Jn)return fe.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Md)return fe.QUIRKS;let{publicId:a}=e;if(a!==null){if(a=a.toLowerCase(),Ud.has(a))return fe.QUIRKS;let i=t===null?Bd:Zn;if(Ii(a,i))return fe.QUIRKS;if(i=t===null?er:Fd,Ii(a,i))return fe.LIMITED_QUIRKS}return fe.NO_QUIRKS}const ki={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},zd="definitionurl",Vd="definitionURL",Yd=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),$d=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:O.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:O.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:O.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:O.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:O.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:O.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:O.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:O.XML}],["xml:space",{prefix:"xml",name:"space",namespace:O.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:O.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:O.XMLNS}]]),Gd=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Wd=new Set([r.B,r.BIG,r.BLOCKQUOTE,r.BODY,r.BR,r.CENTER,r.CODE,r.DD,r.DIV,r.DL,r.DT,r.EM,r.EMBED,r.H1,r.H2,r.H3,r.H4,r.H5,r.H6,r.HEAD,r.HR,r.I,r.IMG,r.LI,r.LISTING,r.MENU,r.META,r.NOBR,r.OL,r.P,r.PRE,r.RUBY,r.S,r.SMALL,r.SPAN,r.STRONG,r.STRIKE,r.SUB,r.SUP,r.TABLE,r.TT,r.U,r.UL,r.VAR]);function Kd(e){const t=e.tagID;return t===r.FONT&&e.attrs.some(({name:i})=>i===Qe.COLOR||i===Qe.SIZE||i===Qe.FACE)||Wd.has(t)}function tr(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===zd){e.attrs[t].name=Vd;break}}function sr(e){for(let t=0;t<e.attrs.length;t++){const a=Yd.get(e.attrs[t].name);a!=null&&(e.attrs[t].name=a)}}function $a(e){for(let t=0;t<e.attrs.length;t++){const a=$d.get(e.attrs[t].name);a&&(e.attrs[t].prefix=a.prefix,e.attrs[t].name=a.name,e.attrs[t].namespace=a.namespace)}}function Qd(e){const t=Gd.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=ks(e.tagName))}function Xd(e,t){return t===O.MATHML&&(e===r.MI||e===r.MO||e===r.MN||e===r.MS||e===r.MTEXT)}function Jd(e,t,a){if(t===O.MATHML&&e===r.ANNOTATION_XML){for(let i=0;i<a.length;i++)if(a[i].name===Qe.ENCODING){const n=a[i].value.toLowerCase();return n===ki.TEXT_HTML||n===ki.APPLICATION_XML}}return t===O.SVG&&(e===r.FOREIGN_OBJECT||e===r.DESC||e===r.TITLE)}function Zd(e,t,a,i){return(!i||i===O.HTML)&&Jd(e,t,a)||(!i||i===O.MATHML)&&Xd(e,t)}const e0="hidden",t0=8,s0=3;var N;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(N||(N={}));const a0={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},ar=new Set([r.TABLE,r.TBODY,r.TFOOT,r.THEAD,r.TR]),Oi={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Le,onParseError:null};class ir{constructor(t,a,i=null,n=null){this.fragmentContext=i,this.scriptHandler=n,this.currentToken=null,this.stopped=!1,this.insertionMode=N.INITIAL,this.originalInsertionMode=N.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Oi,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=a??this.treeAdapter.createDocument(),this.tokenizer=new Ad(this.options,this),this.activeFormattingElements=new Rd(this.treeAdapter),this.fragmentContextID=i?ks(this.treeAdapter.getTagName(i)):r.UNKNOWN,this._setContextModes(i??this.document,this.fragmentContextID),this.openElements=new Ld(this.document,this.treeAdapter,this)}static parse(t,a){const i=new this(a);return i.tokenizer.write(t,!0),i.document}static getFragmentParser(t,a){const i={...Oi,...a};t??(t=i.treeAdapter.createElement(j.TEMPLATE,O.HTML,[]));const n=i.treeAdapter.createElement("documentmock",O.HTML,[]),o=new this(i,n,t);return o.fragmentContextID===r.TEMPLATE&&o.tmplInsertionModeStack.unshift(N.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),a=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,a),a}_err(t,a,i){var n;if(!this.onParseError)return;const o=(n=t.location)!==null&&n!==void 0?n:a0,u={code:a,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:i?o.startLine:o.endLine,endCol:i?o.startCol:o.endCol,endOffset:i?o.startOffset:o.endOffset};this.onParseError(u)}onItemPush(t,a,i){var n,o;(o=(n=this.treeAdapter).onItemPush)===null||o===void 0||o.call(n,t),i&&this.openElements.stackTop>0&&this._setContextModes(t,a)}onItemPop(t,a){var i,n;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(n=(i=this.treeAdapter).onItemPop)===null||n===void 0||n.call(i,t,this.openElements.current),a){let o,u;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,u=this.fragmentContextID):{current:o,currentTagId:u}=this.openElements,this._setContextModes(o,u)}}_setContextModes(t,a){const i=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===O.HTML;this.currentNotInHTML=!i,this.tokenizer.inForeignNode=!i&&t!==void 0&&a!==void 0&&!this._isIntegrationPoint(a,t)}_switchToTextParsing(t,a){this._insertElement(t,O.HTML),this.tokenizer.state=a,this.originalInsertionMode=this.insertionMode,this.insertionMode=N.TEXT}switchToPlaintextParsing(){this.insertionMode=N.TEXT,this.originalInsertionMode=N.IN_BODY,this.tokenizer.state=xe.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===j.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==O.HTML))switch(this.fragmentContextID){case r.TITLE:case r.TEXTAREA:{this.tokenizer.state=xe.RCDATA;break}case r.STYLE:case r.XMP:case r.IFRAME:case r.NOEMBED:case r.NOFRAMES:case r.NOSCRIPT:{this.tokenizer.state=xe.RAWTEXT;break}case r.SCRIPT:{this.tokenizer.state=xe.SCRIPT_DATA;break}case r.PLAINTEXT:{this.tokenizer.state=xe.PLAINTEXT;break}}}_setDocumentType(t){const a=t.name||"",i=t.publicId||"",n=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,a,i,n),t.location){const u=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));u&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}}_attachElementToTree(t,a){if(this.options.sourceCodeLocationInfo){const i=a&&{...a,startTag:a};this.treeAdapter.setNodeSourceCodeLocation(t,i)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const i=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(i??this.document,t)}}_appendElement(t,a){const i=this.treeAdapter.createElement(t.tagName,a,t.attrs);this._attachElementToTree(i,t.location)}_insertElement(t,a){const i=this.treeAdapter.createElement(t.tagName,a,t.attrs);this._attachElementToTree(i,t.location),this.openElements.push(i,t.tagID)}_insertFakeElement(t,a){const i=this.treeAdapter.createElement(t,O.HTML,[]);this._attachElementToTree(i,null),this.openElements.push(i,a)}_insertTemplate(t){const a=this.treeAdapter.createElement(t.tagName,O.HTML,t.attrs),i=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(a,i),this._attachElementToTree(a,t.location),this.openElements.push(a,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(j.HTML,O.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,r.HTML)}_appendCommentNode(t,a){const i=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(a,i),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,t.location)}_insertCharacters(t){let a,i;if(this._shouldFosterParentOnInsertion()?({parent:a,beforeElement:i}=this._findFosterParentingLocation(),i?this.treeAdapter.insertTextBefore(a,t.chars,i):this.treeAdapter.insertText(a,t.chars)):(a=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(a,t.chars)),!t.location)return;const n=this.treeAdapter.getChildNodes(a),o=i?n.lastIndexOf(i):n.length,u=n[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:c,endCol:h,endOffset:p}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:c,endCol:h,endOffset:p})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}_adoptNodes(t,a){for(let i=this.treeAdapter.getFirstChild(t);i;i=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(i),this.treeAdapter.appendChild(a,i)}_setEndLocation(t,a){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&a.location){const i=a.location,n=this.treeAdapter.getTagName(t),o=a.type===$.END_TAG&&n===a.tagName?{endTag:{...i},endLine:i.endLine,endCol:i.endCol,endOffset:i.endOffset}:{endLine:i.startLine,endCol:i.startCol,endOffset:i.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let a,i;return this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,i=this.fragmentContextID):{current:a,currentTagId:i}=this.openElements,t.tagID===r.SVG&&this.treeAdapter.getTagName(a)===j.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(a)===O.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===r.MGLYPH||t.tagID===r.MALIGNMARK)&&i!==void 0&&!this._isIntegrationPoint(i,a,O.HTML)}_processToken(t){switch(t.type){case $.CHARACTER:{this.onCharacter(t);break}case $.NULL_CHARACTER:{this.onNullCharacter(t);break}case $.COMMENT:{this.onComment(t);break}case $.DOCTYPE:{this.onDoctype(t);break}case $.START_TAG:{this._processStartTag(t);break}case $.END_TAG:{this.onEndTag(t);break}case $.EOF:{this.onEof(t);break}case $.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,a,i){const n=this.treeAdapter.getNamespaceURI(a),o=this.treeAdapter.getAttrList(a);return Zd(t,n,o,i)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const a=this.activeFormattingElements.entries.findIndex(n=>n.type===we.Marker||this.openElements.contains(n.element)),i=a===-1?t-1:a-1;for(let n=i;n>=0;n--){const o=this.activeFormattingElements.entries[n];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=N.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(r.P),this.openElements.popUntilTagNamePopped(r.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case r.TR:{this.insertionMode=N.IN_ROW;return}case r.TBODY:case r.THEAD:case r.TFOOT:{this.insertionMode=N.IN_TABLE_BODY;return}case r.CAPTION:{this.insertionMode=N.IN_CAPTION;return}case r.COLGROUP:{this.insertionMode=N.IN_COLUMN_GROUP;return}case r.TABLE:{this.insertionMode=N.IN_TABLE;return}case r.BODY:{this.insertionMode=N.IN_BODY;return}case r.FRAMESET:{this.insertionMode=N.IN_FRAMESET;return}case r.SELECT:{this._resetInsertionModeForSelect(t);return}case r.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case r.HTML:{this.insertionMode=this.headElement?N.AFTER_HEAD:N.BEFORE_HEAD;return}case r.TD:case r.TH:{if(t>0){this.insertionMode=N.IN_CELL;return}break}case r.HEAD:{if(t>0){this.insertionMode=N.IN_HEAD;return}break}}this.insertionMode=N.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let a=t-1;a>0;a--){const i=this.openElements.tagIDs[a];if(i===r.TEMPLATE)break;if(i===r.TABLE){this.insertionMode=N.IN_SELECT_IN_TABLE;return}}this.insertionMode=N.IN_SELECT}_isElementCausesFosterParenting(t){return ar.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const a=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case r.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(a)===O.HTML)return{parent:this.treeAdapter.getTemplateContent(a),beforeElement:null};break}case r.TABLE:{const i=this.treeAdapter.getParentNode(a);return i?{parent:i,beforeElement:a}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const a=this._findFosterParentingLocation();a.beforeElement?this.treeAdapter.insertBefore(a.parent,t,a.beforeElement):this.treeAdapter.appendChild(a.parent,t)}_isSpecialElement(t,a){const i=this.treeAdapter.getNamespaceURI(t);return vd[i].has(a)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Dm(this,t);return}switch(this.insertionMode){case N.INITIAL:{gt(this,t);break}case N.BEFORE_HTML:{_t(this,t);break}case N.BEFORE_HEAD:{Et(this,t);break}case N.IN_HEAD:{jt(this,t);break}case N.IN_HEAD_NO_SCRIPT:{Tt(this,t);break}case N.AFTER_HEAD:{wt(this,t);break}case N.IN_BODY:case N.IN_CAPTION:case N.IN_CELL:case N.IN_TEMPLATE:{rr(this,t);break}case N.TEXT:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case N.IN_TABLE:case N.IN_TABLE_BODY:case N.IN_ROW:{Qs(this,t);break}case N.IN_TABLE_TEXT:{mr(this,t);break}case N.IN_COLUMN_GROUP:{hs(this,t);break}case N.AFTER_BODY:{gs(this,t);break}case N.AFTER_AFTER_BODY:{ts(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Om(this,t);return}switch(this.insertionMode){case N.INITIAL:{gt(this,t);break}case N.BEFORE_HTML:{_t(this,t);break}case N.BEFORE_HEAD:{Et(this,t);break}case N.IN_HEAD:{jt(this,t);break}case N.IN_HEAD_NO_SCRIPT:{Tt(this,t);break}case N.AFTER_HEAD:{wt(this,t);break}case N.TEXT:{this._insertCharacters(t);break}case N.IN_TABLE:case N.IN_TABLE_BODY:case N.IN_ROW:{Qs(this,t);break}case N.IN_COLUMN_GROUP:{hs(this,t);break}case N.AFTER_BODY:{gs(this,t);break}case N.AFTER_AFTER_BODY:{ts(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){fa(this,t);return}switch(this.insertionMode){case N.INITIAL:case N.BEFORE_HTML:case N.BEFORE_HEAD:case N.IN_HEAD:case N.IN_HEAD_NO_SCRIPT:case N.AFTER_HEAD:case N.IN_BODY:case N.IN_TABLE:case N.IN_CAPTION:case N.IN_COLUMN_GROUP:case N.IN_TABLE_BODY:case N.IN_ROW:case N.IN_CELL:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:case N.IN_TEMPLATE:case N.IN_FRAMESET:case N.AFTER_FRAMESET:{fa(this,t);break}case N.IN_TABLE_TEXT:{xt(this,t);break}case N.AFTER_BODY:{l0(this,t);break}case N.AFTER_AFTER_BODY:case N.AFTER_AFTER_FRAMESET:{d0(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case N.INITIAL:{m0(this,t);break}case N.BEFORE_HEAD:case N.IN_HEAD:case N.IN_HEAD_NO_SCRIPT:case N.AFTER_HEAD:{this._err(t,w.misplacedDoctype);break}case N.IN_TABLE_TEXT:{xt(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,w.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Lm(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case N.INITIAL:{gt(this,t);break}case N.BEFORE_HTML:{h0(this,t);break}case N.BEFORE_HEAD:{x0(this,t);break}case N.IN_HEAD:{Te(this,t);break}case N.IN_HEAD_NO_SCRIPT:{b0(this,t);break}case N.AFTER_HEAD:{N0(this,t);break}case N.IN_BODY:{le(this,t);break}case N.IN_TABLE:{ct(this,t);break}case N.IN_TABLE_TEXT:{xt(this,t);break}case N.IN_CAPTION:{pm(this,t);break}case N.IN_COLUMN_GROUP:{Ka(this,t);break}case N.IN_TABLE_BODY:{Ls(this,t);break}case N.IN_ROW:{Rs(this,t);break}case N.IN_CELL:{ym(this,t);break}case N.IN_SELECT:{xr(this,t);break}case N.IN_SELECT_IN_TABLE:{vm(this,t);break}case N.IN_TEMPLATE:{Em(this,t);break}case N.AFTER_BODY:{Tm(this,t);break}case N.IN_FRAMESET:{wm(this,t);break}case N.AFTER_FRAMESET:{Cm(this,t);break}case N.AFTER_AFTER_BODY:{Im(this,t);break}case N.AFTER_AFTER_FRAMESET:{km(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?Rm(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case N.INITIAL:{gt(this,t);break}case N.BEFORE_HTML:{g0(this,t);break}case N.BEFORE_HEAD:{p0(this,t);break}case N.IN_HEAD:{f0(this,t);break}case N.IN_HEAD_NO_SCRIPT:{y0(this,t);break}case N.AFTER_HEAD:{v0(this,t);break}case N.IN_BODY:{Ds(this,t);break}case N.TEXT:{rm(this,t);break}case N.IN_TABLE:{Lt(this,t);break}case N.IN_TABLE_TEXT:{xt(this,t);break}case N.IN_CAPTION:{fm(this,t);break}case N.IN_COLUMN_GROUP:{bm(this,t);break}case N.IN_TABLE_BODY:{ba(this,t);break}case N.IN_ROW:{gr(this,t);break}case N.IN_CELL:{Nm(this,t);break}case N.IN_SELECT:{pr(this,t);break}case N.IN_SELECT_IN_TABLE:{_m(this,t);break}case N.IN_TEMPLATE:{jm(this,t);break}case N.AFTER_BODY:{br(this,t);break}case N.IN_FRAMESET:{Am(this,t);break}case N.AFTER_FRAMESET:{Sm(this,t);break}case N.AFTER_AFTER_BODY:{ts(this,t);break}}}onEof(t){switch(this.insertionMode){case N.INITIAL:{gt(this,t);break}case N.BEFORE_HTML:{_t(this,t);break}case N.BEFORE_HEAD:{Et(this,t);break}case N.IN_HEAD:{jt(this,t);break}case N.IN_HEAD_NO_SCRIPT:{Tt(this,t);break}case N.AFTER_HEAD:{wt(this,t);break}case N.IN_BODY:case N.IN_TABLE:case N.IN_CAPTION:case N.IN_COLUMN_GROUP:case N.IN_TABLE_BODY:case N.IN_ROW:case N.IN_CELL:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:{lr(this,t);break}case N.TEXT:{om(this,t);break}case N.IN_TABLE_TEXT:{xt(this,t);break}case N.IN_TEMPLATE:{fr(this,t);break}case N.AFTER_BODY:case N.IN_FRAMESET:case N.AFTER_FRAMESET:case N.AFTER_AFTER_BODY:case N.AFTER_AFTER_FRAMESET:{Wa(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===x.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case N.IN_HEAD:case N.IN_HEAD_NO_SCRIPT:case N.AFTER_HEAD:case N.TEXT:case N.IN_COLUMN_GROUP:case N.IN_SELECT:case N.IN_SELECT_IN_TABLE:case N.IN_FRAMESET:case N.AFTER_FRAMESET:{this._insertCharacters(t);break}case N.IN_BODY:case N.IN_CAPTION:case N.IN_CELL:case N.IN_TEMPLATE:case N.AFTER_BODY:case N.AFTER_AFTER_BODY:case N.AFTER_AFTER_FRAMESET:{nr(this,t);break}case N.IN_TABLE:case N.IN_TABLE_BODY:case N.IN_ROW:{Qs(this,t);break}case N.IN_TABLE_TEXT:{dr(this,t);break}}}}function i0(e,t){let a=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return a?e.openElements.contains(a.element)?e.openElements.hasInScope(t.tagID)||(a=null):(e.activeFormattingElements.removeEntry(a),a=null):cr(e,t),a}function n0(e,t){let a=null,i=e.openElements.stackTop;for(;i>=0;i--){const n=e.openElements.items[i];if(n===t.element)break;e._isSpecialElement(n,e.openElements.tagIDs[i])&&(a=n)}return a||(e.openElements.shortenToLength(Math.max(i,0)),e.activeFormattingElements.removeEntry(t)),a}function r0(e,t,a){let i=t,n=e.openElements.getCommonAncestor(t);for(let o=0,u=n;u!==a;o++,u=n){n=e.openElements.getCommonAncestor(u);const l=e.activeFormattingElements.getElementEntry(u),c=l&&o>=s0;!l||c?(c&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(u)):(u=o0(e,l),i===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(i),e.treeAdapter.appendChild(u,i),i=u)}return i}function o0(e,t){const a=e.treeAdapter.getNamespaceURI(t.element),i=e.treeAdapter.createElement(t.token.tagName,a,t.token.attrs);return e.openElements.replace(t.element,i),t.element=i,i}function u0(e,t,a){const i=e.treeAdapter.getTagName(t),n=ks(i);if(e._isElementCausesFosterParenting(n))e._fosterParentElement(a);else{const o=e.treeAdapter.getNamespaceURI(t);n===r.TEMPLATE&&o===O.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,a)}}function c0(e,t,a){const i=e.treeAdapter.getNamespaceURI(a.element),{token:n}=a,o=e.treeAdapter.createElement(n.tagName,i,n.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,n),e.activeFormattingElements.removeEntry(a),e.openElements.remove(a.element),e.openElements.insertAfter(t,o,n.tagID)}function Ga(e,t){for(let a=0;a<t0;a++){const i=i0(e,t);if(!i)break;const n=n0(e,i);if(!n)break;e.activeFormattingElements.bookmark=i;const o=r0(e,n,i.element),u=e.openElements.getCommonAncestor(i.element);e.treeAdapter.detachNode(o),u&&u0(e,u,o),c0(e,n,i)}}function fa(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function l0(e,t){e._appendCommentNode(t,e.openElements.items[0])}function d0(e,t){e._appendCommentNode(t,e.document)}function Wa(e,t){if(e.stopped=!0,t.location){const a=e.fragmentContext?0:2;for(let i=e.openElements.stackTop;i>=a;i--)e._setEndLocation(e.openElements.items[i],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const i=e.openElements.items[0],n=e.treeAdapter.getNodeSourceCodeLocation(i);if(n&&!n.endTag&&(e._setEndLocation(i,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],u=e.treeAdapter.getNodeSourceCodeLocation(o);u&&!u.endTag&&e._setEndLocation(o,t)}}}}function m0(e,t){e._setDocumentType(t);const a=t.forceQuirks?fe.QUIRKS:qd(t);Hd(t)||e._err(t,w.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,a),e.insertionMode=N.BEFORE_HTML}function gt(e,t){e._err(t,w.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,fe.QUIRKS),e.insertionMode=N.BEFORE_HTML,e._processToken(t)}function h0(e,t){t.tagID===r.HTML?(e._insertElement(t,O.HTML),e.insertionMode=N.BEFORE_HEAD):_t(e,t)}function g0(e,t){const a=t.tagID;(a===r.HTML||a===r.HEAD||a===r.BODY||a===r.BR)&&_t(e,t)}function _t(e,t){e._insertFakeRootElement(),e.insertionMode=N.BEFORE_HEAD,e._processToken(t)}function x0(e,t){switch(t.tagID){case r.HTML:{le(e,t);break}case r.HEAD:{e._insertElement(t,O.HTML),e.headElement=e.openElements.current,e.insertionMode=N.IN_HEAD;break}default:Et(e,t)}}function p0(e,t){const a=t.tagID;a===r.HEAD||a===r.BODY||a===r.HTML||a===r.BR?Et(e,t):e._err(t,w.endTagWithoutMatchingOpenElement)}function Et(e,t){e._insertFakeElement(j.HEAD,r.HEAD),e.headElement=e.openElements.current,e.insertionMode=N.IN_HEAD,e._processToken(t)}function Te(e,t){switch(t.tagID){case r.HTML:{le(e,t);break}case r.BASE:case r.BASEFONT:case r.BGSOUND:case r.LINK:case r.META:{e._appendElement(t,O.HTML),t.ackSelfClosing=!0;break}case r.TITLE:{e._switchToTextParsing(t,xe.RCDATA);break}case r.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,xe.RAWTEXT):(e._insertElement(t,O.HTML),e.insertionMode=N.IN_HEAD_NO_SCRIPT);break}case r.NOFRAMES:case r.STYLE:{e._switchToTextParsing(t,xe.RAWTEXT);break}case r.SCRIPT:{e._switchToTextParsing(t,xe.SCRIPT_DATA);break}case r.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=N.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(N.IN_TEMPLATE);break}case r.HEAD:{e._err(t,w.misplacedStartTagForHeadElement);break}default:jt(e,t)}}function f0(e,t){switch(t.tagID){case r.HEAD:{e.openElements.pop(),e.insertionMode=N.AFTER_HEAD;break}case r.BODY:case r.BR:case r.HTML:{jt(e,t);break}case r.TEMPLATE:{tt(e,t);break}default:e._err(t,w.endTagWithoutMatchingOpenElement)}}function tt(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==r.TEMPLATE&&e._err(t,w.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(r.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,w.endTagWithoutMatchingOpenElement)}function jt(e,t){e.openElements.pop(),e.insertionMode=N.AFTER_HEAD,e._processToken(t)}function b0(e,t){switch(t.tagID){case r.HTML:{le(e,t);break}case r.BASEFONT:case r.BGSOUND:case r.HEAD:case r.LINK:case r.META:case r.NOFRAMES:case r.STYLE:{Te(e,t);break}case r.NOSCRIPT:{e._err(t,w.nestedNoscriptInHead);break}default:Tt(e,t)}}function y0(e,t){switch(t.tagID){case r.NOSCRIPT:{e.openElements.pop(),e.insertionMode=N.IN_HEAD;break}case r.BR:{Tt(e,t);break}default:e._err(t,w.endTagWithoutMatchingOpenElement)}}function Tt(e,t){const a=t.type===$.EOF?w.openElementsLeftAfterEof:w.disallowedContentInNoscriptInHead;e._err(t,a),e.openElements.pop(),e.insertionMode=N.IN_HEAD,e._processToken(t)}function N0(e,t){switch(t.tagID){case r.HTML:{le(e,t);break}case r.BODY:{e._insertElement(t,O.HTML),e.framesetOk=!1,e.insertionMode=N.IN_BODY;break}case r.FRAMESET:{e._insertElement(t,O.HTML),e.insertionMode=N.IN_FRAMESET;break}case r.BASE:case r.BASEFONT:case r.BGSOUND:case r.LINK:case r.META:case r.NOFRAMES:case r.SCRIPT:case r.STYLE:case r.TEMPLATE:case r.TITLE:{e._err(t,w.abandonedHeadElementChild),e.openElements.push(e.headElement,r.HEAD),Te(e,t),e.openElements.remove(e.headElement);break}case r.HEAD:{e._err(t,w.misplacedStartTagForHeadElement);break}default:wt(e,t)}}function v0(e,t){switch(t.tagID){case r.BODY:case r.HTML:case r.BR:{wt(e,t);break}case r.TEMPLATE:{tt(e,t);break}default:e._err(t,w.endTagWithoutMatchingOpenElement)}}function wt(e,t){e._insertFakeElement(j.BODY,r.BODY),e.insertionMode=N.IN_BODY,Os(e,t)}function Os(e,t){switch(t.type){case $.CHARACTER:{rr(e,t);break}case $.WHITESPACE_CHARACTER:{nr(e,t);break}case $.COMMENT:{fa(e,t);break}case $.START_TAG:{le(e,t);break}case $.END_TAG:{Ds(e,t);break}case $.EOF:{lr(e,t);break}}}function nr(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function rr(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function _0(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function E0(e,t){const a=e.openElements.tryPeekProperlyNestedBodyElement();a&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(a,t.attrs))}function j0(e,t){const a=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&a&&(e.treeAdapter.detachNode(a),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,O.HTML),e.insertionMode=N.IN_FRAMESET)}function T0(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,O.HTML)}function w0(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&pa.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,O.HTML)}function A0(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,O.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function C0(e,t){const a=e.openElements.tmplCount>0;(!e.formElement||a)&&(e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,O.HTML),a||(e.formElement=e.openElements.current))}function S0(e,t){e.framesetOk=!1;const a=t.tagID;for(let i=e.openElements.stackTop;i>=0;i--){const n=e.openElements.tagIDs[i];if(a===r.LI&&n===r.LI||(a===r.DD||a===r.DT)&&(n===r.DD||n===r.DT)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n);break}if(n!==r.ADDRESS&&n!==r.DIV&&n!==r.P&&e._isSpecialElement(e.openElements.items[i],n))break}e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,O.HTML)}function I0(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,O.HTML),e.tokenizer.state=xe.PLAINTEXT}function k0(e,t){e.openElements.hasInScope(r.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.framesetOk=!1}function O0(e,t){const a=e.activeFormattingElements.getElementEntryInScopeWithTagName(j.A);a&&(Ga(e,t),e.openElements.remove(a.element),e.activeFormattingElements.removeEntry(a)),e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function D0(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function L0(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(r.NOBR)&&(Ga(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,O.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function R0(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function P0(e,t){e.treeAdapter.getDocumentMode(e.document)!==fe.QUIRKS&&e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,O.HTML),e.framesetOk=!1,e.insertionMode=N.IN_TABLE}function or(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,O.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function ur(e){const t=Kn(e,Qe.TYPE);return t!=null&&t.toLowerCase()===e0}function M0(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,O.HTML),ur(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function B0(e,t){e._appendElement(t,O.HTML),t.ackSelfClosing=!0}function U0(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._appendElement(t,O.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function F0(e,t){t.tagName=j.IMG,t.tagID=r.IMG,or(e,t)}function H0(e,t){e._insertElement(t,O.HTML),e.skipNextNewLine=!0,e.tokenizer.state=xe.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=N.TEXT}function q0(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,xe.RAWTEXT)}function z0(e,t){e.framesetOk=!1,e._switchToTextParsing(t,xe.RAWTEXT)}function Di(e,t){e._switchToTextParsing(t,xe.RAWTEXT)}function V0(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===N.IN_TABLE||e.insertionMode===N.IN_CAPTION||e.insertionMode===N.IN_TABLE_BODY||e.insertionMode===N.IN_ROW||e.insertionMode===N.IN_CELL?N.IN_SELECT_IN_TABLE:N.IN_SELECT}function Y0(e,t){e.openElements.currentTagId===r.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML)}function $0(e,t){e.openElements.hasInScope(r.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,O.HTML)}function G0(e,t){e.openElements.hasInScope(r.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(r.RTC),e._insertElement(t,O.HTML)}function W0(e,t){e._reconstructActiveFormattingElements(),tr(t),$a(t),t.selfClosing?e._appendElement(t,O.MATHML):e._insertElement(t,O.MATHML),t.ackSelfClosing=!0}function K0(e,t){e._reconstructActiveFormattingElements(),sr(t),$a(t),t.selfClosing?e._appendElement(t,O.SVG):e._insertElement(t,O.SVG),t.ackSelfClosing=!0}function Li(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML)}function le(e,t){switch(t.tagID){case r.I:case r.S:case r.B:case r.U:case r.EM:case r.TT:case r.BIG:case r.CODE:case r.FONT:case r.SMALL:case r.STRIKE:case r.STRONG:{D0(e,t);break}case r.A:{O0(e,t);break}case r.H1:case r.H2:case r.H3:case r.H4:case r.H5:case r.H6:{w0(e,t);break}case r.P:case r.DL:case r.OL:case r.UL:case r.DIV:case r.DIR:case r.NAV:case r.MAIN:case r.MENU:case r.ASIDE:case r.CENTER:case r.FIGURE:case r.FOOTER:case r.HEADER:case r.HGROUP:case r.DIALOG:case r.DETAILS:case r.ADDRESS:case r.ARTICLE:case r.SEARCH:case r.SECTION:case r.SUMMARY:case r.FIELDSET:case r.BLOCKQUOTE:case r.FIGCAPTION:{T0(e,t);break}case r.LI:case r.DD:case r.DT:{S0(e,t);break}case r.BR:case r.IMG:case r.WBR:case r.AREA:case r.EMBED:case r.KEYGEN:{or(e,t);break}case r.HR:{U0(e,t);break}case r.RB:case r.RTC:{$0(e,t);break}case r.RT:case r.RP:{G0(e,t);break}case r.PRE:case r.LISTING:{A0(e,t);break}case r.XMP:{q0(e,t);break}case r.SVG:{K0(e,t);break}case r.HTML:{_0(e,t);break}case r.BASE:case r.LINK:case r.META:case r.STYLE:case r.TITLE:case r.SCRIPT:case r.BGSOUND:case r.BASEFONT:case r.TEMPLATE:{Te(e,t);break}case r.BODY:{E0(e,t);break}case r.FORM:{C0(e,t);break}case r.NOBR:{L0(e,t);break}case r.MATH:{W0(e,t);break}case r.TABLE:{P0(e,t);break}case r.INPUT:{M0(e,t);break}case r.PARAM:case r.TRACK:case r.SOURCE:{B0(e,t);break}case r.IMAGE:{F0(e,t);break}case r.BUTTON:{k0(e,t);break}case r.APPLET:case r.OBJECT:case r.MARQUEE:{R0(e,t);break}case r.IFRAME:{z0(e,t);break}case r.SELECT:{V0(e,t);break}case r.OPTION:case r.OPTGROUP:{Y0(e,t);break}case r.NOEMBED:case r.NOFRAMES:{Di(e,t);break}case r.FRAMESET:{j0(e,t);break}case r.TEXTAREA:{H0(e,t);break}case r.NOSCRIPT:{e.options.scriptingEnabled?Di(e,t):Li(e,t);break}case r.PLAINTEXT:{I0(e,t);break}case r.COL:case r.TH:case r.TD:case r.TR:case r.HEAD:case r.FRAME:case r.TBODY:case r.TFOOT:case r.THEAD:case r.CAPTION:case r.COLGROUP:break;default:Li(e,t)}}function Q0(e,t){if(e.openElements.hasInScope(r.BODY)&&(e.insertionMode=N.AFTER_BODY,e.options.sourceCodeLocationInfo)){const a=e.openElements.tryPeekProperlyNestedBodyElement();a&&e._setEndLocation(a,t)}}function X0(e,t){e.openElements.hasInScope(r.BODY)&&(e.insertionMode=N.AFTER_BODY,br(e,t))}function J0(e,t){const a=t.tagID;e.openElements.hasInScope(a)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(a))}function Z0(e){const t=e.openElements.tmplCount>0,{formElement:a}=e;t||(e.formElement=null),(a||t)&&e.openElements.hasInScope(r.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(r.FORM):a&&e.openElements.remove(a))}function em(e){e.openElements.hasInButtonScope(r.P)||e._insertFakeElement(j.P,r.P),e._closePElement()}function tm(e){e.openElements.hasInListItemScope(r.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(r.LI),e.openElements.popUntilTagNamePopped(r.LI))}function sm(e,t){const a=t.tagID;e.openElements.hasInScope(a)&&(e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a))}function am(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function im(e,t){const a=t.tagID;e.openElements.hasInScope(a)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(a),e.activeFormattingElements.clearToLastMarker())}function nm(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(j.BR,r.BR),e.openElements.pop(),e.framesetOk=!1}function cr(e,t){const a=t.tagName,i=t.tagID;for(let n=e.openElements.stackTop;n>0;n--){const o=e.openElements.items[n],u=e.openElements.tagIDs[n];if(i===u&&(i!==r.UNKNOWN||e.treeAdapter.getTagName(o)===a)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.stackTop>=n&&e.openElements.shortenToLength(n);break}if(e._isSpecialElement(o,u))break}}function Ds(e,t){switch(t.tagID){case r.A:case r.B:case r.I:case r.S:case r.U:case r.EM:case r.TT:case r.BIG:case r.CODE:case r.FONT:case r.NOBR:case r.SMALL:case r.STRIKE:case r.STRONG:{Ga(e,t);break}case r.P:{em(e);break}case r.DL:case r.UL:case r.OL:case r.DIR:case r.DIV:case r.NAV:case r.PRE:case r.MAIN:case r.MENU:case r.ASIDE:case r.BUTTON:case r.CENTER:case r.FIGURE:case r.FOOTER:case r.HEADER:case r.HGROUP:case r.DIALOG:case r.ADDRESS:case r.ARTICLE:case r.DETAILS:case r.SEARCH:case r.SECTION:case r.SUMMARY:case r.LISTING:case r.FIELDSET:case r.BLOCKQUOTE:case r.FIGCAPTION:{J0(e,t);break}case r.LI:{tm(e);break}case r.DD:case r.DT:{sm(e,t);break}case r.H1:case r.H2:case r.H3:case r.H4:case r.H5:case r.H6:{am(e);break}case r.BR:{nm(e);break}case r.BODY:{Q0(e,t);break}case r.HTML:{X0(e,t);break}case r.FORM:{Z0(e);break}case r.APPLET:case r.OBJECT:case r.MARQUEE:{im(e,t);break}case r.TEMPLATE:{tt(e,t);break}default:cr(e,t)}}function lr(e,t){e.tmplInsertionModeStack.length>0?fr(e,t):Wa(e,t)}function rm(e,t){var a;t.tagID===r.SCRIPT&&((a=e.scriptHandler)===null||a===void 0||a.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function om(e,t){e._err(t,w.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Qs(e,t){if(e.openElements.currentTagId!==void 0&&ar.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=N.IN_TABLE_TEXT,t.type){case $.CHARACTER:{mr(e,t);break}case $.WHITESPACE_CHARACTER:{dr(e,t);break}}else qt(e,t)}function um(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,O.HTML),e.insertionMode=N.IN_CAPTION}function cm(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,O.HTML),e.insertionMode=N.IN_COLUMN_GROUP}function lm(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(j.COLGROUP,r.COLGROUP),e.insertionMode=N.IN_COLUMN_GROUP,Ka(e,t)}function dm(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,O.HTML),e.insertionMode=N.IN_TABLE_BODY}function mm(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(j.TBODY,r.TBODY),e.insertionMode=N.IN_TABLE_BODY,Ls(e,t)}function hm(e,t){e.openElements.hasInTableScope(r.TABLE)&&(e.openElements.popUntilTagNamePopped(r.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function gm(e,t){ur(t)?e._appendElement(t,O.HTML):qt(e,t),t.ackSelfClosing=!0}function xm(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,O.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ct(e,t){switch(t.tagID){case r.TD:case r.TH:case r.TR:{mm(e,t);break}case r.STYLE:case r.SCRIPT:case r.TEMPLATE:{Te(e,t);break}case r.COL:{lm(e,t);break}case r.FORM:{xm(e,t);break}case r.TABLE:{hm(e,t);break}case r.TBODY:case r.TFOOT:case r.THEAD:{dm(e,t);break}case r.INPUT:{gm(e,t);break}case r.CAPTION:{um(e,t);break}case r.COLGROUP:{cm(e,t);break}default:qt(e,t)}}function Lt(e,t){switch(t.tagID){case r.TABLE:{e.openElements.hasInTableScope(r.TABLE)&&(e.openElements.popUntilTagNamePopped(r.TABLE),e._resetInsertionMode());break}case r.TEMPLATE:{tt(e,t);break}case r.BODY:case r.CAPTION:case r.COL:case r.COLGROUP:case r.HTML:case r.TBODY:case r.TD:case r.TFOOT:case r.TH:case r.THEAD:case r.TR:break;default:qt(e,t)}}function qt(e,t){const a=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Os(e,t),e.fosterParentingEnabled=a}function dr(e,t){e.pendingCharacterTokens.push(t)}function mr(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function xt(e,t){let a=0;if(e.hasNonWhitespacePendingCharacterToken)for(;a<e.pendingCharacterTokens.length;a++)qt(e,e.pendingCharacterTokens[a]);else for(;a<e.pendingCharacterTokens.length;a++)e._insertCharacters(e.pendingCharacterTokens[a]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const hr=new Set([r.CAPTION,r.COL,r.COLGROUP,r.TBODY,r.TD,r.TFOOT,r.TH,r.THEAD,r.TR]);function pm(e,t){const a=t.tagID;hr.has(a)?e.openElements.hasInTableScope(r.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N.IN_TABLE,ct(e,t)):le(e,t)}function fm(e,t){const a=t.tagID;switch(a){case r.CAPTION:case r.TABLE:{e.openElements.hasInTableScope(r.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N.IN_TABLE,a===r.TABLE&&Lt(e,t));break}case r.BODY:case r.COL:case r.COLGROUP:case r.HTML:case r.TBODY:case r.TD:case r.TFOOT:case r.TH:case r.THEAD:case r.TR:break;default:Ds(e,t)}}function Ka(e,t){switch(t.tagID){case r.HTML:{le(e,t);break}case r.COL:{e._appendElement(t,O.HTML),t.ackSelfClosing=!0;break}case r.TEMPLATE:{Te(e,t);break}default:hs(e,t)}}function bm(e,t){switch(t.tagID){case r.COLGROUP:{e.openElements.currentTagId===r.COLGROUP&&(e.openElements.pop(),e.insertionMode=N.IN_TABLE);break}case r.TEMPLATE:{tt(e,t);break}case r.COL:break;default:hs(e,t)}}function hs(e,t){e.openElements.currentTagId===r.COLGROUP&&(e.openElements.pop(),e.insertionMode=N.IN_TABLE,e._processToken(t))}function Ls(e,t){switch(t.tagID){case r.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,O.HTML),e.insertionMode=N.IN_ROW;break}case r.TH:case r.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(j.TR,r.TR),e.insertionMode=N.IN_ROW,Rs(e,t);break}case r.CAPTION:case r.COL:case r.COLGROUP:case r.TBODY:case r.TFOOT:case r.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE,ct(e,t));break}default:ct(e,t)}}function ba(e,t){const a=t.tagID;switch(t.tagID){case r.TBODY:case r.TFOOT:case r.THEAD:{e.openElements.hasInTableScope(a)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE);break}case r.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE,Lt(e,t));break}case r.BODY:case r.CAPTION:case r.COL:case r.COLGROUP:case r.HTML:case r.TD:case r.TH:case r.TR:break;default:Lt(e,t)}}function Rs(e,t){switch(t.tagID){case r.TH:case r.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,O.HTML),e.insertionMode=N.IN_CELL,e.activeFormattingElements.insertMarker();break}case r.CAPTION:case r.COL:case r.COLGROUP:case r.TBODY:case r.TFOOT:case r.THEAD:case r.TR:{e.openElements.hasInTableScope(r.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY,Ls(e,t));break}default:ct(e,t)}}function gr(e,t){switch(t.tagID){case r.TR:{e.openElements.hasInTableScope(r.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY);break}case r.TABLE:{e.openElements.hasInTableScope(r.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY,ba(e,t));break}case r.TBODY:case r.TFOOT:case r.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(r.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=N.IN_TABLE_BODY,ba(e,t));break}case r.BODY:case r.CAPTION:case r.COL:case r.COLGROUP:case r.HTML:case r.TD:case r.TH:break;default:Lt(e,t)}}function ym(e,t){const a=t.tagID;hr.has(a)?(e.openElements.hasInTableScope(r.TD)||e.openElements.hasInTableScope(r.TH))&&(e._closeTableCell(),Rs(e,t)):le(e,t)}function Nm(e,t){const a=t.tagID;switch(a){case r.TD:case r.TH:{e.openElements.hasInTableScope(a)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(a),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N.IN_ROW);break}case r.TABLE:case r.TBODY:case r.TFOOT:case r.THEAD:case r.TR:{e.openElements.hasInTableScope(a)&&(e._closeTableCell(),gr(e,t));break}case r.BODY:case r.CAPTION:case r.COL:case r.COLGROUP:case r.HTML:break;default:Ds(e,t)}}function xr(e,t){switch(t.tagID){case r.HTML:{le(e,t);break}case r.OPTION:{e.openElements.currentTagId===r.OPTION&&e.openElements.pop(),e._insertElement(t,O.HTML);break}case r.OPTGROUP:{e.openElements.currentTagId===r.OPTION&&e.openElements.pop(),e.openElements.currentTagId===r.OPTGROUP&&e.openElements.pop(),e._insertElement(t,O.HTML);break}case r.HR:{e.openElements.currentTagId===r.OPTION&&e.openElements.pop(),e.openElements.currentTagId===r.OPTGROUP&&e.openElements.pop(),e._appendElement(t,O.HTML),t.ackSelfClosing=!0;break}case r.INPUT:case r.KEYGEN:case r.TEXTAREA:case r.SELECT:{e.openElements.hasInSelectScope(r.SELECT)&&(e.openElements.popUntilTagNamePopped(r.SELECT),e._resetInsertionMode(),t.tagID!==r.SELECT&&e._processStartTag(t));break}case r.SCRIPT:case r.TEMPLATE:{Te(e,t);break}}}function pr(e,t){switch(t.tagID){case r.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===r.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===r.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===r.OPTGROUP&&e.openElements.pop();break}case r.OPTION:{e.openElements.currentTagId===r.OPTION&&e.openElements.pop();break}case r.SELECT:{e.openElements.hasInSelectScope(r.SELECT)&&(e.openElements.popUntilTagNamePopped(r.SELECT),e._resetInsertionMode());break}case r.TEMPLATE:{tt(e,t);break}}}function vm(e,t){const a=t.tagID;a===r.CAPTION||a===r.TABLE||a===r.TBODY||a===r.TFOOT||a===r.THEAD||a===r.TR||a===r.TD||a===r.TH?(e.openElements.popUntilTagNamePopped(r.SELECT),e._resetInsertionMode(),e._processStartTag(t)):xr(e,t)}function _m(e,t){const a=t.tagID;a===r.CAPTION||a===r.TABLE||a===r.TBODY||a===r.TFOOT||a===r.THEAD||a===r.TR||a===r.TD||a===r.TH?e.openElements.hasInTableScope(a)&&(e.openElements.popUntilTagNamePopped(r.SELECT),e._resetInsertionMode(),e.onEndTag(t)):pr(e,t)}function Em(e,t){switch(t.tagID){case r.BASE:case r.BASEFONT:case r.BGSOUND:case r.LINK:case r.META:case r.NOFRAMES:case r.SCRIPT:case r.STYLE:case r.TEMPLATE:case r.TITLE:{Te(e,t);break}case r.CAPTION:case r.COLGROUP:case r.TBODY:case r.TFOOT:case r.THEAD:{e.tmplInsertionModeStack[0]=N.IN_TABLE,e.insertionMode=N.IN_TABLE,ct(e,t);break}case r.COL:{e.tmplInsertionModeStack[0]=N.IN_COLUMN_GROUP,e.insertionMode=N.IN_COLUMN_GROUP,Ka(e,t);break}case r.TR:{e.tmplInsertionModeStack[0]=N.IN_TABLE_BODY,e.insertionMode=N.IN_TABLE_BODY,Ls(e,t);break}case r.TD:case r.TH:{e.tmplInsertionModeStack[0]=N.IN_ROW,e.insertionMode=N.IN_ROW,Rs(e,t);break}default:e.tmplInsertionModeStack[0]=N.IN_BODY,e.insertionMode=N.IN_BODY,le(e,t)}}function jm(e,t){t.tagID===r.TEMPLATE&&tt(e,t)}function fr(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(r.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Wa(e,t)}function Tm(e,t){t.tagID===r.HTML?le(e,t):gs(e,t)}function br(e,t){var a;if(t.tagID===r.HTML){if(e.fragmentContext||(e.insertionMode=N.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===r.HTML){e._setEndLocation(e.openElements.items[0],t);const i=e.openElements.items[1];i&&!(!((a=e.treeAdapter.getNodeSourceCodeLocation(i))===null||a===void 0)&&a.endTag)&&e._setEndLocation(i,t)}}else gs(e,t)}function gs(e,t){e.insertionMode=N.IN_BODY,Os(e,t)}function wm(e,t){switch(t.tagID){case r.HTML:{le(e,t);break}case r.FRAMESET:{e._insertElement(t,O.HTML);break}case r.FRAME:{e._appendElement(t,O.HTML),t.ackSelfClosing=!0;break}case r.NOFRAMES:{Te(e,t);break}}}function Am(e,t){t.tagID===r.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==r.FRAMESET&&(e.insertionMode=N.AFTER_FRAMESET))}function Cm(e,t){switch(t.tagID){case r.HTML:{le(e,t);break}case r.NOFRAMES:{Te(e,t);break}}}function Sm(e,t){t.tagID===r.HTML&&(e.insertionMode=N.AFTER_AFTER_FRAMESET)}function Im(e,t){t.tagID===r.HTML?le(e,t):ts(e,t)}function ts(e,t){e.insertionMode=N.IN_BODY,Os(e,t)}function km(e,t){switch(t.tagID){case r.HTML:{le(e,t);break}case r.NOFRAMES:{Te(e,t);break}}}function Om(e,t){t.chars=J,e._insertCharacters(t)}function Dm(e,t){e._insertCharacters(t),e.framesetOk=!1}function yr(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==O.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Lm(e,t){if(Kd(t))yr(e),e._startTagOutsideForeignContent(t);else{const a=e._getAdjustedCurrentElement(),i=e.treeAdapter.getNamespaceURI(a);i===O.MATHML?tr(t):i===O.SVG&&(Qd(t),sr(t)),$a(t),t.selfClosing?e._appendElement(t,i):e._insertElement(t,i),t.ackSelfClosing=!0}}function Rm(e,t){if(t.tagID===r.P||t.tagID===r.BR){yr(e),e._endTagOutsideForeignContent(t);return}for(let a=e.openElements.stackTop;a>0;a--){const i=e.openElements.items[a];if(e.treeAdapter.getNamespaceURI(i)===O.HTML){e._endTagOutsideForeignContent(t);break}const n=e.treeAdapter.getTagName(i);if(n.toLowerCase()===t.tagName){t.tagName=n,e.openElements.shortenToLength(a);break}}}function Nr(e,t){return function(i){let n,o=0,u="";for(;n=e.exec(i);)o!==n.index&&(u+=i.substring(o,n.index)),u+=t.get(n[0].charCodeAt(0)),o=n.index+1;return u+i.substring(o)}}const Pm=Nr(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Mm=Nr(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),Bm=new Set([j.AREA,j.BASE,j.BASEFONT,j.BGSOUND,j.BR,j.COL,j.EMBED,j.FRAME,j.HR,j.IMG,j.INPUT,j.KEYGEN,j.LINK,j.META,j.PARAM,j.SOURCE,j.TRACK,j.WBR]);function Um(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===O.HTML&&Bm.has(t.treeAdapter.getTagName(e))}const Fm={treeAdapter:Le,scriptingEnabled:!0};function Hm(e,t){const a={...Fm,...t};return vr(e,a)}function qm(e,t){let a="";const i=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===j.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===O.HTML?t.treeAdapter.getTemplateContent(e):e,n=t.treeAdapter.getChildNodes(i);if(n)for(const o of n)a+=vr(o,t);return a}function vr(e,t){return t.treeAdapter.isElementNode(e)?zm(e,t):t.treeAdapter.isTextNode(e)?Ym(e,t):t.treeAdapter.isCommentNode(e)?$m(e,t):t.treeAdapter.isDocumentTypeNode(e)?Gm(e,t):""}function zm(e,t){const a=t.treeAdapter.getTagName(e);return`<${a}${Vm(e,t)}>${Um(e,t)?"":`${qm(e,t)}</${a}>`}`}function Vm(e,{treeAdapter:t}){let a="";for(const i of t.getAttrList(e)){if(a+=" ",i.namespace)switch(i.namespace){case O.XML:{a+=`xml:${i.name}`;break}case O.XMLNS:{i.name!=="xmlns"&&(a+="xmlns:"),a+=i.name;break}case O.XLINK:{a+=`xlink:${i.name}`;break}default:a+=`${i.prefix}:${i.name}`}else a+=i.name;a+=`="${Pm(i.value)}"`}return a}function Ym(e,t){const{treeAdapter:a}=t,i=a.getTextNodeContent(e),n=a.getParentNode(e),o=n&&a.isElementNode(n)&&a.getTagName(n);return o&&a.getNamespaceURI(n)===O.HTML&&Ed(o,t.scriptingEnabled)?i:Mm(i)}function $m(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function Gm(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}function Wm(e,t){return ir.parse(e,t)}function Km(e,t,a){typeof e=="string"&&(a=t,t=e,e=null);const i=ir.getFragmentParser(e,a);return i.tokenizer.write(t,!0),i.getFragment()}function Ri(e){const t=e.includes('"')?"'":'"';return t+e+t}function Qm(e,t,a){let i="!DOCTYPE ";return e&&(i+=e),t?i+=` PUBLIC ${Ri(t)}`:a&&(i+=" SYSTEM"),a&&(i+=` ${Ri(a)}`),i}const Fe={isCommentNode:ws,isElementNode:F,isTextNode:Ie,createDocument(){const e=new Je([]);return e["x-mode"]=fe.NO_QUIRKS,e},createDocumentFragment(){return new Je([])},createElement(e,t,a){const i=Object.create(null),n=Object.create(null),o=Object.create(null);for(let l=0;l<a.length;l++){const c=a[l].name;i[c]=a[l].value,n[c]=a[l].namespace,o[c]=a[l].prefix}const u=new Oa(e,i,[]);return u.namespace=t,u["x-attribsNamespace"]=n,u["x-attribsPrefix"]=o,u},createCommentNode(e){return new Sa(e)},createTextNode(e){return new St(e)},appendChild(e,t){const a=e.children[e.children.length-1];a&&(a.next=t,t.prev=a),e.children.push(t),t.parent=e},insertBefore(e,t,a){const i=e.children.indexOf(a),{prev:n}=a;n&&(n.next=t,t.prev=n),a.prev=t,t.next=a,e.children.splice(i,0,t),t.parent=e},setTemplateContent(e,t){Fe.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,a,i){const n=Qm(t,a,i);let o=e.children.find(u=>ra(u)&&u.name==="!doctype");o?o.data=n??null:(o=new Ia("!doctype",n),Fe.appendChild(e,o)),o["x-name"]=t,o["x-publicId"]=a,o["x-systemId"]=i},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:a,next:i}=e;e.prev=null,e.next=null,a&&(a.next=i),i&&(i.prev=a),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const a=e.children[e.children.length-1];a&&Ie(a)?a.data+=t:Fe.appendChild(e,Fe.createTextNode(t))},insertTextBefore(e,t,a){const i=e.children[e.children.indexOf(a)-1];i&&Ie(i)?i.data+=t:Fe.insertBefore(e,Fe.createTextNode(t),a)},adoptAttributes(e,t){for(let a=0;a<t.length;a++){const i=t[a].name;e.attribs[i]===void 0&&(e.attribs[i]=t[a].value,e["x-attribsNamespace"][i]=t[a].namespace,e["x-attribsPrefix"][i]=t[a].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return ra(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function Xm(e,t,a,i){var n;return(n=t.treeAdapter)!==null&&n!==void 0||(t.treeAdapter=Fe),t.scriptingEnabled!==!1&&(t.scriptingEnabled=!0),a?Wm(e,t):Km(i,e,t)}const Jm={treeAdapter:Fe};function Zm(e){const t="length"in e?e:[e];for(let i=0;i<t.length;i+=1){const n=t[i];Ye(n)&&Array.prototype.splice.call(t,i,1,...n.children)}let a="";for(let i=0;i<t.length;i+=1){const n=t[i];a+=Hm(n,Jm)}return a}const eh=Tl((e,t,a,i)=>t._useHtmlParser2?Zu(e,t):Xm(e,t,a,i)),Qt=id(eh,(e,t)=>t._useHtmlParser2?As(e,t):Zm(e));class th{baseUrl="https://blkoutuk.com";batchSize=10;async discoverArticles(){const t=[];try{console.log("🔍 Discovering articles from BLKOUTUK.com...");const i=await(await fetch(this.baseUrl)).text(),n=Qt(i),o=[];n('a[href*="/read/"], a[href*="/article/"], a[href*="/story/"], a[href*="/post/"]').each((u,l)=>{const c=n(l).attr("href");c&&!o.includes(c)&&o.push(c.startsWith("http")?c:`${this.baseUrl}${c}`)}),n(".menu a, nav a, .navigation a").each((u,l)=>{const c=n(l).attr("href"),h=n(l).text().toLowerCase();if(c&&(h.includes("read")||h.includes("blog")||h.includes("stories"))){const p=c.startsWith("http")?c:`${this.baseUrl}${c}`;o.includes(p)||o.push(p)}}),console.log(`📄 Found ${o.length} potential article links`);for(const u of o.slice(0,50))try{const l=await this.extractArticleData(u);l&&t.push(l)}catch(l){console.warn(`Failed to extract article from ${u}:`,l)}return console.log(`✅ Successfully discovered ${t.length} articles`),t}catch(a){throw console.error("Failed to discover articles:",a),a}}async extractArticleData(t){try{const a=await fetch(t);if(!a.ok)return null;const i=await a.text(),n=Qt(i),o=this.extractTitle(n);if(!o)return null;const u=this.extractContent(n);return u?{title:o,slug:this.generateSlug(o),published_date:this.extractPublishedDate(n)||new Date().toISOString(),featured_image:this.extractFeaturedImage(n),content:u,excerpt:this.generateExcerpt(u),author:this.extractAuthor(n),category:this.categorizeArticle(o,u),tags:this.extractTags(n,u),source_url:t,hashtags:this.extractHashtags(u)}:null}catch(a){return console.error(`Failed to extract article data from ${t}:`,a),null}}extractTitle(t){const a=["h1",".post-title",".article-title",".entry-title",'meta[property="og:title"]',"title"];for(const i of a){const n=t(i).first().text().trim()||t(i).attr("content")?.trim();if(n&&n.length>5)return n}return null}extractContent(t){const a=[".post-content",".article-content",".entry-content",".content","main article",".story-body"];for(const i of a){const n=t(i).first().html();if(n&&n.length>100){const o=Qt(n);return o("script, style, .ads, .advertisement").remove(),o.html()||n}}return null}extractPublishedDate(t){const a=['meta[property="article:published_time"]','meta[name="publication-date"]',".published-date",".post-date","time[datetime]"];for(const i of a){const n=t(i).attr("content")||t(i).attr("datetime")||t(i).text().trim();if(n){const o=new Date(n);if(!isNaN(o.getTime()))return o.toISOString()}}return null}extractFeaturedImage(t){const a=['meta[property="og:image"]',".featured-image img",".post-thumbnail img","article img:first-of-type"];for(const i of a){const n=t(i).attr("content")||t(i).attr("src");if(n)return n.startsWith("http")?n:`${this.baseUrl}${n}`}}extractAuthor(t){const a=['meta[name="author"]',".author-name",".post-author",".byline"];for(const i of a){const n=t(i).attr("content")||t(i).text().trim();if(n&&n.length>2)return n}return"BLKOUTUK"}categorizeArticle(t,a){const i=`${t} ${a}`.toLowerCase();return i.includes("listen")||i.includes("podcast")||i.includes("audio")?"LISTEN":i.includes("watch")||i.includes("video")||i.includes("film")?"WATCH":i.includes("gallery")||i.includes("photos")||i.includes("images")?"GALLERY":i.includes("event")||i.includes("happening")||i.includes("attend")?"EVENT":i.includes("report")||i.includes("investigation")||i.includes("findings")?"REPORT":"READ"}extractTags(t,a){const i=[];t('meta[name="keywords"]').each((u,l)=>{const c=t(l).attr("content")?.split(",").map(h=>h.trim())||[];i.push(...c)});const n=["community","culture","health","wellness","activism","liberation","trans","queer","black","uk","london","manchester","birmingham","organizing","solidarity","justice","pride","visibility"],o=a.toLowerCase();return n.forEach(u=>{o.includes(u)&&!i.includes(u)&&i.push(u)}),[...new Set(i)].slice(0,10)}extractHashtags(t){const a=/#([a-zA-Z0-9_]+)/g,i=t.match(a)||[];return[...new Set(i)]}generateExcerpt(t,a=200){const i=Qt(t).text().trim();if(i.length<=a)return i;const n=i.substring(0,a),o=n.lastIndexOf(" ");return o>a*.8?n.substring(0,o)+"...":n+"..."}generateSlug(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,100)}convertToNewsArticle(t){return{title:t.title,slug:t.slug,excerpt:t.excerpt,content:t.content,featured_image:t.featured_image||null,published_at:t.published_date,author:t.author||"BLKOUTUK",category:this.mapCategoryToNewsroomCategory(t.category),tags:t.tags,status:"published",source_url:t.source_url,submitted_via:"blkoutuk-migration",moderated_at:new Date().toISOString(),moderated_by:"migration-system"}}mapCategoryToNewsroomCategory(t){return{READ:"Community",LISTEN:"Media & Storytelling",WATCH:"Media & Storytelling",GALLERY:"Arts & Culture",EVENT:"Community",REPORT:"History & Culture"}[t]||"Community"}async migrateArticles(t){const a={success:!0,articlesProcessed:0,articlesImported:0,errors:[],skipped:[],imported:[]};console.log(`🚀 Starting migration of ${t.length} articles...`);for(let i=0;i<t.length;i+=this.batchSize){const n=t.slice(i,i+this.batchSize);try{await this.processBatch(n,a)}catch(o){console.error(`Batch ${Math.floor(i/this.batchSize)+1} failed:`,o),a.errors.push(`Batch ${Math.floor(i/this.batchSize)+1} failed: ${o}`),a.success=!1}}return console.log(`✅ Migration complete: ${a.articlesImported}/${a.articlesProcessed} articles imported`),a}async processBatch(t,a){for(const i of t){a.articlesProcessed++;try{const{data:n}=await Ee.from("articles").select("id").eq("source_url",i.source_url).single();if(n){console.log(`⏭️  Skipping existing article: ${i.title}`),a.skipped.push(i);continue}const o=this.convertToNewsArticle(i),{data:u,error:l}=await Ee.from("articles").insert([o]).select().single();if(l)throw l;a.articlesImported++,a.imported.push(u),console.log(`✅ Imported: ${i.title}`)}catch(n){console.error(`Failed to import article "${i.title}":`,n),a.errors.push(`Failed to import "${i.title}": ${n}`),a.skipped.push(i)}}}async createPreMigrationBackup(){try{console.log("💾 Creating pre-migration backup...");const{data:t,error:a}=await Ee.from("articles").select("*");if(a)throw a;const i={timestamp:new Date().toISOString(),type:"pre-blkoutuk-migration",articleCount:t.length,articles:t};return console.log(`💾 Backup created: ${i.articleCount} articles`),i}catch(t){throw console.error("Failed to create backup:",t),t}}async runFullMigration(){try{const t=await this.createPreMigrationBackup(),a=await this.discoverArticles();if(a.length===0)return console.log("⚠️  No articles found to migrate"),{success:!0,articlesProcessed:0,articlesImported:0,errors:[],skipped:[],imported:[]};const i=await this.migrateArticles(a);return console.log("🎉 BLKOUTUK.com migration complete!"),console.log("📊 Results:"),console.log(`   • Articles processed: ${i.articlesProcessed}`),console.log(`   • Articles imported: ${i.articlesImported}`),console.log(`   • Articles skipped: ${i.skipped.length}`),console.log(`   • Errors: ${i.errors.length}`),i}catch(t){throw console.error("Migration failed:",t),t}}}function sh(){const[e,t]=_.useState({phase:"idle",currentStep:"",progress:0,discovered:0,processed:0,imported:0,errors:[]}),[a,i]=_.useState(null),[n,o]=_.useState([]),[u,l]=_.useState(!1),c=new th,h=async()=>{if(!u){l(!0),i(null),t({phase:"discovering",currentStep:"Connecting to BLKOUTUK.com...",progress:0,discovered:0,processed:0,imported:0,errors:[]});try{t(E=>({...E,phase:"discovering",currentStep:"Scanning BLKOUTUK.com for articles...",progress:10}));const d=await c.discoverArticles();if(o(d),t(E=>({...E,currentStep:`Found ${d.length} articles`,progress:30,discovered:d.length})),d.length===0){t(E=>({...E,phase:"complete",currentStep:"No articles found to migrate",progress:100})),l(!1);return}t(E=>({...E,phase:"backing_up",currentStep:"Creating pre-migration backup...",progress:40})),await c.createPreMigrationBackup(),t(E=>({...E,phase:"migrating",currentStep:"Importing articles to community platform...",progress:50}));const m=await c.migrateArticles(d);i(m),t(E=>({...E,phase:m.success?"complete":"error",currentStep:m.success?"Migration completed successfully!":"Migration completed with errors",progress:100,processed:m.articlesProcessed,imported:m.articlesImported,errors:m.errors}))}catch(d){console.error("Migration failed:",d),t(m=>({...m,phase:"error",currentStep:`Migration failed: ${d}`,progress:100,errors:[...m.errors,`Critical error: ${d}`]}))}finally{l(!1)}}},p=async()=>{if(!u){l(!0),t({phase:"discovering",currentStep:"Discovering articles from BLKOUTUK.com...",progress:50,discovered:0,processed:0,imported:0,errors:[]});try{const d=await c.discoverArticles();o(d),t(m=>({...m,phase:"complete",currentStep:`Discovery complete: ${d.length} articles found`,progress:100,discovered:d.length}))}catch(d){t(m=>({...m,phase:"error",currentStep:`Discovery failed: ${d}`,progress:100,errors:[`Discovery error: ${d}`]}))}finally{l(!1)}}},f=()=>{t({phase:"idle",currentStep:"",progress:0,discovered:0,processed:0,imported:0,errors:[]}),i(null),o([]),l(!1)},g=d=>{switch(d){case"idle":return s.jsx(aa,{className:"w-6 h-6 text-gray-400"});case"discovering":return s.jsx(ot,{className:"w-6 h-6 text-blue-500 animate-spin"});case"backing_up":return s.jsx(ys,{className:"w-6 h-6 text-yellow-500"});case"migrating":return s.jsx(Zi,{className:"w-6 h-6 text-purple-500"});case"complete":return s.jsx(je,{className:"w-6 h-6 text-green-500"});case"error":return s.jsx(rt,{className:"w-6 h-6 text-red-500"})}};return s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(aa,{className:"w-8 h-8 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"BLKOUTUK.com Article Migration"}),s.jsx("p",{className:"text-gray-600",children:"Import articles from the original BLKOUTUK.com site to the community platform"})]})]}),s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(vs,{className:"w-5 h-5 text-blue-500 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Migration Process"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This tool will discover articles from BLKOUTUK.com, create a backup of existing content, and import the articles while preserving their metadata, categories, and content structure."})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Migration Controls"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:p,disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s.jsx(ve,{className:"w-4 h-4"}),"Discover Only"]}),s.jsxs("button",{onClick:h,disabled:u,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s.jsx(js,{className:"w-4 h-4"}),"Start Full Migration"]}),s.jsx("button",{onClick:f,disabled:u,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Reset"})]})]}),e.phase!=="idle"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g(e.phase),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.currentStep}),s.jsxs("span",{className:"text-sm text-gray-500",children:[e.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(k.div,{className:`h-2 rounded-full ${e.phase==="error"?"bg-red-500":e.phase==="complete"?"bg-green-500":"bg-purple-500"}`,initial:{width:0},animate:{width:`${e.progress}%`},transition:{duration:.5}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.discovered}),s.jsx("div",{className:"text-sm text-gray-500",children:"Discovered"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.processed}),s.jsx("div",{className:"text-sm text-gray-500",children:"Processed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.imported}),s.jsx("div",{className:"text-sm text-gray-500",children:"Imported"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.errors.length}),s.jsx("div",{className:"text-sm text-gray-500",children:"Errors"})]})]})]})]}),n.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Discovered Articles (",n.length,")"]}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:n.map((d,m)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[d.featured_image&&s.jsx("img",{src:d.featured_image,alt:"",className:"w-16 h-16 rounded-lg object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:d.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:d.excerpt}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[s.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded",children:d.category}),s.jsx("span",{children:new Date(d.published_date).toLocaleDateString()}),s.jsxs("span",{children:[d.tags.length," tags"]})]})]})]},m))})]}),a&&s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Migration Results"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(je,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"font-medium text-green-800",children:"Imported"})]}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.articlesImported}),s.jsx("div",{className:"text-sm text-green-600",children:"articles successfully imported"})]}),s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ke,{className:"w-5 h-5 text-yellow-500"}),s.jsx("span",{className:"font-medium text-yellow-800",children:"Skipped"})]}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:a.skipped.length}),s.jsx("div",{className:"text-sm text-yellow-600",children:"articles already existed"})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(rt,{className:"w-5 h-5 text-red-500"}),s.jsx("span",{className:"font-medium text-red-800",children:"Errors"})]}),s.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.errors.length}),s.jsx("div",{className:"text-sm text-red-600",children:"articles failed to import"})]})]}),a.errors.length>0&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Migration Errors"}),s.jsx("div",{className:"space-y-1",children:a.errors.map((d,m)=>s.jsxs("div",{className:"text-sm text-red-700",children:["• ",d]},m))})]}),a.success&&a.articlesImported>0&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{className:"w-5 h-5 text-green-500"}),s.jsxs("span",{className:"font-medium text-green-800",children:["Migration completed successfully! ",a.articlesImported," articles from BLKOUTUK.com have been imported to the community platform."]})]})})]})]})}const ah={showToast:!0,logToConsole:!0,retryable:!0,fallbackMessage:"An unexpected error occurred. Please try again."},_r=(e={})=>{const t={...ah,...e},[a,i]=_.useState(null),n=_.useCallback((p,f)=>{let g;if(p instanceof Error?g={hasError:!0,message:p.message||t.fallbackMessage,details:p.stack,retryable:t.retryable}:typeof p=="string"?g={hasError:!0,message:p,retryable:t.retryable}:p?.message?g={hasError:!0,message:p.message||t.fallbackMessage,code:p.code||p.status,details:p.details||JSON.stringify(p),retryable:p.retryable??t.retryable}:g={hasError:!0,message:t.fallbackMessage,details:JSON.stringify(p),retryable:t.retryable},t.logToConsole){const d=f?`[${f}]`:"[Error]";console.error(`${d}:`,p)}return i(g),t.showToast&&console.warn("Toast notification:",g.message),g},[t]),o=_.useCallback(()=>{i(null)},[]),u=_.useCallback(p=>{if(a?.retryable){o();try{const f=p();f instanceof Promise&&f.catch(g=>n(g,"Retry failed"))}catch(f){n(f,"Retry failed")}}},[a,o,n]),l=_.useCallback((p,f)=>{const g=f?`API Error - ${f}`:"API Error";return p?.response?.status===401?n("Authentication required. Please sign in.",g):p?.response?.status===403?n("Access denied. You do not have permission for this action.",g):p?.response?.status===404?n("The requested resource was not found.",g):p?.response?.status===429?n("Too many requests. Please wait a moment and try again.",g):p?.response?.status>=500?n("Server error. Please try again later.",g):p?.code==="NETWORK_ERROR"||p?.message?.includes("fetch")?n("Network connection error. Please check your internet connection.",g):n(p,g)},[n]),c=_.useCallback((p,f)=>{const g=f?`Supabase Error - ${f}`:"Supabase Error";return p?.code==="23505"?n("This item already exists.",g):p?.code==="23503"?n("Cannot perform this action due to related data.",g):p?.code==="42501"?n("Insufficient permissions for this operation.",g):p?.message?.includes("JWT")?n("Authentication expired. Please sign in again.",g):n(p,g)},[n]),h=_.useCallback(p=>{const f=Object.values(p)[0];return n(f||"Please check your input and try again.","Form Validation")},[n]);return{error:a,hasError:!!a,handleError:n,handleAPIError:l,handleSupabaseError:c,handleFormValidationError:h,clearError:o,retry:u}};class ih{baseUrl;timeout;retries;defaultHeaders;authToken=null;constructor(t={}){this.baseUrl=t.baseUrl||this.detectApiUrl(),this.timeout=t.timeout||1e4,this.retries=t.retries||3,this.defaultHeaders={"Content-Type":"application/json",Accept:"application/json",...t.headers},this.loadAuthToken()}detectApiUrl(){return typeof window<"u"&&window.location.hostname==="localhost"&&(window.location.port==="5173"||window.location.port==="3000")?"http://localhost:3000/api":"https://blkout-newsroom-backend-ptfjb4krx-robs-projects-54d653d3.vercel.app/api"}loadAuthToken(){try{const t=localStorage.getItem("blkout_auth_token");t&&(this.authToken=t,this.defaultHeaders.Authorization=`Bearer ${t}`)}catch(t){console.warn("Failed to load auth token:",t)}}setAuthToken(t){this.authToken=t,t?(this.defaultHeaders.Authorization=`Bearer ${t}`,localStorage.setItem("blkout_auth_token",t)):(delete this.defaultHeaders.Authorization,localStorage.removeItem("blkout_auth_token"))}async makeRequest(t,a={},i=0){const n=`${this.baseUrl}${t}`,o={...a,headers:{...this.defaultHeaders,...a.headers},signal:AbortSignal.timeout(this.timeout)};try{console.log(`🌐 API Request: ${a.method||"GET"} ${n}`);const u=await fetch(n,o);if(!u.ok){if(u.status===401)throw this.setAuthToken(null),new Error("Authentication required");if(u.status===403)throw new Error("Access denied");if(u.status===404)throw new Error("Resource not found");if(u.status>=500)throw new Error("Server error");try{const c=await u.json();throw new Error(c.message||c.error||`HTTP ${u.status}`)}catch{throw new Error(`HTTP ${u.status}: ${u.statusText}`)}}const l=await u.json();return console.log(`✅ API Success: ${a.method||"GET"} ${n}`),l}catch(u){return console.error(`❌ API Error: ${a.method||"GET"} ${n}`,u),i<this.retries&&this.isRetryableError(u)?(console.log(`🔄 Retrying request (${i+1}/${this.retries})`),await this.delay(Math.pow(2,i)*1e3),this.makeRequest(t,a,i+1)):{success:!1,error:u instanceof Error?u.message:"Unknown error occurred",data:void 0}}}isRetryableError(t){return t instanceof TypeError&&t.message.includes("fetch")?!0:(t.name==="AbortError",!1)}delay(t){return new Promise(a=>setTimeout(a,t))}buildQueryString(t){const a=new URLSearchParams;Object.entries(t).forEach(([n,o])=>{o!=null&&o!==""&&(Array.isArray(o)?o.forEach(u=>a.append(n,u.toString())):a.append(n,o.toString()))});const i=a.toString();return i?`?${i}`:""}async checkHealth(){try{const t=await this.makeRequest("/health");return{healthy:t.success,backend:this.baseUrl,timestamp:t.data?.timestamp||new Date().toISOString()}}catch{return{healthy:!1,backend:this.baseUrl,timestamp:new Date().toISOString()}}}async getArticles(t={}){const a=this.buildQueryString({page:t.page||1,limit:t.limit||20,category:t.category,status:t.status,author_id:t.author_id,search:t.search,sort:t.sort||"published_at",order:t.order||"desc"});return this.makeRequest(`/newsroom/articles${a}`)}async getArticle(t){return this.makeRequest(`/newsroom/articles/${t}`)}async createArticle(t){return this.makeRequest("/newsroom/articles",{method:"POST",body:JSON.stringify(t)})}async updateArticle(t,a){return this.makeRequest(`/newsroom/articles/${t}`,{method:"PUT",body:JSON.stringify(a)})}async deleteArticle(t){return this.makeRequest(`/newsroom/articles/${t}`,{method:"DELETE"})}async getEvents(t={}){const a=this.buildQueryString({page:t.page||1,limit:t.limit||20,start_date:t.start_date,end_date:t.end_date,event_type:t.event_type,location:t.location,status:t.status,organizer_id:t.organizer_id,search:t.search,sort:t.sort||"start_date",order:t.order||"asc"});return this.makeRequest(`/events${a}`)}async getEvent(t){return this.makeRequest(`/events/${t}`)}async createEvent(t){return this.makeRequest("/events",{method:"POST",body:JSON.stringify(t)})}async updateEvent(t,a){return this.makeRequest(`/events/${t}`,{method:"PUT",body:JSON.stringify(a)})}async deleteEvent(t){return this.makeRequest(`/events/${t}`,{method:"DELETE"})}async signIn(t,a){return this.makeRequest("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:a})})}async signOut(){const t=await this.makeRequest("/auth/logout",{method:"POST"});return t.success&&this.setAuthToken(null),t}async getCommunityStats(){return this.makeRequest("/community/stats")}async getCommunityDocumentation(){return this.makeRequest("/documentation")}async uploadFile(t,a="image"){const i=new FormData;i.append("file",t),i.append("type",a);const n={...this.defaultHeaders};return delete n["Content-Type"],this.makeRequest("/upload",{method:"POST",body:i,headers:n})}}const nh=new ih;let rh;try{rh=require("react")}catch{}const ya={"Breaking News":{color:"bg-red-600",textColor:"text-red-400",gradient:"from-red-500 via-red-600 to-red-700",glowColor:"shadow-red-500/25"},Analysis:{color:"bg-indigo-600",textColor:"text-indigo-400",gradient:"from-indigo-500 via-indigo-600 to-indigo-700",glowColor:"shadow-indigo-500/25"},"Community News":{color:"bg-emerald-600",textColor:"text-emerald-400",gradient:"from-emerald-500 via-emerald-600 to-emerald-700",glowColor:"shadow-emerald-500/25"},"Policy Update":{color:"bg-slate-600",textColor:"text-slate-400",gradient:"from-slate-500 via-slate-600 to-slate-700",glowColor:"shadow-slate-500/25"},International:{color:"bg-violet-600",textColor:"text-violet-400",gradient:"from-violet-500 via-violet-600 to-violet-700",glowColor:"shadow-violet-500/25"}},oh=({backendStatus:e})=>s.jsxs("section",{className:"relative py-24 bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-emerald-500 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-violet-500 rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10 max-w-6xl mx-auto px-8 text-center",children:s.jsxs(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs(k.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},className:"flex items-center justify-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-600 to-indigo-600 flex items-center justify-center mr-6",children:s.jsx(Nt,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-black heading-block uppercase",children:[s.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-indigo-400 bg-clip-text text-transparent",children:"BLKOUT"}),s.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-slate-400 bg-clip-text text-transparent ml-2",children:"NEWSROOM"})]}),s.jsx("p",{className:"text-indigo-300 font-mono uppercase tracking-wider text-sm",children:"COMMUNITY NEWS & LIBERATION ANALYSIS"})]})]}),s.jsx(k.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"text-xl md:text-2xl text-indigo-100 max-w-4xl mx-auto leading-relaxed font-light mb-12",children:"Curated news, analysis, and community updates that matter to Black queer liberation. Stay informed about policy changes, community events, and movement developments."}),s.jsxs(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex items-center justify-center space-x-4 mb-12",children:[e==="checking"&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ss,{size:"sm",color:"indigo"}),s.jsx("span",{className:"text-indigo-400 font-bold heading-block text-sm uppercase",children:"CONNECTING TO NEWSROOM"})]}),e==="connected"&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(je,{className:"w-5 h-5 text-emerald-400"}),s.jsx("span",{className:"text-emerald-400 font-bold heading-block text-sm uppercase",children:"NEWSROOM LIVE"}),s.jsxs("div",{className:"flex items-center text-indigo-300 text-sm font-light",children:[s.jsx("span",{children:"• Real-time updates active"}),lastUpdated&&s.jsxs("span",{className:"ml-3 text-xs",children:["Last updated: ",lastUpdated.toLocaleTimeString()]})]})]}),e==="offline"&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(wa,{className:"w-5 h-5 text-amber-400"}),s.jsx("span",{className:"text-amber-400 font-bold heading-block text-sm uppercase",children:"USING CACHED CONTENT"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-indigo-300 text-sm font-light",children:"• Showing recent stories"}),s.jsxs("button",{onClick:handleRetry,className:"text-amber-400 hover:text-amber-300 text-sm font-medium flex items-center",children:[s.jsx(ot,{className:"w-4 h-4 mr-1"}),"Retry"]})]})]})]}),hasError&&s.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto mb-12",children:s.jsx("div",{className:"bg-red-900/30 backdrop-blur-sm border border-red-700/30 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(vs,{className:"w-6 h-6 text-red-400 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-red-300 font-bold text-lg mb-2",children:"Connection Error"}),s.jsx("p",{className:"text-red-200 mb-4",children:error?.message}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:handleRetry,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-colors",children:[s.jsx(ot,{className:"w-4 h-4 mr-2"}),"Retry Connection"]}),s.jsx("button",{onClick:clearError,className:"text-red-300 hover:text-red-200 font-medium",children:"Dismiss"}),retryCount>0&&s.jsxs("span",{className:"text-red-300 text-sm",children:["Retry attempts: ",retryCount]})]})]})]})})}),s.jsx(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"max-w-2xl mx-auto text-center",children:s.jsxs("div",{className:"bg-indigo-800/20 border border-indigo-700/30 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-indigo-200 mb-2",children:"Phase 1 Development"}),s.jsx("p",{className:"text-indigo-300 text-sm",children:"Newsroom integration with community contributors and automated content aggregation coming in Phase 2. Real articles will be displayed when content APIs are connected."})]})})]})})]}),uh=({selectedCategory:e,onCategorySelect:t})=>s.jsx("section",{className:"py-16 bg-indigo-50/5 backdrop-blur-sm border-y border-indigo-800/30",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-black heading-block mb-4 uppercase",children:[s.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-violet-400 bg-clip-text text-transparent",children:"NEWS"}),s.jsx("span",{className:"bg-gradient-to-r from-indigo-400 to-slate-400 bg-clip-text text-transparent ml-4",children:"CATEGORIES"})]}),s.jsx("p",{className:"text-indigo-200 font-light text-lg",children:"Stay informed across all areas that impact our community"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:["All",...Object.keys(ya)].map(a=>s.jsx(k.button,{onClick:()=>t(a),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`px-6 py-3 font-bold text-sm transition-all duration-300 heading-block uppercase ${e===a?"bg-gradient-to-r from-indigo-600 to-violet-600 text-white":"bg-indigo-900/30 text-indigo-300 hover:bg-indigo-800/50 hover:text-white border border-indigo-700/30"}`,children:a},a))})]})}),ch=({articles:e,loading:t,onRefresh:a})=>s.jsx("section",{className:"py-24",children:s.jsx("div",{className:"max-w-6xl mx-auto px-8",children:t?s.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-24",children:[s.jsx(ss,{size:"xl",color:"indigo",text:"Loading Articles"}),s.jsx("p",{className:"text-indigo-200 font-light mt-6",children:"Fetching the latest community news and updates..."})]}):e.length===0?s.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-24",children:[s.jsx(_a,{className:"w-16 h-16 text-indigo-400 mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-black text-white heading-block mb-4 uppercase",children:"NO ARTICLES AVAILABLE"}),s.jsx("p",{className:"text-indigo-200 font-light mb-8",children:"Newsroom backend is connecting. Articles will appear here as they are aggregated."}),s.jsxs(k.button,{onClick:a,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-8 py-3 bg-indigo-600 text-white font-bold hover:bg-indigo-500 transition-colors heading-block uppercase flex items-center mx-auto",children:[s.jsx(ot,{className:"w-4 h-4 mr-3"}),"REFRESH"]})]}):s.jsx("div",{className:"space-y-8",children:e.map((i,n)=>{const o=ya[i.category]||ya.Analysis;return s.jsx(k.article,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},className:"bg-indigo-900/20 backdrop-blur-sm border border-indigo-700/20 overflow-hidden hover:bg-indigo-900/40 transition-all duration-500 cursor-pointer group",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.image&&s.jsx("div",{className:"lg:col-span-1 aspect-[4/3] overflow-hidden",children:s.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"})}),s.jsxs("div",{className:`${i.image?"lg:col-span-2":"lg:col-span-3"} p-8`,children:[s.jsxs("div",{className:"flex items-center mb-4",children:[i.isBreaking&&s.jsx("span",{className:"px-3 py-1 bg-red-600 text-white text-xs font-bold heading-block uppercase mr-4 animate-pulse",children:"BREAKING"}),s.jsx("div",{className:`w-3 h-3 bg-gradient-to-r ${o.gradient} mr-3`}),s.jsx("span",{className:"text-indigo-300 font-mono uppercase tracking-wider text-sm",children:i.category}),s.jsx("span",{className:"mx-3 text-indigo-600",children:"•"}),s.jsx("span",{className:"text-sm text-indigo-400",children:i.source})]}),s.jsx("h2",{className:"text-2xl md:text-3xl font-black heading-block mb-4 leading-tight group-hover:text-white transition-colors",children:s.jsx("span",{className:`bg-gradient-to-r ${o.gradient} bg-clip-text text-transparent group-hover:text-white`,children:i.title})}),s.jsx("p",{className:"text-indigo-100 mb-6 leading-relaxed font-light text-lg",children:i.excerpt}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-indigo-300",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ke,{className:"w-4 h-4 mr-2"}),i.readTime," min read"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ct,{className:"w-4 h-4 mr-2"}),i.author]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ce,{className:"w-4 h-4 mr-2"}),new Date(i.publishedAt).toLocaleDateString()]})]}),s.jsxs(k.button,{whileHover:{x:5},className:"flex items-center text-indigo-400 hover:text-white transition-colors font-bold heading-block uppercase text-sm",children:["READ FULL STORY",s.jsx(js,{className:"w-4 h-4 ml-2"})]})]})]})]})},i.id)})})})});function lh(){const[e,t]=_.useState([]),[a,i]=_.useState(!0),[n,o]=_.useState("checking"),[u,l]=_.useState("All"),[c,h]=_.useState(0),[p,f]=_.useState(null),{handleAPIError:g,clearError:d,retry:m}=_r({showToast:!0,retryable:!0}),E=D=>{const P=D.profiles?.full_name||"BLKOUT Team",M=P.split(" ").map(C=>C[0]).join("").toUpperCase();return{...D,readTime:Math.max(1,Math.ceil((D.content?.length||0)/1e3)),isBreaking:D.status==="published"&&D.featured_image!==null,publishedAtFormatted:new Date(D.published_at||D.created_at).toLocaleDateString(),authorName:P,authorInitials:M,author:P,publishedAt:D.published_at||D.created_at,image:D.featured_image||"/images/squared/WELLDEF_SQUARED.png",featured:!!D.featured_image,priority:"medium",source:"BLKOUT Newsroom"}},T=async()=>{try{d(),i(!0),o("checking"),console.log("🔄 Fetching articles from Supabase API...");const D=await nh.getArticles({status:"published",sort:"published_at",order:"desc",limit:20});if(console.log("📊 Articles API response:",D),D.success&&D.data&&Array.isArray(D.data)){const P=D.data.map(E);console.log("✅ Articles transformed successfully:",P.length),P.length>0?(t(P),o("connected")):(console.log("📰 No published articles found, keeping fallback content"),o("connected")),f(new Date)}else throw new Error(D.error||"Failed to fetch articles")}catch(D){console.error("❌ Error fetching articles:",D),g(D,"newsroom API"),o("offline"),t([])}finally{i(!1)}};_.useEffect(()=>{T()},[]);const y=()=>{h(D=>D+1),m(()=>T())},S=e.filter(D=>u==="All"||D.category===u);return s.jsxs(ea,{children:[s.jsx(fs,{pageName:"Newsroom",dependencies:["Supabase","API Client"]}),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900",children:[s.jsx(Mt,{}),s.jsx(oh,{backendStatus:n}),s.jsx(uh,{selectedCategory:u,onCategorySelect:l}),s.jsx(ea,{onError:(D,P)=>{console.error("NewsArticlesGrid Error:",D,P),g(D,"NewsArticlesGrid")},children:s.jsx(ch,{articles:S,loading:a,onRefresh:y})}),s.jsx(va,{})]})]})}const dh=({event:e,isOpen:t,onClose:a})=>{if(!t||!e)return null;const i=o=>new Date(o).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),n=o=>{if(!o)return"";const[u,l]=o.split(":"),c=new Date;return c.setHours(parseInt(u),parseInt(l)),c.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})};return s.jsx(k.div,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,children:s.jsxs(k.div,{className:"bg-yellow-900/90 backdrop-blur-sm border border-yellow-600/40 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-8",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-yellow-100",children:e.title}),s.jsx("button",{onClick:a,className:"text-yellow-400 hover:text-yellow-300 text-2xl",children:"×"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-yellow-200 mb-3",children:"Event Details"}),s.jsx("p",{className:"text-yellow-100 leading-relaxed",children:e.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-yellow-200",children:[s.jsx(ce,{className:"w-5 h-5 mr-3 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:i(e.date)}),e.startTime&&s.jsxs("div",{className:"text-sm",children:[n(e.startTime),e.endTime&&` - ${n(e.endTime)}`]})]})]}),e.location&&s.jsxs("div",{className:"flex items-center text-yellow-200",children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-yellow-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsx("span",{children:e.location})]}),e.organizer&&s.jsxs("div",{className:"flex items-center text-yellow-200",children:[s.jsx(Ct,{className:"w-5 h-5 mr-3 text-yellow-400"}),s.jsx("span",{children:e.organizer})]}),e.cost&&s.jsxs("div",{className:"flex items-center text-yellow-200",children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsx("span",{children:e.cost})]})]}),s.jsx("div",{children:e.tags&&e.tags.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-yellow-200 mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((o,u)=>s.jsxs("span",{className:"px-3 py-1 text-sm bg-yellow-600/40 text-yellow-100 rounded-full border border-yellow-500/50",children:["#",o]},u))})]})})]}),e.url&&s.jsx("div",{className:"pt-4 border-t border-yellow-600/30",children:s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-yellow-600 hover:bg-yellow-500 text-white font-semibold rounded-lg transition-colors group",children:["Visit Event Page",s.jsx(js,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})})},mh=({event:e,onClick:t})=>{const a=n=>new Date(n).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),i=n=>{if(!n)return"";const[o,u]=n.split(":"),l=new Date;return l.setHours(parseInt(o),parseInt(u)),l.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})};return s.jsxs(k.div,{className:"bg-yellow-800/20 backdrop-blur-sm border border-yellow-600/30 rounded-2xl overflow-hidden hover:bg-yellow-800/30 hover:border-yellow-500/50 transition-all duration-300 group cursor-pointer",whileHover:{scale:1.02},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},onClick:()=>t(e),children:[e.image&&s.jsx("div",{className:"h-48 bg-gradient-to-br from-yellow-600 to-amber-500"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-bold text-yellow-100 line-clamp-2 group-hover:text-yellow-50 transition-colors",children:e.title}),s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${e.status==="approved"?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":e.status==="pending"?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:e.status})]}),s.jsx("p",{className:"text-yellow-200 mb-4 line-clamp-3",children:e.description}),s.jsxs("div",{className:"space-y-2 text-sm text-yellow-300",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ce,{className:"w-4 h-4 mr-2 text-yellow-400"}),s.jsx("span",{children:a(e.date)}),e.startTime&&s.jsxs("span",{className:"ml-2",children:["at ",i(e.startTime)]})]}),e.location&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-2 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsx("span",{children:e.location})]}),e.organizer&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ct,{className:"w-4 h-4 mr-2 text-yellow-400"}),s.jsx("span",{children:e.organizer})]}),e.cost&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-2 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.jsx("span",{children:e.cost})]})]}),e.tags&&e.tags.length>0&&s.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:e.tags.map((n,o)=>s.jsxs("span",{className:"px-2 py-1 text-xs bg-yellow-600/30 text-yellow-200 rounded-full border border-yellow-500/40",children:["#",n]},o))}),e.url&&s.jsx("div",{className:"mt-4",children:s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-yellow-400 hover:text-yellow-300 font-medium transition-colors group",children:["Learn More",s.jsx(js,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})})]})]})},hh=({filters:e,onFiltersChange:t})=>s.jsx(k.div,{className:"bg-yellow-800/20 backdrop-blur-sm border border-yellow-600/30 rounded-2xl p-6 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-yellow-200 mb-2",children:"Search Events"}),s.jsx("input",{type:"text",placeholder:"Search by title or description...",className:"w-full px-4 py-3 bg-yellow-900/30 border border-yellow-600/40 rounded-lg text-yellow-100 placeholder-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",value:e.searchTerm,onChange:a=>t({...e,searchTerm:a.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-yellow-200 mb-2",children:"Date Range"}),s.jsxs("select",{className:"w-full px-4 py-3 bg-yellow-900/30 border border-yellow-600/40 rounded-lg text-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",value:e.dateRange,onChange:a=>t({...e,dateRange:a.target.value}),children:[s.jsx("option",{value:"all",children:"All Dates"}),s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-yellow-200 mb-2",children:"Location"}),s.jsx("input",{type:"text",placeholder:"Filter by location...",className:"w-full px-4 py-3 bg-yellow-900/30 border border-yellow-600/40 rounded-lg text-yellow-100 placeholder-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",value:e.location,onChange:a=>t({...e,location:a.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-yellow-200 mb-2",children:"Source"}),s.jsxs("select",{className:"w-full px-4 py-3 bg-yellow-900/30 border border-yellow-600/40 rounded-lg text-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",value:e.source,onChange:a=>t({...e,source:a.target.value}),children:[s.jsx("option",{value:"all",children:"All Sources"}),s.jsx("option",{value:"community",children:"Community"}),s.jsx("option",{value:"education",children:"Education"}),s.jsx("option",{value:"entertainment",children:"Entertainment"}),s.jsx("option",{value:"activism",children:"Activism"})]})]})]})}),gh=()=>{const{events:e,loading:t,error:a}=Vi({status:"published"}),[i,n]=_.useState([]),[o,u]=_.useState({pending:0,approved:0,rejected:0,total:0}),[l,c]=_.useState(0),[h,p]=_.useState(null),{hasError:f,clearError:g}=_r({showToast:!0,retryable:!0}),[d,m]=_.useState(null),[E,T]=_.useState(!1),[y,S]=_.useState({dateRange:"all",source:"all",location:"",searchTerm:""}),D=C=>{m(C),T(!0)},P=()=>{T(!1),m(null)};_.useEffect(()=>{e&&u({pending:0,approved:e.length,rejected:0,total:e.length})},[e]);const M=()=>{g()};return _.useEffect(()=>{let C=e;if(y.searchTerm){const q=y.searchTerm.toLowerCase();C=C.filter(Y=>Y.title.toLowerCase().includes(q)||Y.description.toLowerCase().includes(q))}if(y.location){const q=y.location.toLowerCase();C=C.filter(Y=>Y.location.toLowerCase().includes(q))}if(y.source!=="all"&&(C=C.filter(q=>q.source===y.source)),y.dateRange!=="all"){const q=new Date,Y=new Date(q.getFullYear(),q.getMonth(),q.getDate());C=C.filter(A=>{const v=new Date(A.date);switch(y.dateRange){case"today":return v>=Y&&v<new Date(Y.getTime()+1440*60*1e3);case"week":const z=new Date(Y.getTime()+10080*60*1e3);return v>=Y&&v<=z;case"month":const X=new Date(Y.getFullYear(),Y.getMonth()+1,Y.getDate());return v>=Y&&v<=X;default:return!0}})}n(C)},[e,y]),s.jsxs(ea,{children:[s.jsx(fs,{pageName:"Events",dependencies:["Supabase","Events Service"]}),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-950 via-yellow-900 to-amber-900",children:[s.jsx(Mt,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(k.h1,{className:"text-5xl font-black heading-block mb-4 uppercase",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:s.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-amber-300 bg-clip-text text-transparent",children:"Community Events"})}),s.jsx(k.p,{className:"text-xl text-yellow-100 font-light",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Liberation through connection • Discover Black QTIPOC community events"})]}),s.jsxs(k.div,{className:"flex items-center space-x-4",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},children:[s.jsx("div",{className:"bg-yellow-800/30 backdrop-blur-sm border border-yellow-600/30 rounded-lg px-4 py-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[backendStatus==="checking"?s.jsx(ss,{size:"sm",color:"yellow"}):s.jsx("div",{className:`w-2 h-2 rounded-full ${backendStatus==="connected"?"bg-emerald-400":"bg-red-400"}`}),s.jsx("span",{className:"text-xs text-yellow-200",children:backendStatus==="connected"?"Live Data":backendStatus==="offline"?"Mock Data":"Connecting..."}),h&&backendStatus==="connected"&&s.jsxs("span",{className:"text-xs text-yellow-300 ml-2",children:["• ",h.toLocaleTimeString()]})]})}),s.jsxs("div",{className:"bg-yellow-800/30 backdrop-blur-sm border border-yellow-600/30 rounded-lg px-6 py-4",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-300",children:o.total}),s.jsx("div",{className:"text-sm text-yellow-200",children:"Total Events"})]}),s.jsxs("div",{className:"bg-yellow-800/30 backdrop-blur-sm border border-yellow-600/30 rounded-lg px-6 py-4",children:[s.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:o.approved}),s.jsx("div",{className:"text-sm text-yellow-200",children:"Approved"})]})]})]})}),f&&s.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx("div",{className:"bg-red-900/30 backdrop-blur-sm border border-red-700/30 rounded-2xl p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(vs,{className:"w-6 h-6 text-red-400 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-red-300 font-bold text-lg mb-2",children:"Connection Error"}),s.jsx("p",{className:"text-red-200 mb-4",children:a?.message}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:M,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-colors",children:[s.jsx(ot,{className:"w-4 h-4 mr-2"}),"Retry Connection"]}),s.jsx("button",{onClick:g,className:"text-red-300 hover:text-red-200 font-medium",children:"Dismiss"}),l>0&&s.jsxs("span",{className:"text-red-300 text-sm",children:["Retry attempts: ",l]})]})]})]})})}),backendStatus==="offline"&&!f&&s.jsxs(k.div,{className:"bg-amber-900/40 backdrop-blur-sm border border-amber-600/40 rounded-2xl p-6 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(wa,{className:"w-5 h-5 text-amber-400"}),s.jsx("span",{className:"text-amber-300 font-bold heading-block text-sm uppercase",children:"SHOWING EXAMPLE COMMUNITY EVENTS"})]}),s.jsxs("button",{onClick:M,className:"flex items-center text-amber-400 hover:text-amber-300 text-sm font-medium",children:[s.jsx(ot,{className:"w-4 h-4 mr-1"}),"Retry Connection"]})]}),s.jsx("p",{className:"text-amber-100 leading-relaxed",children:"These are example events to demonstrate functionality. The community events backend is not currently connected. Real community events will be displayed when the events API is available."})]}),s.jsx(hh,{filters:y,onFiltersChange:S}),t?s.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-24",children:[s.jsx(ss,{size:"xl",color:"yellow",text:"Loading Events"}),s.jsx("p",{className:"text-yellow-200 font-light mt-6",children:"Fetching the latest community events and gatherings..."})]}):i.length>0?s.jsx(k.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.8},children:i.map((C,q)=>s.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*q},children:s.jsx(mh,{event:C,onClick:D})},C.id))}):s.jsx(k.div,{className:"text-center py-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:s.jsxs("div",{className:"bg-yellow-800/20 backdrop-blur-sm border border-yellow-600/30 rounded-2xl p-12 max-w-md mx-auto",children:[s.jsx(ce,{className:"w-16 h-16 text-yellow-400 mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-bold text-yellow-100 mb-4",children:"No events found"}),s.jsx("p",{className:"text-yellow-200",children:y.searchTerm||y.location||y.source!=="all"||y.dateRange!=="all"?"Try adjusting your filters to discover more community events.":"Check back soon for upcoming Black QTIPOC community events."})]})}),s.jsx(k.div,{className:"mt-16 bg-gradient-to-br from-amber-900 via-yellow-900 to-yellow-800 rounded-2xl p-8 border border-yellow-600/30",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx(k.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:1.2},children:s.jsx($i,{className:"w-16 h-16 text-yellow-400 mx-auto mb-6"})}),s.jsx(k.h3,{className:"text-3xl font-black heading-block mb-6 uppercase",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},children:s.jsx("span",{className:"bg-gradient-to-r from-yellow-300 to-amber-200 bg-clip-text text-transparent",children:"Building Community Together"})}),s.jsx(k.p,{className:"text-lg text-yellow-100 mb-8 font-light leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.6},children:"These events are curated to support and celebrate Black QTIPOC communities. Join us in creating spaces of liberation, joy, and collective power."}),s.jsxs(k.div,{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.8},children:[s.jsx("button",{className:"bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-400 hover:to-amber-400 text-yellow-950 font-bold px-8 py-4 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Submit an Event"}),s.jsx("button",{className:"bg-transparent border-2 border-yellow-400 hover:bg-yellow-400/10 text-yellow-100 font-bold px-8 py-4 rounded-xl transition-all duration-300 transform hover:scale-105",children:"Join Our Community"})]})]})})]}),s.jsx(va,{}),s.jsx(be,{children:E&&s.jsx(dh,{event:d,isOpen:E,onClose:P})})]})]})};var At={};const xh=to(At.NEXT_PUBLIC_SUPABASE_URL||"https://demo.supabase.co",At.NEXT_PUBLIC_SUPABASE_ANON_KEY||"demo_key"),Xs={journeyStages:[{domain:"core",stage:"crisis",confidence:.9},{domain:"core",stage:"community_healing",confidence:.85},{domain:"organizing",stage:"action",confidence:.88},{domain:"community",stage:"community_pattern",confidence:.82}],responses:{crisis:{message:"I understand you're facing a crisis right now. Your safety and wellbeing matter deeply to our community. Let me connect you with immediate support resources that are culturally competent and affirming of your identity.",cultural_affirmation:"You are valued, your experiences are valid, and you deserve support that honors your full identity as a Black queer person. Our community sees you and stands with you."},healing:{message:"Healing is a sacred journey, especially within our community. I'm here to support you in finding resources and connections that honor both your individual path and our collective strength.",cultural_affirmation:"Your healing contributes to our community's liberation. Taking care of yourself is an act of resistance and love for our people."},organizing:{message:"Your desire to organize and create change is powerful. Let me connect you with democratic organizing opportunities and resources that align with our liberation values.",cultural_affirmation:"Leadership and organizing are in our blood. Your voice and action have the power to transform not just your community, but contribute to broader Black queer liberation."}},resources:[{title:"Black Trans Crisis Support Network",description:"24/7 culturally competent crisis support specifically for Black trans community members",type:"crisis_support",cultural_competency:"Black trans specific",accessibility:["text_support","phone_support","peer_navigation"]},{title:"Healing Justice Community Circles",description:"Regular healing circles focused on collective wellness and trauma recovery",type:"healing_support",cultural_competency:"Black queer centered",accessibility:["sliding_scale","virtual_options","childcare"]},{title:"Housing Justice Organizing Toolkit",description:"Resources and strategies for tenant organizing and housing advocacy",type:"organizing_resource",cultural_competency:"Community controlled",accessibility:["multiple_languages","digital_accessible","print_options"]}],communityProjects:[{id:"project_1",title:"South Side Community Garden Initiative",description:"Creating community-controlled food sovereignty through collective gardening and education",project_type:"economic",organizing_stage:"action",liberation_objectives:["food_sovereignty","community_control","environmental_justice"],community_support_level:87,democratic_validation_score:92},{id:"project_2",title:"Black Trans Safety Network",description:"Peer-led safety network providing crisis support and community protection for Black trans individuals",project_type:"safety",organizing_stage:"leadership",liberation_objectives:["trans_safety","community_defense","peer_support"],community_support_level:94,democratic_validation_score:96}]};class ph{demoMode;apiBaseUrl;constructor(){this.demoMode=At.DEMO_MODE==="true"||!At.NEXT_PUBLIC_SUPABASE_URL?.includes("supabase"),this.apiBaseUrl=At.NEXT_PUBLIC_APP_URL||"http://localhost:3000",this.demoMode&&console.log("🎭 IVOR API Client running in demo mode")}async recognizeJourneyStage(t,a={}){try{if(this.demoMode){const o=t.toLowerCase();let u;return o.includes("crisis")||o.includes("emergency")||o.includes("help")?u={domain:"core",stage:"crisis",confidence:.92,liberationGoals:["safety","immediate_empowerment","crisis_navigation"],supportType:"immediate_crisis_support",nextSteps:["Connect with crisis resources","Ensure immediate safety","Peer support connection"]}:o.includes("community")||o.includes("connect")||o.includes("healing")?u={domain:"core",stage:"community_healing",confidence:.87,liberationGoals:["community_connection","healing_justice","peer_support"],supportType:"healing_and_connection",nextSteps:["Join healing circles","Connect with peer support","Explore community resources"]}:o.includes("organize")||o.includes("campaign")||o.includes("action")?u={domain:"organizing",stage:"action",confidence:.89,liberationGoals:["collective_action","community_organizing","systemic_change"],supportType:"organizing_coordination",nextSteps:["Join organizing projects","Develop organizing skills","Connect with campaigns"]}:u={domain:"community",stage:"community_pattern",confidence:.78,liberationGoals:["community_understanding","pattern_recognition","collective_intelligence"],supportType:"community_analysis",nextSteps:["Explore community insights","Connect with neighbors","Share experiences"]},await new Promise(l=>setTimeout(l,500+Math.random()*500)),{success:!0,data:u}}return await(await fetch(`${this.apiBaseUrl}/api/ivor/journey-recognition`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInput:t,userContext:a})})).json()}catch(i){return console.error("Journey recognition error:",i),{success:!1,error:"Failed to recognize journey stage"}}}async generateIntelligentResponse(t,a={},i){try{if(this.demoMode){const u=t.toLowerCase();let l="healing";u.includes("crisis")||u.includes("emergency")?l="crisis":(u.includes("organize")||u.includes("campaign"))&&(l="organizing");const c=Xs.responses[l],h={message:c.message,journey_insights:{domain:l==="organizing"?"organizing":"core",current_stage:l==="crisis"?"crisis":l==="organizing"?"action":"community_healing",support_type:l==="crisis"?"immediate_support":l==="organizing"?"organizing_coordination":"healing_support",liberation_focus:l==="crisis"?["safety","crisis_navigation"]:l==="organizing"?["collective_action","community_organizing"]:["healing_justice","community_connection"]},specific_resources:Xs.resources.filter(p=>l==="crisis"&&p.type==="crisis_support"||l==="organizing"&&p.type==="organizing_resource"||l==="healing"&&p.type==="healing_support").slice(0,3),actionable_steps:[{step:l==="crisis"?"Connect with immediate crisis support":l==="organizing"?"Join active organizing campaign":"Attend healing circle this week",timeline:l==="crisis"?"Immediate":"This week",community_connection:!0,empowerment_focus:!0},{step:l==="crisis"?"Develop safety plan with peer support":l==="organizing"?"Participate in next community meeting":"Connect with peer support network",timeline:l==="crisis"?"Next 24 hours":"Next 2 weeks",community_connection:!0,empowerment_focus:!0}],community_connections:[{connection_type:l==="crisis"?"crisis_support_network":l==="organizing"?"organizing_collective":"healing_community",description:l==="crisis"?"Peer-led crisis support network with 24/7 availability":l==="organizing"?"Active organizing campaigns working on housing and healthcare justice":"Healing justice community focused on collective wellness and trauma recovery",liberation_potential:"High"}],cultural_affirmation:c.cultural_affirmation};return await new Promise(p=>setTimeout(p,1e3+Math.random()*1e3)),{success:!0,data:h}}return await(await fetch(`${this.apiBaseUrl}/api/ivor/intelligent-response`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInput:t,userContext:a,sessionId:i})})).json()}catch(n){return console.error("Intelligent response error:",n),{success:!1,error:"Failed to generate intelligent response"}}}async getActiveProjects(t={}){try{if(this.demoMode)return await new Promise(n=>setTimeout(n,300)),{success:!0,data:Xs.communityProjects};const{data:a,error:i}=await xh.from("organizing_projects").select("*").in("status",["validated","active"]).order("community_support_level",{ascending:!1}).limit(20);if(i)throw i;return{success:!0,data:a||[]}}catch(a){return console.error("Get active projects error:",a),{success:!1,error:"Failed to load active projects"}}}async createProject(t,a){try{return this.demoMode?(await new Promise(o=>setTimeout(o,800)),{success:!0,data:{project_id:`project_${Date.now()}`,validation_needed:!0,message:"Project created successfully! Community validation in progress."}}):await(await fetch(`${this.apiBaseUrl}/api/organizing/create-project`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectData:t,proposerContext:a})})).json()}catch(i){return console.error("Create project error:",i),{success:!1,error:"Failed to create project"}}}async getCommunityStats(){try{return this.demoMode?(await new Promise(a=>setTimeout(a,200)),{success:!0,data:{active_projects:Math.floor(Math.random()*15)+8,community_members:Math.floor(Math.random()*400)+800,organizing_opportunities:Math.floor(Math.random()*8)+3,liberation_impact_score:Math.floor(Math.random()*15)+85,cultural_authenticity_avg:Math.floor(Math.random()*10)+90}}):await(await fetch(`${this.apiBaseUrl}/api/community/stats`)).json()}catch(t){return console.error("Community stats error:",t),{success:!1,error:"Failed to load community statistics"}}}async healthCheck(){try{return{success:!0,data:{status:"healthy",services:{database:this.demoMode?"demo":"connected",ai_services:this.demoMode?"demo":"connected",redis_coordination:this.demoMode?"demo":"connected",performance_monitoring:"active",liberation_values_validation:"active"},demo_mode:this.demoMode,timestamp:new Date().toISOString()}}}catch{return{success:!1,error:"Health check failed"}}}}const Rt=new ph;function fh(){const[e,t]=_.useState(!1),[a,i]=_.useState([{id:"1",text:"Welcome to IVOR! I'm here to support your liberation journey with culturally affirming, community-centered guidance. I understand where you are in your empowerment journey and provide specific resources focused on Black queer liberation goals. How can I support you today?",sender:"ivor",timestamp:new Date}]),[n,o]=_.useState(""),[u,l]=_.useState(!0),[c,h]=_.useState(!1),p=async()=>{if(!n.trim())return;const f={id:Date.now().toString(),text:n,sender:"user",timestamp:new Date};i(d=>[...d,f]);const g=n;o(""),h(!0);try{const d=localStorage.getItem("pathwayContext");let m={};try{m=d?JSON.parse(d):{}}catch{m={}}const E=await Rt.generateIntelligentResponse(g,m,`chat_widget_${Date.now()}`);if(E.success&&E.data){const T={id:(Date.now()+1).toString(),text:E.data.message,sender:"ivor",timestamp:new Date};i(y=>[...y,T]),E.data.cultural_affirmation&&setTimeout(()=>{const y={id:(Date.now()+2).toString(),text:`💫 ${E.data.cultural_affirmation}`,sender:"ivor",timestamp:new Date};i(S=>[...S,y])},1e3)}else throw new Error(E.error||"Failed to get response")}catch(d){console.error("Failed to send message to IVOR:",d);const m={id:(Date.now()+1).toString(),text:"I'm experiencing some technical difficulties, but I'm still here to support you. Please know that your needs are valid and there are community resources available. Would you like me to connect you with immediate support options?",sender:"ivor",timestamp:new Date};i(E=>[...E,m])}finally{h(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(k.button,{onClick:()=>t(!0),className:`fixed bottom-6 right-6 z-50 ${e?"hidden":"flex"} items-center justify-center w-14 h-14 bg-purple-600 text-white rounded-full shadow-lg hover:bg-purple-700 transition-colors focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-50`,whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Open IVOR community chatbot",children:s.jsx(ia,{size:24})}),s.jsx(be,{children:e&&s.jsxs(k.div,{initial:{opacity:0,y:100,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.8},className:`fixed bottom-6 right-6 z-50 w-80 h-96 bg-white rounded-lg shadow-2xl 
              border border-gray-200 flex flex-col overflow-hidden
              md:w-96 md:h-[500px]`,children:[s.jsxs("div",{className:"bg-blkout-primary text-white p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"font-semibold",children:"IVOR"}),u===null?s.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse",title:"Connecting..."}):u?s.jsx(Jr,{size:16,className:"text-green-400",title:"Connected"}):s.jsx(wa,{size:16,className:"text-red-400",title:"Offline"})]}),s.jsx("p",{className:"text-xs opacity-90",children:u===null?"Connecting...":u?"Community AI Assistant":"Offline Mode"})]}),s.jsx("button",{onClick:()=>t(!1),className:`p-1 hover:bg-blkout-warm rounded transition-colors
                  focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50`,"aria-label":"Close chat",children:s.jsx(Xi,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.map(f=>s.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${f.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${f.sender==="user"?"bg-blkout-primary text-white":"bg-gray-100 text-gray-800"}`,children:[s.jsx("p",{className:"text-sm",children:f.text}),s.jsx("p",{className:`text-xs mt-1 ${f.sender==="user"?"text-blkout-secondary":"text-gray-500"}`,children:f.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},f.id)),c&&s.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),s.jsxs("div",{className:"p-4 border-t border-gray-200",children:[s.jsxs("form",{onSubmit:f=>{f.preventDefault(),p()},className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:n,onChange:f=>o(f.target.value),placeholder:u===null?"Connecting to IVOR...":u===!1?"IVOR is offline, but still helpful...":"Ask IVOR about our community...",disabled:c,className:`flex-1 p-2 border border-gray-300 rounded-md 
                    focus:outline-none focus:ring-2 focus:ring-blkout-primary 
                    focus:border-transparent text-sm disabled:bg-gray-100`,"aria-label":"Message input"}),s.jsx("button",{type:"submit",disabled:!n.trim()||c,className:`px-3 py-2 bg-blkout-primary text-white rounded-md 
                    hover:bg-blkout-warm transition-colors disabled:opacity-50 
                    disabled:cursor-not-allowed focus:outline-none focus:ring-2 
                    focus:ring-blkout-primary focus:ring-opacity-50`,"aria-label":"Send message",children:s.jsx(Zr,{size:16})})]}),u===!1&&s.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Running in offline mode with community resources"})]}),s.jsx("div",{className:"px-4 py-2 bg-gray-50 text-xs text-gray-600 text-center",children:"🏳️‍🌈 Building cooperative ownership together"})]})})]})}function bh({showMigrationContext:e=!0}){const[t,a]=_.useState({searchTerm:"",category:"all",dateRange:"all",tags:[],migrationSource:"all"}),[i,n]=_.useState(null),[o,u]=_.useState(!1),{articles:l,loading:c}=Yi({status:"published",limit:100,...t.category!=="all"&&{category:t.category}}),h=l.filter(d=>{if(t.searchTerm){const m=t.searchTerm.toLowerCase();if(!(d.title.toLowerCase().includes(m)||d.excerpt.toLowerCase().includes(m)||d.author?.toLowerCase().includes(m)||d.tags.some(T=>T.toLowerCase().includes(m))))return!1}if(t.migrationSource!=="all"&&(t.migrationSource==="blkoutuk"&&d.submitted_via!=="blkoutuk-migration"||t.migrationSource==="community"&&d.submitted_via!=="community-form"||t.migrationSource==="extension"&&d.submitted_via!=="chrome-extension"))return!1;if(t.dateRange!=="all"){const m=new Date(d.published_at),E=new Date;switch(t.dateRange){case"this_month":if(m.getMonth()!==E.getMonth()||m.getFullYear()!==E.getFullYear())return!1;break;case"last_3_months":const T=new Date(E.getFullYear(),E.getMonth()-3,E.getDate());if(m<T)return!1;break;case"last_year":const y=new Date(E.getFullYear()-1,E.getMonth(),E.getDate());if(m<y)return!1;break}}return!0}),p=[...new Set(l.map(d=>d.category))];[...new Set(l.flatMap(d=>d.tags))];const f=d=>{if(!e)return null;const E={"blkoutuk-migration":{label:"BLKOUTUK Legacy",color:"bg-purple-100 text-purple-800",icon:"🏛️"},"chrome-extension":{label:"Community Report",color:"bg-blue-100 text-blue-800",icon:"📰"},"community-form":{label:"Community Story",color:"bg-green-100 text-green-800",icon:"✍️"}}[d.submitted_via];return E?s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${E.color}`,children:[s.jsx("span",{children:E.icon}),E.label]}):null},g=d=>new Date(d).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});return i?s.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-slate-950",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[s.jsxs("button",{onClick:()=>n(null),className:"flex items-center gap-2 text-slate-400 hover:text-white mb-8 transition-colors",children:[s.jsx(Ea,{className:"w-4 h-4"}),"Back to Archive"]}),s.jsxs("article",{className:"bg-white rounded-lg shadow-xl overflow-hidden",children:[i.featured_image&&s.jsx("img",{src:i.featured_image,alt:"",className:"w-full h-64 object-cover"}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f(i),s.jsx("span",{className:"text-sm text-gray-500",children:g(i.published_at)}),i.source_url&&s.jsxs("a",{href:i.source_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:[s.jsx(Ns,{className:"w-3 h-3"}),"Original"]})]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i.title}),i.excerpt&&s.jsx("p",{className:"text-lg text-gray-600 mb-6 leading-relaxed",children:i.excerpt}),s.jsxs("div",{className:"flex items-center gap-4 mb-8 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ct,{className:"w-4 h-4"}),i.author]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ja,{className:"w-4 h-4"}),i.category]})]}),s.jsx("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:i.content}}),i.tags.length>0&&s.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map((d,m)=>s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:["#",d]},m))})})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-gray-950 to-blue-950",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(Za,{className:"w-8 h-8 text-blue-400"}),s.jsx("h1",{className:"text-4xl font-bold text-white",children:"Story Archive"})]}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Our complete collection of community stories, including the preserved legacy of BLKOUTUK.com"})]}),s.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Filter Stories"}),s.jsxs("button",{onClick:()=>u(!o),className:"flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors",children:[s.jsx(Ta,{className:"w-4 h-4"}),o?"Hide":"Show"," Filters"]})]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search stories, authors, or tags...",value:t.searchTerm,onChange:d=>a(m=>({...m,searchTerm:d.target.value})),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-400"})]}),s.jsx(be,{children:o&&s.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("select",{value:t.category,onChange:d=>a(m=>({...m,category:d.target.value})),className:"px-3 py-2 bg-white/10 border border-white/20 rounded text-white",children:[s.jsx("option",{value:"all",children:"All Categories"}),p.map(d=>s.jsx("option",{value:d,className:"text-gray-900",children:d},d))]}),s.jsxs("select",{value:t.dateRange,onChange:d=>a(m=>({...m,dateRange:d.target.value})),className:"px-3 py-2 bg-white/10 border border-white/20 rounded text-white",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"this_month",children:"This Month"}),s.jsx("option",{value:"last_3_months",children:"Last 3 Months"}),s.jsx("option",{value:"last_year",children:"Last Year"})]}),s.jsxs("select",{value:t.migrationSource,onChange:d=>a(m=>({...m,migrationSource:d.target.value})),className:"px-3 py-2 bg-white/10 border border-white/20 rounded text-white",children:[s.jsx("option",{value:"all",children:"All Sources"}),s.jsx("option",{value:"blkoutuk",children:"BLKOUTUK Legacy"}),s.jsx("option",{value:"community",children:"Community Stories"}),s.jsx("option",{value:"extension",children:"Community Reports"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white",children:[s.jsx(ce,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm",children:[h.length," stories found"]})]})]})})]}),c?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),s.jsx("p",{className:"text-gray-300 mt-4",children:"Loading stories..."})]}):h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Za,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No stories found"}),s.jsx("p",{className:"text-gray-400",children:"Try adjusting your search or filters"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map((d,m)=>s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},onClick:()=>n(d),className:"bg-white/5 backdrop-blur-sm rounded-lg overflow-hidden hover:bg-white/10 transition-all duration-300 cursor-pointer group",children:[d.featured_image&&s.jsx("div",{className:"aspect-video overflow-hidden",children:s.jsx("img",{src:d.featured_image,alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f(d),s.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[s.jsx(ke,{className:"w-3 h-3"}),g(d.published_at)]})]}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-3 group-hover:text-blue-300 transition-colors",children:d.title}),s.jsx("p",{className:"text-gray-300 text-sm mb-4 line-clamp-3",children:d.excerpt}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ct,{className:"w-3 h-3"}),d.author]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ja,{className:"w-3 h-3"}),d.category]})]}),d.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[d.tags.slice(0,3).map((E,T)=>s.jsxs("span",{className:"px-2 py-1 bg-white/10 text-gray-300 rounded text-xs",children:["#",E]},T)),d.tags.length>3&&s.jsxs("span",{className:"text-xs text-gray-400",children:["+",d.tags.length-3," more"]})]})]})]},d.id))})]})})}const yh=()=>{const e=[{label:"Liberation Journey",href:"https://journey-blkout.vercel.app",icon:s.jsx(_s,{className:"w-4 h-4"}),description:"Experience our interactive liberation story",status:"live",external:!0},{label:"Community Events",href:"https://events-blkout.vercel.app",icon:s.jsx(ce,{className:"w-4 h-4"}),description:"Find and join community gatherings",status:"live",external:!0},{label:"Ask I.V.O.R.",href:"https://ivor-blkout.vercel.app",icon:s.jsx(Zt,{className:"w-4 h-4"}),description:"AI assistant for community support",status:"live",external:!0},{label:"Mobile App",href:"blkouthub://",icon:s.jsx(eo,{className:"w-4 h-4"}),description:"Open BLKOUTHUB app",status:"live",external:!0}],t=a=>{typeof window<"u"&&window.gtag&&window.gtag("event","cross_module_navigation",{from_module:"platform",to_module:a.label.toLowerCase().replace(/\s+/g,"_"),is_external:a.external}),a.href.startsWith("blkouthub://")?(window.location.href=a.href,setTimeout(()=>{window.open("https://apps.apple.com/app/blkouthub","_blank")},2500)):window.open(a.href,a.external?"_blank":"_self")};return s.jsxs("div",{className:"bg-gradient-to-r from-purple-900/20 to-amber-900/20 backdrop-blur-sm border border-purple-500/20 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(me,{className:"w-5 h-5 text-purple-400 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Explore BLKOUT Ecosystem"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((a,i)=>s.jsxs("button",{onClick:()=>t(a),className:"group p-4 bg-white/5 hover:bg-white/10 rounded-lg border border-white/10 hover:border-purple-400/50 transition-all duration-300 text-left",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center text-purple-300 group-hover:text-purple-200",children:[a.icon,s.jsx("span",{className:"ml-2 font-medium text-sm",children:a.label})]}),s.jsxs("div",{className:"flex items-center",children:[a.external&&s.jsx(Ns,{className:"w-3 h-3 text-gray-400 group-hover:text-gray-300"}),s.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${a.status==="live"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:a.status})]})]}),s.jsx("p",{className:"text-gray-300 text-xs group-hover:text-gray-200 transition-colors",children:a.description})]},i))}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("p",{className:"text-gray-400 text-xs",children:"🌟 One platform, multiple ways to connect with your community"})})]})},Nh=({session_id:e,initial_context:t,cultural_theme:a="liberation",liberation_focus:i=["empowerment","community_connection","liberation"]})=>{const[n,o]=_.useState([]),[u,l]=_.useState(""),[c,h]=_.useState(!1),[p,f]=_.useState(t||{}),[g,d]=_.useState(null),[m,E]=_.useState(!1),[T,y]=_.useState(!1),S=_.useRef(null),D=_.useRef(null);_.useEffect(()=>{S.current?.scrollIntoView({behavior:"smooth"})},[n]),_.useEffect(()=>{o([{id:"welcome",role:"assistant",content:`Welcome to IVOR! I'm here to support your liberation journey with culturally affirming, community-centered guidance. 

I understand where you are in your empowerment journey and provide specific resources, connections, and next steps focused on Black queer liberation goals.

How can I support you today?`,timestamp:new Date}])},[]);const P=async v=>{if(!v.trim()||c)return;h(!0);const z={id:`user_${Date.now()}`,role:"user",content:v,timestamp:new Date};o(X=>[...X,z]),l("");try{const X=await Rt.generateIntelligentResponse(v,p,e||`session_${Date.now()}`);if(!X.success)throw new Error(X.error||"Failed to generate response");const pe=X.data;d({domain:pe.journey_insights.domain,stage:pe.journey_insights.current_stage,confidence:.8});const Oe={id:`assistant_${Date.now()}`,role:"assistant",content:pe.message,timestamp:new Date,journey_context:{domain:pe.journey_insights.domain,stage:pe.journey_insights.current_stage,confidence:.8},response_data:pe};o(I=>[...I,Oe]),f(I=>({...I,previous_journey_stages:[...I.previous_journey_stages||[],`${pe.journey_insights.domain}:${pe.journey_insights.current_stage}`].slice(-5),empowerment_goals:[...I.empowerment_goals||[],...pe.journey_insights.liberation_focus].slice(-10)}))}catch(X){console.error("IVOR processing error:",X);const pe={id:`error_${Date.now()}`,role:"assistant",content:"I'm experiencing some technical difficulties, but I'm still here to support you. Please know that your needs are valid and there are community resources available. Would you like me to connect you with immediate support options?",timestamp:new Date};o(Oe=>[...Oe,pe])}finally{h(!1),D.current?.focus()}},M=v=>{v.preventDefault(),P(u)},C=v=>{const X={crisis_support:"I need immediate crisis support and resources.",community_connect:"I want to connect with community resources and peer support.",empowerment_tools:"I'm looking for tools and resources for personal empowerment.",organizing_help:"I want to get involved in community organizing and advocacy.",healing_resources:"I need healing and wellness resources for my journey."}[v];X&&(l(X),P(X))},q=()=>{const v={default:"from-purple-900 to-pink-600",pride:"from-red-500 via-yellow-500 via-green-500 via-blue-500 via-indigo-500 to-purple-500",liberation:"from-amber-600 to-red-600",healing:"from-green-600 to-blue-600"};return v[a]||v.liberation},Y=()=>!g||!m?null:s.jsxs("div",{className:"bg-gradient-to-r from-purple-900/20 to-pink-600/20 p-4 rounded-lg mb-4 border border-purple-500/30",children:[s.jsx("h3",{className:"text-lg font-semibold text-purple-100 mb-2",children:"Your Liberation Journey"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-300",children:"Domain:"}),s.jsx("span",{className:"ml-2 text-white capitalize",children:g.domain})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-300",children:"Stage:"}),s.jsx("span",{className:"ml-2 text-white capitalize",children:g.stage.replace("_"," ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-300",children:"Confidence:"}),s.jsxs("span",{className:"ml-2 text-white",children:[Math.round(g.confidence*100),"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-300",children:"Focus:"}),s.jsx("span",{className:"ml-2 text-white",children:"Liberation & Empowerment"})]})]})]}),A=v=>T?s.jsxs("div",{className:"bg-gradient-to-r from-green-900/20 to-blue-600/20 p-4 rounded-lg mt-4 border border-green-500/30",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-100 mb-3",children:"Community Resources & Support"}),s.jsxs("div",{className:"space-y-4",children:[v.specific_resources.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-200 mb-2",children:"Immediate Resources:"}),s.jsx("div",{className:"space-y-2",children:v.specific_resources.slice(0,3).map((z,X)=>s.jsxs("div",{className:"bg-black/30 p-3 rounded border border-green-500/20",children:[s.jsx("div",{className:"font-medium text-white",children:z.title}),s.jsx("div",{className:"text-sm text-green-200 mt-1",children:z.description}),s.jsxs("div",{className:"text-xs text-green-300 mt-1",children:["Cultural Competency: ",z.cultural_competency]})]},X))})]}),v.actionable_steps.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-200 mb-2",children:"Next Steps:"}),s.jsx("div",{className:"space-y-2",children:v.actionable_steps.slice(0,3).map((z,X)=>s.jsxs("div",{className:"bg-black/30 p-3 rounded border border-blue-500/20",children:[s.jsx("div",{className:"text-white",children:z.step}),s.jsxs("div",{className:"text-xs text-blue-300 mt-1",children:["Timeline: ",z.timeline," | Community Connection: ",z.community_connection?"Yes":"No"]})]},X))})]}),v.community_connections.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-purple-200 mb-2",children:"Community Connections:"}),s.jsx("div",{className:"space-y-2",children:v.community_connections.map((z,X)=>s.jsxs("div",{className:"bg-black/30 p-3 rounded border border-purple-500/20",children:[s.jsx("div",{className:"font-medium text-white capitalize",children:z.connection_type.replace("_"," ")}),s.jsx("div",{className:"text-sm text-purple-200 mt-1",children:z.description}),s.jsxs("div",{className:"text-xs text-purple-300 mt-1",children:["Liberation Potential: ",z.liberation_potential]})]},X))})]})]})]}):null;return s.jsxs("div",{className:"flex flex-col h-[600px] bg-gradient-to-br from-gray-900 to-black rounded-lg border border-gray-700/50 shadow-2xl",children:[s.jsx("div",{className:`bg-gradient-to-r ${q()} p-4 rounded-t-lg`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"IVOR"}),s.jsx("p",{className:"text-sm text-gray-200",children:"Community Liberation AI Assistant"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>E(!m),className:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded text-sm text-white transition-colors",title:"Toggle Journey Insights",children:"Journey"}),s.jsx("button",{onClick:()=>y(!T),className:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded text-sm text-white transition-colors",title:"Toggle Resources Panel",children:"Resources"})]})]})}),Y(),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-900/50",children:[n.map(v=>s.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${v.role==="user"?"bg-purple-600 text-white":"bg-gray-700 text-gray-100 border border-gray-600"}`,children:[s.jsx("div",{className:"whitespace-pre-wrap",children:v.content}),v.journey_context&&s.jsxs("div",{className:"mt-2 text-xs opacity-75",children:["Journey: ",v.journey_context.domain," → ",v.journey_context.stage]}),v.response_data?.cultural_affirmation&&s.jsxs("div",{className:"mt-3 p-2 bg-gradient-to-r from-amber-900/30 to-red-900/30 rounded border border-amber-500/30",children:[s.jsx("div",{className:"text-sm text-amber-200 font-medium",children:"Community Affirmation:"}),s.jsx("div",{className:"text-sm text-amber-100 mt-1",children:v.response_data.cultural_affirmation})]}),v.response_data&&A(v.response_data),s.jsx("div",{className:"text-xs opacity-50 mt-2",children:v.timestamp.toLocaleTimeString()})]})},v.id)),c&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-700 text-gray-100 p-3 rounded-lg border border-gray-600",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-500"}),s.jsx("span",{children:"IVOR is analyzing your liberation journey..."})]})})}),s.jsx("div",{ref:S})]}),s.jsx("div",{className:"p-2 bg-gray-800/50 border-t border-gray-700",children:s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx("button",{onClick:()=>C("crisis_support"),className:"px-3 py-1 bg-red-600/20 hover:bg-red-600/40 text-red-200 text-sm rounded border border-red-500/30 transition-colors",children:"Crisis Support"}),s.jsx("button",{onClick:()=>C("community_connect"),className:"px-3 py-1 bg-blue-600/20 hover:bg-blue-600/40 text-blue-200 text-sm rounded border border-blue-500/30 transition-colors",children:"Community Connect"}),s.jsx("button",{onClick:()=>C("empowerment_tools"),className:"px-3 py-1 bg-purple-600/20 hover:bg-purple-600/40 text-purple-200 text-sm rounded border border-purple-500/30 transition-colors",children:"Empowerment Tools"}),s.jsx("button",{onClick:()=>C("healing_resources"),className:"px-3 py-1 bg-green-600/20 hover:bg-green-600/40 text-green-200 text-sm rounded border border-green-500/30 transition-colors",children:"Healing Resources"})]})}),s.jsx("form",{onSubmit:M,className:"p-4 border-t border-gray-700 bg-gray-800/30",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{ref:D,type:"text",value:u,onChange:v=>l(v.target.value),placeholder:"Share what's on your mind... I'm here to support your liberation journey.",className:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:c}),s.jsx("button",{type:"submit",disabled:c||!u.trim(),className:`px-6 py-2 rounded-lg font-medium transition-colors ${c||!u.trim()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white"}`,children:"Send"})]})})]})},vh=({session_id:e,user_context:t={}})=>{const[a,i]=_.useState("projects"),[n,o]=_.useState([]),[u,l]=_.useState([]),[c,h]=_.useState(!1),[p,f]=_.useState(!1),[g,d]=_.useState(null),[m,E]=_.useState({title:"",description:"",project_type:"housing",journey_stage:"action",community_need_areas:[],organizing_stage:"awareness",collaboration_requirements:{},resource_needs:{},skills_needed:[],community_impact_goals:[],liberation_objectives:[],democratic_validation_score:0,community_support_level:0,success_metrics:{},coordinator_info:{},status:"proposed"}),[T,y]=_.useState({validation_type:"peer_review",cultural_authenticity_score:80,liberation_alignment_score:80,feedback_text:"",validation_status:"pending"});_.useEffect(()=>{S()},[]);const S=async()=>{h(!0);try{await Promise.all([D(),P()])}catch(v){console.error("Error loading dashboard data:",v)}finally{h(!1)}},D=async()=>{try{const v=await Rt.getActiveProjects({geographic_area:t.location});v.success?o(v.data||[]):console.error("Error loading projects:",v.error)}catch(v){console.error("Error loading projects:",v)}},P=async()=>{try{const v=[{opportunity_type:"housing_campaign",urgency_level:"high",geographic_area:t.location||"Local Area",community_readiness_score:87,liberation_relevance:92,required_skills:["tenant_organizing","community_outreach","legal_advocacy"],timeline_estimate:"3-6 months",collaboration_potential:85},{opportunity_type:"healthcare_access",urgency_level:"medium",geographic_area:t.location||"Local Area",community_readiness_score:78,liberation_relevance:88,required_skills:["healthcare_advocacy","community_education","policy_research"],timeline_estimate:"2-4 months",collaboration_potential:79}];l(v)}catch(v){console.error("Error loading opportunities:",v)}},M=async()=>{if(!m.title||!m.description){alert("Please fill in title and description");return}h(!0);try{const v=await Rt.createProject(m,{session_id:e,empowerment_goals:t.empowerment_goals||[],location:t.location});v.success?(alert("Project created successfully! Community validation in progress."),f(!1),E({title:"",description:"",project_type:"housing",journey_stage:"action",community_need_areas:[],organizing_stage:"awareness",liberation_objectives:[],democratic_validation_score:0,community_support_level:0,status:"proposed",skills_needed:[]}),await D()):alert(`Error creating project: ${v.error}`)}catch(v){console.error("Error creating project:",v),alert("Error creating project. Please try again.")}finally{h(!1)}},C=async()=>{if(!g||!T.feedback_text){alert("Please select a project and provide feedback");return}h(!0);try{const v=await organizingCoordination.submitCommunityValidation(g.id,{validator_session_id:e,validation_type:T.validation_type,validation_criteria:["cultural_authenticity","liberation_alignment","community_impact"],cultural_authenticity_score:T.cultural_authenticity_score,liberation_alignment_score:T.liberation_alignment_score,community_impact_assessment:{expected_reach:T.cultural_authenticity_score+T.liberation_alignment_score/2},feedback_text:T.feedback_text,validation_status:T.validation_status,created_at:new Date().toISOString()});v.success?(alert("Validation submitted successfully!"),y({validation_type:"peer_review",cultural_authenticity_score:80,liberation_alignment_score:80,feedback_text:"",validation_status:"pending"}),d(null),await D()):alert(`Error submitting validation: ${v.error}`)}catch(v){console.error("Error submitting validation:",v),alert("Error submitting validation. Please try again.")}finally{h(!1)}},q=async v=>{try{await eventCoordination.publishEvent({event_type:"ProjectUpdate",source_domain:"organizing",target_domains:["community","core"],event_data:{action:"user_joined_project",project_id:v.id,project_type:v.project_type,user_session_id:e,user_skills:t.skills||[],available_time:t.available_time||"medium"},journey_context:{stage:v.journey_stage,organizing_stage:v.organizing_stage},liberation_relevance_score:v.democratic_validation_score,cultural_sensitivity_check:!0,community_consent_verified:!0}),alert("Successfully joined project! You will receive coordination updates.")}catch(z){console.error("Error joining project:",z),alert("Error joining project. Please try again.")}},Y=v=>{const z={critical:"text-red-400 border-red-500/50",high:"text-orange-400 border-orange-500/50",medium:"text-yellow-400 border-yellow-500/50",low:"text-green-400 border-green-500/50"};return z[v]||z.medium},A=v=>({housing:"🏠",healthcare:"🏥",safety:"🛡️",economic:"💰",education:"📚",policy:"📋"})[v]||"⚡";return s.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black rounded-lg border border-gray-700/50 shadow-2xl",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-900 to-red-600 p-4 rounded-t-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"IVOR Organizing Dashboard"}),s.jsx("p",{className:"text-sm text-gray-200",children:"Democratic community project coordination"})]}),s.jsx("div",{className:"bg-gray-800/50 border-b border-gray-700",children:s.jsx("div",{className:"flex space-x-0",children:[{id:"projects",label:"Active Projects",icon:"📋"},{id:"opportunities",label:"Opportunities",icon:"💡"},{id:"create",label:"Create Project",icon:"➕"},{id:"validate",label:"Community Validation",icon:"✅"}].map(v=>s.jsxs("button",{onClick:()=>i(v.id),className:`px-4 py-3 text-sm font-medium transition-colors border-b-2 ${a===v.id?"text-purple-300 border-purple-500 bg-purple-900/20":"text-gray-400 border-transparent hover:text-purple-200 hover:border-purple-500/30"}`,children:[v.icon," ",v.label]},v.id))})}),s.jsxs("div",{className:"p-6",children:[a==="projects"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Active Community Projects"}),s.jsxs("button",{onClick:D,className:"px-3 py-1 bg-purple-600/20 hover:bg-purple-600/40 text-purple-200 text-sm rounded border border-purple-500/30 transition-colors",disabled:c,children:[c?"⟳":"🔄"," Refresh"]})]}),s.jsxs("div",{className:"grid gap-4",children:[n.map(v=>s.jsxs("div",{className:"bg-gradient-to-r from-gray-800/50 to-gray-700/30 p-4 rounded-lg border border-gray-600/50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-2xl",children:A(v.project_type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white",children:v.title}),s.jsxs("p",{className:"text-sm text-gray-300 capitalize",children:[v.project_type," • ",v.organizing_stage.replace("_"," ")]})]})]}),s.jsxs("div",{className:"text-right text-sm",children:[s.jsxs("div",{className:"text-purple-300",children:["Validation: ",v.democratic_validation_score,"%"]}),s.jsxs("div",{className:"text-green-300",children:["Support: ",v.community_support_level,"%"]})]})]}),s.jsx("p",{className:"text-gray-200 mb-3 text-sm",children:v.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-300",children:"Liberation Goals:"}),s.jsx("div",{className:"text-gray-300 mt-1",children:v.liberation_objectives.slice(0,2).map(z=>s.jsx("span",{className:"inline-block bg-purple-900/30 px-2 py-1 rounded mr-1 mb-1",children:z.replace("_"," ")},z))})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-300",children:"Skills Needed:"}),s.jsx("div",{className:"text-gray-300 mt-1",children:v.skills_needed.slice(0,3).map(z=>s.jsx("span",{className:"inline-block bg-blue-900/30 px-2 py-1 rounded mr-1 mb-1",children:z.replace("_"," ")},z))})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-xs text-gray-400",children:["Status: ",s.jsx("span",{className:`capitalize ${v.status==="validated"?"text-green-400":"text-yellow-400"}`,children:v.status})]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx("button",{onClick:()=>q(v),className:"px-3 py-1 bg-green-600/20 hover:bg-green-600/40 text-green-200 text-sm rounded border border-green-500/30 transition-colors",children:"Join Project"}),s.jsx("button",{onClick:()=>d(v),className:"px-3 py-1 bg-purple-600/20 hover:bg-purple-600/40 text-purple-200 text-sm rounded border border-purple-500/30 transition-colors",children:"View Details"})]})]})]},v.id)),n.length===0&&!c&&s.jsxs("div",{className:"text-center text-gray-400 py-8",children:[s.jsx("div",{className:"text-4xl mb-2",children:"📋"}),s.jsx("p",{children:"No active projects found in your area."}),s.jsx("p",{className:"text-sm mt-1",children:"Create a new project to get started!"})]})]})]}),a==="opportunities"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Organizing Opportunities"}),s.jsxs("button",{onClick:P,className:"px-3 py-1 bg-purple-600/20 hover:bg-purple-600/40 text-purple-200 text-sm rounded border border-purple-500/30 transition-colors",disabled:c,children:[c?"⟳":"🔄"," Refresh"]})]}),s.jsxs("div",{className:"grid gap-4",children:[u.map((v,z)=>s.jsxs("div",{className:`bg-gradient-to-r from-gray-800/50 to-gray-700/30 p-4 rounded-lg border ${Y(v.urgency_level)}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white capitalize",children:v.opportunity_type.replace("_"," ")}),s.jsxs("p",{className:"text-sm text-gray-300",children:[v.geographic_area," • Urgency: ",s.jsx("span",{className:"capitalize",children:v.urgency_level})]})]}),s.jsxs("div",{className:"text-right text-sm",children:[s.jsxs("div",{className:"text-purple-300",children:["Readiness: ",v.community_readiness_score,"%"]}),s.jsxs("div",{className:"text-yellow-300",children:["Liberation: ",v.liberation_relevance,"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs mb-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-green-300",children:"Required Skills:"}),s.jsx("div",{className:"text-gray-300 mt-1",children:v.required_skills.slice(0,3).map(X=>s.jsx("span",{className:"inline-block bg-green-900/30 px-2 py-1 rounded mr-1 mb-1",children:X.replace("_"," ")},X))})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-300",children:"Timeline:"}),s.jsx("div",{className:"text-gray-300 mt-1",children:v.timeline_estimate})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-xs text-gray-400",children:["Collaboration Potential: ",v.collaboration_potential,"%"]}),s.jsx("button",{onClick:()=>{E({...m,title:`${v.opportunity_type.replace("_"," ")} - ${v.geographic_area}`,project_type:v.opportunity_type.includes("housing")?"housing":v.opportunity_type.includes("healthcare")?"healthcare":"policy",skills_needed:v.required_skills,community_impact_goals:v.expected_impact.liberation_outcomes||[]}),i("create")},className:"px-3 py-1 bg-orange-600/20 hover:bg-orange-600/40 text-orange-200 text-sm rounded border border-orange-500/30 transition-colors",children:"Start Project"})]})]},z)),u.length===0&&!c&&s.jsxs("div",{className:"text-center text-gray-400 py-8",children:[s.jsx("div",{className:"text-4xl mb-2",children:"💡"}),s.jsx("p",{children:"No organizing opportunities identified yet."}),s.jsx("p",{className:"text-sm mt-1",children:"Check back as community patterns emerge!"})]})]})]}),a==="create"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Create Community Project"}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-800/50 to-gray-700/30 p-6 rounded-lg border border-gray-600/50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project Title"}),s.jsx("input",{type:"text",value:m.title||"",onChange:v=>E({...m,title:v.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500",placeholder:"e.g., Housing Justice Coalition"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project Type"}),s.jsxs("select",{value:m.project_type||"housing",onChange:v=>E({...m,project_type:v.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"housing",children:"🏠 Housing Justice"}),s.jsx("option",{value:"healthcare",children:"🏥 Healthcare Access"}),s.jsx("option",{value:"safety",children:"🛡️ Community Safety"}),s.jsx("option",{value:"economic",children:"💰 Economic Justice"}),s.jsx("option",{value:"education",children:"📚 Educational Equity"}),s.jsx("option",{value:"policy",children:"📋 Policy Reform"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{value:m.description||"",onChange:v=>E({...m,description:v.target.value}),rows:4,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500",placeholder:"Describe your project's goals, community impact, and liberation focus..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Organizing Stage"}),s.jsxs("select",{value:m.organizing_stage||"awareness",onChange:v=>E({...m,organizing_stage:v.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"awareness",children:"Awareness Building"}),s.jsx("option",{value:"education",children:"Community Education"}),s.jsx("option",{value:"action",children:"Direct Action"}),s.jsx("option",{value:"leadership",children:"Leadership Development"}),s.jsx("option",{value:"system_change",children:"System Change"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Journey Stage"}),s.jsxs("select",{value:m.journey_stage||"action",onChange:v=>E({...m,journey_stage:v.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"action",children:"Action"}),s.jsx("option",{value:"campaign_participation",children:"Campaign Participation"}),s.jsx("option",{value:"leadership",children:"Leadership"}),s.jsx("option",{value:"organizing",children:"Community Organizing"}),s.jsx("option",{value:"system_change",children:"System Change"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>E({title:"",description:"",project_type:"housing",journey_stage:"action",community_need_areas:[],organizing_stage:"awareness",collaboration_requirements:{},resource_needs:{},skills_needed:[],community_impact_goals:[],liberation_objectives:[],democratic_validation_score:0,community_support_level:0,success_metrics:{},coordinator_info:{},status:"proposed"}),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded transition-colors",children:"Clear Form"}),s.jsx("button",{onClick:M,disabled:c||!m.title||!m.description,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Creating...":"Create Project"})]})]})]}),a==="validate"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Community Project Validation"}),s.jsxs("div",{className:"bg-gradient-to-r from-green-900/20 to-blue-600/20 p-4 rounded-lg border border-green-500/30",children:[s.jsx("h4",{className:"font-medium text-green-200 mb-2",children:"Community Validation Process"}),s.jsx("p",{className:"text-sm text-green-100",children:"Help ensure projects align with community values, cultural authenticity, and liberation goals through peer review and validation."})]}),s.jsxs("div",{className:"bg-gradient-to-r from-gray-800/50 to-gray-700/30 p-4 rounded-lg border border-gray-600/50",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Project to Validate"}),s.jsxs("select",{value:g?.id||"",onChange:v=>d(n.find(z=>z.id===v.target.value)||null),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"",children:"Choose a project..."}),n.filter(v=>v.status==="proposed").map(v=>s.jsxs("option",{value:v.id,children:[v.title," (",v.project_type,")"]},v.id))]})]}),g&&s.jsxs("div",{className:"bg-gradient-to-r from-gray-800/50 to-gray-700/30 p-6 rounded-lg border border-gray-600/50",children:[s.jsxs("h4",{className:"font-semibold text-white mb-3",children:["Validating: ",g.title]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Validation Type"}),s.jsxs("select",{value:T.validation_type||"peer_review",onChange:v=>y({...T,validation_type:v.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"peer_review",children:"Peer Review"}),s.jsx("option",{value:"community_consensus",children:"Community Consensus"}),s.jsx("option",{value:"expert_validation",children:"Expert Validation"}),s.jsx("option",{value:"lived_experience",children:"Lived Experience"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Validation Status"}),s.jsxs("select",{value:T.validation_status||"pending",onChange:v=>y({...T,validation_status:v.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"approved",children:"✅ Approved"}),s.jsx("option",{value:"needs_revision",children:"🔄 Needs Revision"}),s.jsx("option",{value:"rejected",children:"❌ Rejected"}),s.jsx("option",{value:"pending",children:"⏳ Pending Review"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cultural Authenticity Score"}),s.jsx("input",{type:"range",min:"0",max:"100",value:T.cultural_authenticity_score||80,onChange:v=>y({...T,cultural_authenticity_score:Number(v.target.value)}),className:"w-full"}),s.jsxs("div",{className:"text-center text-sm text-gray-400",children:[T.cultural_authenticity_score||80,"%"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Liberation Alignment Score"}),s.jsx("input",{type:"range",min:"0",max:"100",value:T.liberation_alignment_score||80,onChange:v=>y({...T,liberation_alignment_score:Number(v.target.value)}),className:"w-full"}),s.jsxs("div",{className:"text-center text-sm text-gray-400",children:[T.liberation_alignment_score||80,"%"]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Validation Feedback"}),s.jsx("textarea",{value:T.feedback_text||"",onChange:v=>y({...T,feedback_text:v.target.value}),rows:4,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500",placeholder:"Provide detailed feedback on cultural authenticity, liberation alignment, and community impact..."})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:C,disabled:c||!T.feedback_text,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white rounded font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Submitting...":"Submit Validation"})})]}),n.filter(v=>v.status==="proposed").length===0&&s.jsxs("div",{className:"text-center text-gray-400 py-8",children:[s.jsx("div",{className:"text-4xl mb-2",children:"✅"}),s.jsx("p",{children:"No projects currently pending validation."}),s.jsx("p",{className:"text-sm mt-1",children:"Check back when new projects are proposed!"})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-600",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-500"}),s.jsx("span",{className:"text-white",children:"Processing..."})]})})})]})]})},_h=()=>{const[e,t]=_.useState("chat"),[a,i]=_.useState({session_id:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,liberation_focus:["community_empowerment","collective_liberation"]}),[n,o]=_.useState(!0),[u,l]=_.useState({active_projects:12,community_members:847,organizing_opportunities:5,liberation_impact_score:87,cultural_authenticity_avg:92});_.useEffect(()=>{c(),h()},[]);const c=async()=>{console.log("🚀 Initializing IVOR Community Liberation Platform...");try{await Promise.all([]),console.log("✅ IVOR systems initialized successfully")}catch(m){console.error("❌ Error initializing IVOR systems:",m)}},h=async()=>{try{const m=await Rt.getCommunityStats();m.success?l(m.data):(console.error("Failed to load community stats:",m.error),l({active_projects:12,community_members:847,organizing_opportunities:5,liberation_impact_score:87,cultural_authenticity_avg:92}))}catch(m){console.error("Error loading community stats:",m),l({active_projects:12,community_members:847,organizing_opportunities:5,liberation_impact_score:87,cultural_authenticity_avg:92})}},p=m=>{i(E=>({...E,...m})),o(!1)},f=m=>{const E={chat:"from-purple-900 to-pink-600",organizing:"from-red-600 to-orange-600",community:"from-blue-600 to-purple-600",social:"from-green-600 to-teal-600"};return E[m]||E.chat},g=()=>s.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:s.jsxs(k.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},className:"bg-gradient-to-br from-gray-900 to-black p-8 rounded-lg border border-gray-700/50 shadow-2xl max-w-2xl w-full mx-4",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:"✊🏿"}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Welcome to IVOR"}),s.jsx("p",{className:"text-xl text-purple-200",children:"Community Liberation Platform"}),s.jsx("p",{className:"text-gray-300 mt-2",children:"Journey-aware AI supporting Black queer liberation through collective empowerment"})]}),s.jsx("div",{className:"space-y-4 mb-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-900/30 to-pink-600/30 p-4 rounded border border-purple-500/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:"🧠"}),s.jsx("h3",{className:"font-semibold text-white",children:"Personal AI Support"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Journey-aware guidance tailored to your liberation path"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-900/30 to-purple-600/30 p-4 rounded border border-blue-500/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:"🏘️"}),s.jsx("h3",{className:"font-semibold text-white",children:"Community Intelligence"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Anonymous analytics identifying organizing opportunities"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-red-900/30 to-orange-600/30 p-4 rounded border border-red-500/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:"✊"}),s.jsx("h3",{className:"font-semibold text-white",children:"Democratic Organizing"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Community-validated projects with resource coordination"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-900/30 to-teal-600/30 p-4 rounded border border-green-500/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:"📱"}),s.jsx("h3",{className:"font-semibold text-white",children:"Viral Social Growth"}),s.jsx("p",{className:"text-sm text-gray-300",children:"AI-generated content amplifying liberation messages"})]})]})}),s.jsxs("div",{className:"bg-gradient-to-r from-amber-900/20 to-red-900/20 p-4 rounded border border-amber-500/30 mb-6",children:[s.jsx("h4",{className:"font-medium text-amber-200 mb-2",children:"Community Values & Data Sovereignty"}),s.jsxs("ul",{className:"text-sm text-amber-100 space-y-1",children:[s.jsx("li",{children:"✓ Cultural authenticity validation on all responses"}),s.jsx("li",{children:"✓ Community data sovereignty with anonymous analytics"}),s.jsx("li",{children:"✓ Democratic governance for all organizing projects"}),s.jsx("li",{children:"✓ Liberation-focused optimization across all features"})]})]}),s.jsx("div",{className:"flex justify-center space-x-4",children:s.jsx("button",{onClick:()=>p({location:"Chicago",empowerment_goals:["community_connection","organizing","liberation"],cultural_background:"Black_queer",organizing_experience:"some",available_time:"medium",skills:["community_outreach","peer_support"],liberation_focus:["housing_justice","community_empowerment","healing_justice"]}),className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg font-medium transition-colors",children:"Enter IVOR Platform"})}),s.jsx("div",{className:"text-center mt-4 text-xs text-gray-400",children:"Built with liberation values • Community-owned • Democratic governance"})]})}),d=()=>s.jsxs("div",{className:"bg-gradient-to-r from-gray-800/50 to-gray-700/30 p-4 rounded-lg border border-gray-600/50 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"🏘️ Community Liberation Impact"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:u.active_projects}),s.jsx("div",{className:"text-xs text-gray-300",children:"Active Projects"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:u.community_members}),s.jsx("div",{className:"text-xs text-gray-300",children:"Community Members"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:u.organizing_opportunities}),s.jsx("div",{className:"text-xs text-gray-300",children:"Organizing Opportunities"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[u.liberation_impact_score,"%"]}),s.jsx("div",{className:"text-xs text-gray-300",children:"Liberation Impact"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[u.cultural_authenticity_avg,"%"]}),s.jsx("div",{className:"text-xs text-gray-300",children:"Cultural Authenticity"})]})]})]});return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[s.jsx(be,{children:n&&s.jsx(g,{})}),!n&&s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsx(k.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:`bg-gradient-to-r ${f(e)} p-6 rounded-lg mb-6`,children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"IVOR"}),s.jsx("p",{className:"text-lg text-gray-200",children:"Community Liberation Platform"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Journey-aware AI • Democratic governance • Cultural authenticity"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm text-gray-200",children:["Session: ",a.session_id.slice(-8)]}),s.jsxs("div",{className:"text-sm text-gray-300",children:["Location: ",a.location||"Global"]}),s.jsx("div",{className:"text-xs text-gray-400",children:"Liberation Focus: Active"})]})]})}),s.jsx(k.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:s.jsx(d,{})}),s.jsx(k.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"bg-gradient-to-r from-gray-800/50 to-gray-700/30 p-2 rounded-lg border border-gray-600/50 mb-6",children:s.jsx("div",{className:"flex space-x-2",children:[{id:"chat",label:"AI Chat",icon:"🧠",desc:"Journey-aware personal support"},{id:"organizing",label:"Organizing",icon:"✊",desc:"Democratic project coordination"},{id:"community",label:"Community",icon:"🏘️",desc:"Intelligence & analytics"},{id:"social",label:"Social",icon:"📱",desc:"Viral content & growth"}].map(m=>s.jsxs("button",{onClick:()=>t(m.id),className:`flex-1 p-3 text-sm font-medium transition-all duration-200 rounded-lg border ${e===m.id?`bg-gradient-to-r ${f(m.id)} text-white border-transparent shadow-lg`:"text-gray-400 border-gray-600/30 hover:text-white hover:border-gray-500/50 hover:bg-gray-700/50"}`,children:[s.jsx("div",{className:"text-lg mb-1",children:m.icon}),s.jsx("div",{className:"font-semibold",children:m.label}),s.jsx("div",{className:"text-xs opacity-75",children:m.desc})]},m.id))})}),s.jsx(k.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"min-h-[600px]",children:s.jsxs(be,{mode:"wait",children:[e==="chat"&&s.jsx(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:s.jsx(Nh,{session_id:a.session_id,initial_context:{location:a.location,empowerment_goals:a.empowerment_goals,cultural_background:a.cultural_background,skills:a.skills,liberation_focus:a.liberation_focus},cultural_theme:"liberation",liberation_focus:a.liberation_focus})},"chat"),e==="organizing"&&s.jsx(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:s.jsx(vh,{session_id:a.session_id,user_context:{location:a.location,empowerment_goals:a.empowerment_goals,organizing_experience:a.organizing_experience,available_time:a.available_time,skills:a.skills}})},"organizing"),e==="community"&&s.jsx(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"bg-gradient-to-br from-gray-900 to-black rounded-lg border border-gray-700/50 shadow-2xl p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🏘️"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Community Intelligence Dashboard"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"Anonymous community analytics, pattern recognition, and organizing opportunity identification"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-purple-600/20 p-6 rounded-lg border border-blue-500/30",children:[s.jsx("div",{className:"text-3xl mb-3",children:"📊"}),s.jsx("h3",{className:"text-lg font-semibold text-blue-200",children:"Pattern Analysis"}),s.jsx("p",{className:"text-sm text-blue-100 mt-2",children:"ML-powered community needs identification"}),s.jsx("div",{className:"mt-4 text-2xl font-bold text-blue-400",children:"87%"}),s.jsx("div",{className:"text-xs text-blue-300",children:"Accuracy Score"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-900/20 to-teal-600/20 p-6 rounded-lg border border-green-500/30",children:[s.jsx("div",{className:"text-3xl mb-3",children:"🔍"}),s.jsx("h3",{className:"text-lg font-semibold text-green-200",children:"Opportunity Detection"}),s.jsx("p",{className:"text-sm text-green-100 mt-2",children:"Real-time organizing opportunity identification"}),s.jsx("div",{className:"mt-4 text-2xl font-bold text-green-400",children:u.organizing_opportunities}),s.jsx("div",{className:"text-xs text-green-300",children:"Active Opportunities"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-900/20 to-pink-600/20 p-6 rounded-lg border border-purple-500/30",children:[s.jsx("div",{className:"text-3xl mb-3",children:"🛡️"}),s.jsx("h3",{className:"text-lg font-semibold text-purple-200",children:"Privacy Protection"}),s.jsx("p",{className:"text-sm text-purple-100 mt-2",children:"Community data sovereignty guaranteed"}),s.jsx("div",{className:"mt-4 text-2xl font-bold text-purple-400",children:"100%"}),s.jsx("div",{className:"text-xs text-purple-300",children:"Anonymous Analytics"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-amber-900/20 to-red-900/20 p-4 rounded-lg border border-amber-500/30",children:[s.jsx("p",{className:"text-amber-200 font-medium",children:"🚀 Community Intelligence Engine Active"}),s.jsx("p",{className:"text-amber-100 text-sm mt-2",children:"Analyzing community patterns while protecting privacy • Identifying organizing opportunities • Supporting collective liberation"})]})]})},"community"),e==="social"&&s.jsx(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"bg-gradient-to-br from-gray-900 to-black rounded-lg border border-gray-700/50 shadow-2xl p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"📱"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Social Liberation Amplification"}),s.jsx("p",{className:"text-gray-300 mb-6",children:"AI-generated viral content, community growth analytics, and liberation message amplification"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-blue-600/20 p-4 rounded-lg border border-blue-500/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:"🐦"}),s.jsx("h3",{className:"font-semibold text-blue-200",children:"Twitter"}),s.jsx("p",{className:"text-sm text-blue-100",children:"Thread generation"}),s.jsx("div",{className:"text-lg font-bold text-blue-400 mt-2",children:"94%"}),s.jsx("div",{className:"text-xs text-blue-300",children:"Authenticity"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-pink-900/20 to-purple-600/20 p-4 rounded-lg border border-pink-500/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:"📸"}),s.jsx("h3",{className:"font-semibold text-pink-200",children:"Instagram"}),s.jsx("p",{className:"text-sm text-pink-100",children:"Visual storytelling"}),s.jsx("div",{className:"text-lg font-bold text-pink-400 mt-2",children:"91%"}),s.jsx("div",{className:"text-xs text-pink-300",children:"Engagement"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-indigo-600/20 p-4 rounded-lg border border-indigo-500/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:"📘"}),s.jsx("h3",{className:"font-semibold text-indigo-200",children:"Facebook"}),s.jsx("p",{className:"text-sm text-indigo-100",children:"Community posts"}),s.jsx("div",{className:"text-lg font-bold text-indigo-400 mt-2",children:"88%"}),s.jsx("div",{className:"text-xs text-indigo-300",children:"Reach"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-cyan-600/20 p-4 rounded-lg border border-cyan-500/30",children:[s.jsx("div",{className:"text-2xl mb-2",children:"💼"}),s.jsx("h3",{className:"font-semibold text-cyan-200",children:"LinkedIn"}),s.jsx("p",{className:"text-sm text-cyan-100",children:"Professional advocacy"}),s.jsx("div",{className:"text-lg font-bold text-cyan-400 mt-2",children:"85%"}),s.jsx("div",{className:"text-xs text-cyan-300",children:"Network Growth"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-900/20 to-teal-600/20 p-6 rounded-lg border border-green-500/30 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-200 mb-3",children:"🚀 Viral Liberation Content Generation"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-left",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-300",children:"Content Features:"}),s.jsxs("ul",{className:"text-sm text-green-100 mt-2 space-y-1",children:[s.jsx("li",{children:"✓ Cultural authenticity validation"}),s.jsx("li",{children:"✓ Liberation message optimization"}),s.jsx("li",{children:"✓ Platform-specific formatting"}),s.jsx("li",{children:"✓ Community celebration focus"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-300",children:"Growth Analytics:"}),s.jsxs("ul",{className:"text-sm text-green-100 mt-2 space-y-1",children:[s.jsx("li",{children:"✓ Referral tracking system"}),s.jsx("li",{children:"✓ Community growth metrics"}),s.jsx("li",{children:"✓ Liberation impact scoring"}),s.jsx("li",{children:"✓ Viral coefficient analysis"})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-900/20 to-pink-600/20 p-4 rounded-lg border border-purple-500/30",children:[s.jsx("p",{className:"text-purple-200 font-medium",children:"📈 Social Liberation Engine Active"}),s.jsx("p",{className:"text-purple-100 text-sm mt-2",children:"Amplifying community voices • Growing liberation networks • Celebrating Black queer joy and resilience"})]})]})},"social")]})}),s.jsx(k.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"mt-8 text-center text-sm text-gray-400",children:s.jsxs("div",{className:"bg-gradient-to-r from-gray-800/30 to-gray-700/20 p-4 rounded-lg border border-gray-600/30",children:[s.jsx("p",{className:"font-medium text-gray-300",children:"IVOR Community Liberation Platform"}),s.jsx("p",{className:"mt-1",children:"Journey-aware AI • Democratic governance • Cultural authenticity • Community data sovereignty"}),s.jsxs("p",{className:"mt-2 text-xs",children:["Built with liberation values • Community-owned • Democratically governed • Liberation impact: ",u.liberation_impact_score,"% • Cultural authenticity: ",u.cultural_authenticity_avg,"%"]})]})})]})]})},Er=6048e5,Eh=864e5,jr=6e4,Qa=36e5,Pi=Symbol.for("constructDateFrom");function ye(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Pi in e?e[Pi](t):e instanceof Date?new e.constructor(t):new Date(t)}function ue(e,t){return ye(t||e,e)}function jh(e,t,a){const i=ue(e,a?.in);return isNaN(t)?ye(e,NaN):(i.setDate(i.getDate()+t),i)}function Th(e,t,a){return ye(e,+ue(e)+t)}function wh(e,t,a){return Th(e,t*Qa)}let Ah={};function Ps(){return Ah}function Pt(e,t){const a=Ps(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,n=ue(e,t?.in),o=n.getDay(),u=(o<i?7:0)+o-i;return n.setDate(n.getDate()-u),n.setHours(0,0,0,0),n}function xs(e,t){return Pt(e,{...t,weekStartsOn:1})}function Tr(e,t){const a=ue(e,t?.in),i=a.getFullYear(),n=ye(a,0);n.setFullYear(i+1,0,4),n.setHours(0,0,0,0);const o=xs(n),u=ye(a,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const l=xs(u);return a.getTime()>=o.getTime()?i+1:a.getTime()>=l.getTime()?i:i-1}function Mi(e){const t=ue(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function wr(e,...t){const a=ye.bind(null,t.find(i=>typeof i=="object"));return t.map(a)}function ps(e,t){const a=ue(e,t?.in);return a.setHours(0,0,0,0),a}function Ch(e,t,a){const[i,n]=wr(a?.in,e,t),o=ps(i),u=ps(n),l=+o-Mi(o),c=+u-Mi(u);return Math.round((l-c)/Eh)}function Sh(e,t){const a=Tr(e,t),i=ye(e,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),xs(i)}function Ar(e){return ye(e,Date.now())}function Cr(e,t,a){const[i,n]=wr(a?.in,e,t);return+ps(i)==+ps(n)}function Ih(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kh(e){return!(!Ih(e)&&typeof e!="number"||isNaN(+ue(e)))}function Oh(e,t){const a=ue(e,t?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const Dh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Lh=(e,t,a)=>{let i;const n=Dh[e];return typeof n=="string"?i=n:t===1?i=n.one:i=n.other.replace("{{count}}",t.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+i:i+" ago":i};function Js(e){return(t={})=>{const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const Rh={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ph={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mh={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bh={date:Js({formats:Rh,defaultWidth:"full"}),time:Js({formats:Ph,defaultWidth:"full"}),dateTime:Js({formats:Mh,defaultWidth:"full"})},Uh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fh=(e,t,a,i)=>Uh[e];function pt(e){return(t,a)=>{const i=a?.context?String(a.context):"standalone";let n;if(i==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,l=a?.width?String(a.width):u;n=e.formattingValues[l]||e.formattingValues[u]}else{const u=e.defaultWidth,l=a?.width?String(a.width):e.defaultWidth;n=e.values[l]||e.values[u]}const o=e.argumentCallback?e.argumentCallback(t):t;return n[o]}}const Hh={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zh={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vh={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Yh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$h={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gh=(e,t)=>{const a=Number(e),i=a%100;if(i>20||i<10)switch(i%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Wh={ordinalNumber:Gh,era:pt({values:Hh,defaultWidth:"wide"}),quarter:pt({values:qh,defaultWidth:"wide",argumentCallback:e=>e-1}),month:pt({values:zh,defaultWidth:"wide"}),day:pt({values:Vh,defaultWidth:"wide"}),dayPeriod:pt({values:Yh,defaultWidth:"wide",formattingValues:$h,defaultFormattingWidth:"wide"})};function ft(e){return(t,a={})=>{const i=a.width,n=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=t.match(n);if(!o)return null;const u=o[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Qh(l,f=>f.test(u)):Kh(l,f=>f.test(u));let h;h=e.valueCallback?e.valueCallback(c):c,h=a.valueCallback?a.valueCallback(h):h;const p=t.slice(u.length);return{value:h,rest:p}}}function Kh(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}function Qh(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}function Xh(e){return(t,a={})=>{const i=t.match(e.matchPattern);if(!i)return null;const n=i[0],o=t.match(e.parsePattern);if(!o)return null;let u=e.valueCallback?e.valueCallback(o[0]):o[0];u=a.valueCallback?a.valueCallback(u):u;const l=t.slice(n.length);return{value:u,rest:l}}}const Jh=/^(\d+)(th|st|nd|rd)?/i,Zh=/\d+/i,eg={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tg={any:[/^b/i,/^(a|c)/i]},sg={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ag={any:[/1/i,/2/i,/3/i,/4/i]},ig={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ng={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rg={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},og={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ug={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cg={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lg={ordinalNumber:Xh({matchPattern:Jh,parsePattern:Zh,valueCallback:e=>parseInt(e,10)}),era:ft({matchPatterns:eg,defaultMatchWidth:"wide",parsePatterns:tg,defaultParseWidth:"any"}),quarter:ft({matchPatterns:sg,defaultMatchWidth:"wide",parsePatterns:ag,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ft({matchPatterns:ig,defaultMatchWidth:"wide",parsePatterns:ng,defaultParseWidth:"any"}),day:ft({matchPatterns:rg,defaultMatchWidth:"wide",parsePatterns:og,defaultParseWidth:"any"}),dayPeriod:ft({matchPatterns:ug,defaultMatchWidth:"any",parsePatterns:cg,defaultParseWidth:"any"})},dg={code:"en-US",formatDistance:Lh,formatLong:Bh,formatRelative:Fh,localize:Wh,match:lg,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mg(e,t){const a=ue(e,t?.in);return Ch(a,Oh(a))+1}function hg(e,t){const a=ue(e,t?.in),i=+xs(a)-+Sh(a);return Math.round(i/Er)+1}function Sr(e,t){const a=ue(e,t?.in),i=a.getFullYear(),n=Ps(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,u=ye(t?.in||e,0);u.setFullYear(i+1,0,o),u.setHours(0,0,0,0);const l=Pt(u,t),c=ye(t?.in||e,0);c.setFullYear(i,0,o),c.setHours(0,0,0,0);const h=Pt(c,t);return+a>=+l?i+1:+a>=+h?i:i-1}function gg(e,t){const a=Ps(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,n=Sr(e,t),o=ye(t?.in||e,0);return o.setFullYear(n,0,i),o.setHours(0,0,0,0),Pt(o,t)}function xg(e,t){const a=ue(e,t?.in),i=+Pt(a,t)-+gg(a,t);return Math.round(i/Er)+1}function W(e,t){const a=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return a+i}const Me={y(e,t){const a=e.getFullYear(),i=a>0?a:1-a;return W(t==="yy"?i%100:i,t.length)},M(e,t){const a=e.getMonth();return t==="M"?String(a+1):W(a+1,2)},d(e,t){return W(e.getDate(),t.length)},a(e,t){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,t){return W(e.getHours()%12||12,t.length)},H(e,t){return W(e.getHours(),t.length)},m(e,t){return W(e.getMinutes(),t.length)},s(e,t){return W(e.getSeconds(),t.length)},S(e,t){const a=t.length,i=e.getMilliseconds(),n=Math.trunc(i*Math.pow(10,a-3));return W(n,t.length)}},it={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bi={G:function(e,t,a){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})}},y:function(e,t,a){if(t==="yo"){const i=e.getFullYear(),n=i>0?i:1-i;return a.ordinalNumber(n,{unit:"year"})}return Me.y(e,t)},Y:function(e,t,a,i){const n=Sr(e,i),o=n>0?n:1-n;if(t==="YY"){const u=o%100;return W(u,2)}return t==="Yo"?a.ordinalNumber(o,{unit:"year"}):W(o,t.length)},R:function(e,t){const a=Tr(e);return W(a,t.length)},u:function(e,t){const a=e.getFullYear();return W(a,t.length)},Q:function(e,t,a){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return W(i,2);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,a){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return W(i,2);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,a){const i=e.getMonth();switch(t){case"M":case"MM":return Me.M(e,t);case"Mo":return a.ordinalNumber(i+1,{unit:"month"});case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,a){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return W(i+1,2);case"Lo":return a.ordinalNumber(i+1,{unit:"month"});case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,a,i){const n=xg(e,i);return t==="wo"?a.ordinalNumber(n,{unit:"week"}):W(n,t.length)},I:function(e,t,a){const i=hg(e);return t==="Io"?a.ordinalNumber(i,{unit:"week"}):W(i,t.length)},d:function(e,t,a){return t==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):Me.d(e,t)},D:function(e,t,a){const i=mg(e);return t==="Do"?a.ordinalNumber(i,{unit:"dayOfYear"}):W(i,t.length)},E:function(e,t,a){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,a,i){const n=e.getDay(),o=(n-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return W(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,a,i){const n=e.getDay(),o=(n-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return W(o,t.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,a){const i=e.getDay(),n=i===0?7:i;switch(t){case"i":return String(n);case"ii":return W(n,t.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(i,{width:"short",context:"formatting"});case"iiii":default:return a.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,a){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,a){const i=e.getHours();let n;switch(i===12?n=it.noon:i===0?n=it.midnight:n=i/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,a){const i=e.getHours();let n;switch(i>=17?n=it.evening:i>=12?n=it.afternoon:i>=4?n=it.morning:n=it.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,a){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),a.ordinalNumber(i,{unit:"hour"})}return Me.h(e,t)},H:function(e,t,a){return t==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):Me.H(e,t)},K:function(e,t,a){const i=e.getHours()%12;return t==="Ko"?a.ordinalNumber(i,{unit:"hour"}):W(i,t.length)},k:function(e,t,a){let i=e.getHours();return i===0&&(i=24),t==="ko"?a.ordinalNumber(i,{unit:"hour"}):W(i,t.length)},m:function(e,t,a){return t==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):Me.m(e,t)},s:function(e,t,a){return t==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):Me.s(e,t)},S:function(e,t){return Me.S(e,t)},X:function(e,t,a){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Fi(i);case"XXXX":case"XX":return We(i);case"XXXXX":case"XXX":default:return We(i,":")}},x:function(e,t,a){const i=e.getTimezoneOffset();switch(t){case"x":return Fi(i);case"xxxx":case"xx":return We(i);case"xxxxx":case"xxx":default:return We(i,":")}},O:function(e,t,a){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ui(i,":");case"OOOO":default:return"GMT"+We(i,":")}},z:function(e,t,a){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ui(i,":");case"zzzz":default:return"GMT"+We(i,":")}},t:function(e,t,a){const i=Math.trunc(+e/1e3);return W(i,t.length)},T:function(e,t,a){return W(+e,t.length)}};function Ui(e,t=""){const a=e>0?"-":"+",i=Math.abs(e),n=Math.trunc(i/60),o=i%60;return o===0?a+String(n):a+String(n)+t+W(o,2)}function Fi(e,t){return e%60===0?(e>0?"-":"+")+W(Math.abs(e)/60,2):We(e,t)}function We(e,t=""){const a=e>0?"-":"+",i=Math.abs(e),n=W(Math.trunc(i/60),2),o=W(i%60,2);return a+n+t+o}const Hi=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ir=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pg=(e,t)=>{const a=e.match(/(P+)(p+)?/)||[],i=a[1],n=a[2];if(!n)return Hi(e,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Hi(i,t)).replace("{{time}}",Ir(n,t))},fg={p:Ir,P:pg},bg=/^D+$/,yg=/^Y+$/,Ng=["D","DD","YY","YYYY"];function vg(e){return bg.test(e)}function _g(e){return yg.test(e)}function Eg(e,t,a){const i=jg(e,t,a);if(console.warn(i),Ng.includes(e))throw new RangeError(i)}function jg(e,t,a){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Tg=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wg=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ag=/^'([^]*?)'?$/,Cg=/''/g,Sg=/[a-zA-Z]/;function Be(e,t,a){const i=Ps(),n=i.locale??dg,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,l=ue(e,a?.in);if(!kh(l))throw new RangeError("Invalid time value");let c=t.match(wg).map(p=>{const f=p[0];if(f==="p"||f==="P"){const g=fg[f];return g(p,n.formatLong)}return p}).join("").match(Tg).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const f=p[0];if(f==="'")return{isToken:!1,value:Ig(p)};if(Bi[f])return{isToken:!0,value:p};if(f.match(Sg))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:p}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const h={firstWeekContainsDate:o,weekStartsOn:u,locale:n};return c.map(p=>{if(!p.isToken)return p.value;const f=p.value;(_g(f)||vg(f))&&Eg(f,t,String(e));const g=Bi[f[0]];return g(l,f,n.localize,h)}).join("")}function Ig(e){const t=e.match(Ag);return t?t[1].replace(Cg,"'"):e}function kg(e,t){return Cr(ye(e,e),Ar(e))}function Og(e,t){return Cr(e,jh(Ar(e),1),t)}function Dg(e,t,a){const i=+ue(e,a?.in),[n,o]=[+ue(t.start,a?.in),+ue(t.end,a?.in)].sort((u,l)=>u-l);return i>=n&&i<=o}function Xt(e,t){const a=()=>ye(t?.in,NaN),n=Mg(e);let o;if(n.date){const h=Bg(n.date,2);o=Ug(h.restDateString,h.year)}if(!o||isNaN(+o))return a();const u=+o;let l=0,c;if(n.time&&(l=Fg(n.time),isNaN(l)))return a();if(n.timezone){if(c=Hg(n.timezone),isNaN(c))return a()}else{const h=new Date(u+l),p=ue(0,t?.in);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return ue(u+l+c,t?.in)}const Jt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Lg=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Rg=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Pg=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Mg(e){const t={},a=e.split(Jt.dateTimeDelimiter);let i;if(a.length>2)return t;if(/:/.test(a[0])?i=a[0]:(t.date=a[0],i=a[1],Jt.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Jt.timeZoneDelimiter)[0],i=e.substr(t.date.length,e.length))),i){const n=Jt.timezone.exec(i);n?(t.time=i.replace(n[1],""),t.timezone=n[1]):t.time=i}return t}function Bg(e,t){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(a);if(!i)return{year:NaN,restDateString:""};const n=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:o===null?n:o*100,restDateString:e.slice((i[1]||i[2]).length)}}function Ug(e,t){if(t===null)return new Date(NaN);const a=e.match(Lg);if(!a)return new Date(NaN);const i=!!a[4],n=bt(a[1]),o=bt(a[2])-1,u=bt(a[3]),l=bt(a[4]),c=bt(a[5])-1;if(i)return $g(t,l,c)?qg(t,l,c):new Date(NaN);{const h=new Date(0);return!Vg(t,o,u)||!Yg(t,n)?new Date(NaN):(h.setUTCFullYear(t,o,Math.max(n,u)),h)}}function bt(e){return e?parseInt(e):1}function Fg(e){const t=e.match(Rg);if(!t)return NaN;const a=Zs(t[1]),i=Zs(t[2]),n=Zs(t[3]);return Gg(a,i,n)?a*Qa+i*jr+n*1e3:NaN}function Zs(e){return e&&parseFloat(e.replace(",","."))||0}function Hg(e){if(e==="Z")return 0;const t=e.match(Pg);if(!t)return 0;const a=t[1]==="+"?-1:1,i=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return Wg(i,n)?a*(i*Qa+n*jr):NaN}function qg(e,t,a){const i=new Date(0);i.setUTCFullYear(e,0,4);const n=i.getUTCDay()||7,o=(t-1)*7+a+1-n;return i.setUTCDate(i.getUTCDate()+o),i}const zg=[31,null,31,30,31,30,31,31,30,31,30,31];function kr(e){return e%400===0||e%4===0&&e%100!==0}function Vg(e,t,a){return t>=0&&t<=11&&a>=1&&a<=(zg[t]||(kr(e)?29:28))}function Yg(e,t){return t>=1&&t<=(kr(e)?366:365)}function $g(e,t,a){return t>=1&&t<=53&&a>=0&&a<=6}function Gg(e,t,a){return e===24?t===0&&a===0:a>=0&&a<60&&t>=0&&t<60&&e>=0&&e<25}function Wg(e,t){return t>=0&&t<=59}class Kg{async getLiveEventsFeed(t={}){const{timeframe_hours:a=24,max_events:i=20,event_types:n=[],locations:o=[],include_completed:u=!0,include_live_updates:l=!0,priority_order:c="chronological"}=t;console.log("🔴 Loading live community events feed...");try{const h=await this.generateLiveEventsFeed({timeframe_hours:a,max_events:i,event_types:n,locations:o,include_completed:u});if(l)for(const g of h)g.live_updates=await this.generateLiveUpdates(g.id,g.event_type);const p=this.calculateActivityMetrics(h),f=this.sortEventsByPriority(h,c);return console.log(`✅ Loaded ${f.length} live events across ${p.cities_with_activity} cities`),{events:f.slice(0,i),metrics:p,last_updated:new Date().toISOString()}}catch(h){throw console.error("❌ Error loading live events feed:",h),h}}async generateLiveEventsFeed(t){const a=new Date,i=[];return[{title:"Community Healing Circle - Processing Recent Events",description:"Safe space for Black queer folks to process recent political developments and community challenges together.",event_type:"social",location:{city:"London",venue:"Hackney Community Centre",online:!1},organizer:{name:"London Black Queer Healing Network",type:"collective"},start_time:new Date(a.getTime()-7200*1e3).toISOString(),status:"live",participant_count:23,tags:["healing","community support","mental health"],community_focus:["Black","LGBTQ+","healing justice"],accessibility_features:["BSL interpretation","wheelchair accessible","quiet space available"]},{title:"Emergency Housing Support Drop-In",description:"Weekly drop-in for community members facing housing insecurity. Legal advice, advocacy support, and mutual aid available.",event_type:"mutual_aid",location:{city:"Manchester",venue:"Partisan Collective",online:!1},organizer:{name:"Manchester Black Queer Housing Collective",type:"collective"},start_time:new Date(a.getTime()+10800*1e3).toISOString(),end_time:new Date(a.getTime()+360*60*1e3).toISOString(),status:"upcoming",registration_info:{required:!1,cost:"free",accessibility:["wheelchair accessible"]},tags:["housing justice","mutual aid","legal support"],community_focus:["Black","LGBTQ+","housing insecure"],accessibility_features:["wheelchair accessible","childcare available","sliding scale donations"]},{title:"Afrobeats & Activism: Community Dance Session",description:"Monthly dance session celebrating African diaspora music while fundraising for community organizing. All skill levels welcome!",event_type:"cultural",location:{city:"Birmingham",venue:"Digbeth Community Space",online:!1},organizer:{name:"Birmingham Black Arts Collective",type:"collective"},start_time:new Date(a.getTime()+300*60*1e3).toISOString(),end_time:new Date(a.getTime()+480*60*1e3).toISOString(),status:"upcoming",participant_count:45,registration_info:{required:!0,url:"https://example.com/register",cost:"£5-15 sliding scale"},tags:["culture","fundraising","dance","afrobeats"],community_focus:["Black","African diaspora","arts"],accessibility_features:["wheelchair accessible","gender neutral bathrooms","alcohol-free space"]},{title:"Trans Healthcare Campaign Planning Session",description:"Monthly organizing meeting for Yorkshire Trans Healthcare Coalition. Planning direct actions and community education for September.",event_type:"organizing",location:{city:"Leeds",venue:"Leeds LGBT+ Centre",online:!0,hybrid:!0},organizer:{name:"Yorkshire Trans Healthcare Coalition",type:"collective"},start_time:new Date(a.getTime()+14400*1e3).toISOString(),end_time:new Date(a.getTime()+6.5*60*60*1e3).toISOString(),status:"upcoming",participant_count:32,registration_info:{required:!1,accessibility:["hybrid format","BSL available on request"]},tags:["trans rights","healthcare organizing","direct action"],community_focus:["trans","healthcare access","Yorkshire"],accessibility_features:["hybrid attendance","BSL interpretation","child-friendly"]},{title:"Black Queer History Walking Tour - Brixton Edition",description:"Community-led walking tour exploring Black LGBTQ+ history in South London. Stories of resistance, culture, and community building.",event_type:"educational",location:{city:"South London",venue:"Meet at Brixton Station",online:!1},organizer:{name:"South London Queer History Project",type:"organization"},start_time:new Date(a.getTime()+1560*60*1e3).toISOString(),end_time:new Date(a.getTime()+28.5*60*60*1e3).toISOString(),status:"upcoming",participant_count:18,registration_info:{required:!0,cost:"pay what you can £0-10"},tags:["history","education","walking tour","brixton"],community_focus:["Black","LGBTQ+","South London history"],accessibility_features:["accessible route planned","rest stops included","BSL interpreter available"]},{title:"Community Kitchen - Sunday Meal Prep",description:"Weekly community kitchen preparing meals for mutual aid distribution. Today we made 150 portions for community members.",event_type:"mutual_aid",location:{city:"Bristol",venue:"St Pauls Community Kitchen",online:!1},organizer:{name:"Bristol Black Community Kitchen",type:"collective"},start_time:new Date(a.getTime()-480*60*1e3).toISOString(),end_time:new Date(a.getTime()-14400*1e3).toISOString(),status:"completed",participant_count:28,tags:["mutual aid","food justice","community kitchen"],community_focus:["Black","food security","Bristol"],accessibility_features:["wheelchair accessible","halal options","allergen-conscious prep"]}].forEach((o,u)=>{const l={id:`live-event-${Date.now()}-${u}`,...o,registration_info:o.registration_info||{required:!1},social_links:{twitter:`@${o.organizer.name.toLowerCase().replace(/\s+/g,"")}`,instagram:`${o.organizer.name.toLowerCase().replace(/\s+/g,"")}`},metadata:{generated_for_demo:!0,event_template_id:u,community_verified:!0},created_at:new Date(a.getTime()-Math.random()*7*24*60*60*1e3).toISOString(),updated_at:new Date().toISOString()};i.push(l)}),i}async generateLiveUpdates(t,a){const i=[],n=new Date;return({organizing:[{update_type:"announcement",content:"📢 Reminder: Planning session starts in 1 hour! We'll be covering September direct action strategy and community education plans. Hybrid attendance available.",posted_by:"Yorkshire Trans Coalition",engagement:{likes:23,shares:8,comments:5}},{update_type:"live_coverage",content:"🔥 Amazing turnout tonight - 32 community members joining planning session! Currently discussing healthcare access improvements and timeline for next campaign phase.",posted_by:"Coalition Live Updates",engagement:{likes:45,shares:12,comments:9}}],social:[{update_type:"live_coverage",content:"💙 Beautiful community gathering - 23 folks sharing stories, processing together, and building collective care. The healing circle energy is powerful tonight.",posted_by:"Healing Network Coordinator",engagement:{likes:67,shares:15,comments:12}},{update_type:"reflection",content:"🌟 Grateful for this space to be vulnerable, share struggles, and find strength in community. Next healing circle: Thursday 7pm same location.",posted_by:"Community Member",engagement:{likes:34,shares:8,comments:6}}],cultural:[{update_type:"announcement",content:"🎵 Tonight's playlist includes Burna Boy, Wizkid, Tems, and classic Fela! DJ sets start at 8pm, fundraising for community organizing continues all night.",posted_by:"Birmingham Black Arts",engagement:{likes:89,shares:23,comments:18}}],mutual_aid:[{update_type:"results",content:"✊ Today's community kitchen success: 150 meal portions prepared and distributed! Thanks to 28 volunteers who made this possible. Next kitchen: Sunday 2pm.",posted_by:"Bristol Community Kitchen",engagement:{likes:156,shares:34,comments:27}}]}[a]||[]).forEach((l,c)=>{i.push({id:`update-${t}-${c}`,event_id:t,...l,posted_at:new Date(n.getTime()-Math.random()*4*60*60*1e3).toISOString()})}),i}calculateActivityMetrics(t){const a={active_events_count:t.filter(c=>c.status==="live"||c.status==="upcoming").length,cities_with_activity:0,total_participants_today:0,event_type_breakdown:{},geographic_spread:{london:0,manchester:0,birmingham:0,leeds:0,bristol:0,glasgow:0,other:0},engagement_stats:{total_updates:0,avg_engagement_per_update:0,trending_tags:[]}},i=new Set,n=[];let o=0,u=0;t.forEach(c=>{i.add(c.location.city);const h=c.location.city.toLowerCase();h.includes("london")?a.geographic_spread.london++:h.includes("manchester")?a.geographic_spread.manchester++:h.includes("birmingham")?a.geographic_spread.birmingham++:h.includes("leeds")?a.geographic_spread.leeds++:h.includes("bristol")?a.geographic_spread.bristol++:h.includes("glasgow")?a.geographic_spread.glasgow++:a.geographic_spread.other++,a.event_type_breakdown[c.event_type]=(a.event_type_breakdown[c.event_type]||0)+1,c.participant_count&&(a.total_participants_today+=c.participant_count),n.push(...c.tags),c.live_updates&&(u+=c.live_updates.length,c.live_updates.forEach(p=>{o+=p.engagement.likes+p.engagement.shares+p.engagement.comments}))}),a.cities_with_activity=i.size,a.engagement_stats.total_updates=u,a.engagement_stats.avg_engagement_per_update=u>0?o/u:0;const l={};return n.forEach(c=>{l[c]=(l[c]||0)+1}),a.engagement_stats.trending_tags=Object.entries(l).sort(([,c],[,h])=>h-c).slice(0,5).map(([c])=>c),a}sortEventsByPriority(t,a){switch(a){case"engagement":return t.sort((i,n)=>{const o=(i.live_updates||[]).reduce((l,c)=>l+c.engagement.likes+c.engagement.shares+c.engagement.comments,0);return(n.live_updates||[]).reduce((l,c)=>l+c.engagement.likes+c.engagement.shares+c.engagement.comments,0)-o});case"community_focus":return t.sort((i,n)=>{const o=i.community_focus.length+(i.participant_count||0)/10;return n.community_focus.length+(n.participant_count||0)/10-o});case"chronological":default:return t.sort((i,n)=>{const o={live:0,upcoming:1,completed:2,cancelled:3},u=o[i.status]-o[n.status];return u!==0?u:new Date(i.start_time).getTime()-new Date(n.start_time).getTime()})}}async getLiveEvents(){return(await this.getLiveEventsFeed({timeframe_hours:1,max_events:10,include_completed:!1})).events.filter(a=>a.status==="live")}async getUpcomingEvents(t=8){return(await this.getLiveEventsFeed({timeframe_hours:t,max_events:15,include_completed:!1})).events.filter(i=>i.status==="upcoming")}async getEventsByLocation(t){return(await this.getLiveEventsFeed({locations:[t],max_events:20})).events}async submitCommunityEvent(t){try{return console.log("📝 Community event submission received:",t.title),{success:!0,event_id:`community-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,message:"Event submitted for community review. It will appear in the feed once approved by community moderators."}}catch(a){return console.error("Error submitting community event:",a),{success:!1,message:"Failed to submit event. Please try again or contact support."}}}}const Qg=new Kg,Or=({onDismiss:e,persistent:t=!1})=>{const[a,i]=_.useState(!1),n=()=>{i(!0),e&&e()};return a&&!t?null:s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Beta Demonstration Content"}),s.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"⚠️ These stories are FICTIONAL"})," and created for beta testing purposes only. They are NOT real news events or actual organizing victories."]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Purpose:"})," To demonstrate BLKOUT's platform capabilities and inspire real community organizing."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Real Implementation:"})," Would feature actual community stories with full consent and community editorial control."]})]}),!t&&s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:n,className:"text-sm font-medium text-yellow-800 underline hover:text-yellow-600",children:"Dismiss for this session"})})]}),!t&&s.jsx("div",{className:"flex-shrink-0 ml-4",children:s.jsxs("button",{onClick:n,className:"inline-flex text-yellow-400 hover:text-yellow-600",children:[s.jsx("span",{className:"sr-only",children:"Dismiss"}),s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})},Xg=({maxEvents:e=15,showMetrics:t=!0,autoRefresh:a=!0,refreshInterval:i=6e4})=>{const[n,o]=_.useState([]),[u,l]=_.useState(null),[c,h]=_.useState(!0),[p,f]=_.useState(null),[g,d]=_.useState(""),[m,E]=_.useState("all"),[T,y]=_.useState("all");_.useEffect(()=>{if(S(),a){const C=setInterval(S,i);return()=>clearInterval(C)}},[e,a,i,m,T]);const S=async()=>{try{f(null);const C={max_events:e,event_types:m!=="all"?[m]:[],locations:T!=="all"?[T]:[],include_live_updates:!0,priority_order:"chronological"},q=await Qg.getLiveEventsFeed(C);o(q.events),l(q.metrics),d(q.last_updated)}catch(C){console.error("Error loading events feed:",C),f("Failed to load community events feed")}finally{h(!1)}},D=C=>{switch(C){case"live":return"bg-red-100 text-red-800";case"upcoming":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},P=C=>({organizing:"✊",cultural:"🎨",social:"💬",educational:"📚",celebration:"🎉",mutual_aid:"🤝"})[C]||"📅",M=(C,q)=>{const Y=Xt(C),A=new Date;if(q==="live")return"Live Now";if(q==="completed"){const v=Math.floor((A.getTime()-Y.getTime())/36e5);return v<1?"Just finished":v<24?`Ended ${v}h ago`:`Ended ${Be(Y,"MMM d")}`}return kg(Y)?`Today ${Be(Y,"HH:mm")}`:Og(Y)?`Tomorrow ${Be(Y,"HH:mm")}`:Dg(Y,{start:A,end:wh(A,168)})?Be(Y,"EEE HH:mm"):Be(Y,"MMM d, HH:mm")};return c?s.jsx("div",{className:"live-events-feed p-6 bg-white rounded-lg shadow-sm",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/2 mb-4"}),s.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(C=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-300 rounded w-2/3"})]},C))})]})}):s.jsxs("div",{className:"live-events-feed p-6 bg-white rounded-lg shadow-sm",children:[s.jsx(Or,{}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:"🔴 Live Community Activity"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time feed of UK Black queer organizing, culture, and community events"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:S,disabled:c,className:"px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-md hover:bg-indigo-100 transition-colors disabled:opacity-50",children:c?"Loading...":"Refresh Feed"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Updated ",g?Be(Xt(g),"HH:mm:ss"):"now"]})]})]}),p&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"text-red-600 mr-2",children:"⚠️"}),s.jsxs("div",{className:"text-red-700",children:[s.jsx("p",{className:"font-medium",children:"Unable to load events feed"}),s.jsx("p",{className:"text-sm mt-1",children:p})]})]})}),t&&u&&s.jsxs("div",{className:"mb-6 grid grid-cols-2 md:grid-cols-5 gap-4 p-4 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:u.active_events_count}),s.jsx("div",{className:"text-sm text-gray-600",children:"Live & Upcoming"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.cities_with_activity}),s.jsx("div",{className:"text-sm text-gray-600",children:"UK Cities Active"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.total_participants_today}),s.jsx("div",{className:"text-sm text-gray-600",children:"People Participating"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Object.keys(u.event_type_breakdown).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Event Types"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:u.engagement_stats.total_updates}),s.jsx("div",{className:"text-sm text-gray-600",children:"Live Updates"})]})]}),s.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Type:"}),s.jsxs("select",{value:m,onChange:C=>E(C.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"All Events"}),s.jsx("option",{value:"organizing",children:"✊ Organizing"}),s.jsx("option",{value:"cultural",children:"🎨 Cultural"}),s.jsx("option",{value:"social",children:"💬 Social"}),s.jsx("option",{value:"educational",children:"📚 Educational"}),s.jsx("option",{value:"mutual_aid",children:"🤝 Mutual Aid"}),s.jsx("option",{value:"celebration",children:"🎉 Celebration"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Location:"}),s.jsxs("select",{value:T,onChange:C=>y(C.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"All Locations"}),s.jsx("option",{value:"London",children:"London"}),s.jsx("option",{value:"Manchester",children:"Manchester"}),s.jsx("option",{value:"Birmingham",children:"Birmingham"}),s.jsx("option",{value:"Leeds",children:"Leeds"}),s.jsx("option",{value:"Bristol",children:"Bristol"}),s.jsx("option",{value:"Glasgow",children:"Glasgow"})]})]}),u&&u.engagement_stats.trending_tags.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Trending:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.engagement_stats.trending_tags.slice(0,3).map(C=>s.jsxs("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded-full",children:["#",C]},C))})]})]}),s.jsx("div",{className:"space-y-4",children:n.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:"📅"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events in feed"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters or check back later for community activity"})]}):n.map(C=>s.jsxs("div",{className:`border rounded-lg p-4 hover:shadow-md transition-shadow ${C.status==="live"?"border-red-200 bg-red-50":C.status==="upcoming"?"border-blue-200 bg-blue-50":"border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("span",{className:"text-2xl",role:"img","aria-label":C.event_type,children:P(C.event_type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[s.jsx("span",{children:C.title}),C.status==="live"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"🔴 LIVE"})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[s.jsxs("span",{children:["📍 ",C.location.city]}),s.jsxs("span",{children:["⏰ ",M(C.start_time,C.status)]}),s.jsxs("span",{children:["👥 ",C.organizer.name]}),C.participant_count&&s.jsxs("span",{children:["🙋‍♀️ ",C.participant_count," attending"]})]})]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${D(C.status)}`,children:C.status})]}),s.jsx("p",{className:"text-gray-700 mb-3 text-sm leading-relaxed",children:C.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-gray-600 mb-3",children:[C.location.venue&&s.jsxs("span",{children:["🏢 ",C.location.venue]}),C.location.online&&s.jsx("span",{children:"💻 Online available"}),C.location.hybrid&&s.jsx("span",{children:"🔄 Hybrid event"}),C.registration_info?.cost&&s.jsxs("span",{children:["💰 ",C.registration_info.cost]})]}),C.accessibility_features.length>0&&s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:C.accessibility_features.map(q=>s.jsxs("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded",children:["♿ ",q]},q))})}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:C.tags.map(q=>s.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:["#",q]},q))}),C.live_updates&&C.live_updates.length>0&&s.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-2",children:"📢 Live Updates"}),s.jsx("div",{className:"space-y-2",children:C.live_updates.slice(0,2).map(q=>s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-gray-700",children:q.content}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-500",children:[s.jsx("span",{children:Be(Xt(q.posted_at),"HH:mm")}),s.jsxs("span",{children:["👍 ",q.engagement.likes]}),s.jsxs("span",{children:["↪️ ",q.engagement.shares]}),s.jsxs("span",{children:["💬 ",q.engagement.comments]})]})]},q.id))})]}),C.registration_info?.url&&C.status==="upcoming"&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:s.jsx("a",{href:C.registration_info.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 rounded hover:bg-indigo-700 transition-colors",children:"Register for Event →"})})]},C.id))}),u&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"🗺️ UK Community Activity Right Now"}),s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-2 text-center text-sm",children:Object.entries(u.geographic_spread).map(([C,q])=>s.jsxs("div",{className:q>0?"text-indigo-600 font-medium":"text-gray-400",children:[s.jsx("div",{className:"text-lg",children:q}),s.jsx("div",{className:"capitalize",children:C})]},C))})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["🔴 Live community events feed updates every minute •",s.jsxs("span",{className:"font-medium",children:[" Next refresh: ",g?Be(Xt(g),"HH:mm:ss"):"now"]})]})})]})};function Jg(){return s.jsx("div",{className:"min-h-screen bg-gray-100 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4",children:s.jsx(Xg,{})})})}const Zg=()=>{const[e,t]=_.useState("website"),[a,i]=_.useState(1),[n,o]=_.useState(!1),u=[{id:"website",name:"BLKOUT Website",description:"Community hub with newsroom, events, and governance tools",url:"/dashboard",status:"active",icon:"🏠",category:"core"},{id:"ivor",name:"IVOR AI Assistant",description:"Community-aware AI for organizing, health, and liberation support",url:"https://blkoutnxt-ivor-frontend.vercel.app/",status:"active",icon:"🤖",category:"core"},{id:"newsroom",name:"Community Newsroom",description:"Democratic storytelling platform with community editorial control",url:"/newsroom",status:"demo",icon:"📰",category:"community"},{id:"events",name:"Events Calendar",description:"UK-wide Black queer community events and organizing activities",url:"/events",status:"active",icon:"📅",category:"community"},{id:"governance",name:"Community Governance",description:"Democratic decision-making and community curation tools",url:"/governance",status:"demo",icon:"🏛️",category:"community"},{id:"extension",name:"Chrome Reporter",description:"Community journalism extension for real event reporting",url:"/extension",status:"active",icon:"🔗",category:"tools"},{id:"live_events",name:"Live Community Feed",description:"Real-time community activity across UK cities",url:"/live-events",status:"demo",icon:"📡",category:"community"},{id:"demo",name:"Demo Scenarios",description:"Interactive user journey demonstrations",url:"/demo",status:"active",icon:"🎬",category:"tools"}],l=[{step:1,title:"Discover Community",description:"Start at BLKOUT website to explore UK Black queer community resources and stories",component:"website",action:"Browse newsroom, events calendar, and community highlights",next_steps:["Chat with IVOR","Explore events","Read community stories"]},{step:2,title:"Get AI Support",description:"Chat with IVOR for organizing advice, health resources, and community connections",component:"ivor",action:"Ask questions about organizing, health, liberation, community resources",next_steps:["Find local events","Get organizing advice","Access health resources"]},{step:3,title:"Engage Locally",description:"Find events in your city and connect with local Black queer organizing",component:"events",action:"Search events by location, join organizing meetings, attend celebrations",next_steps:["Report community events","Share stories","Join governance"]},{step:4,title:"Contribute Stories",description:"Report real community events and victories through democratic editorial process",component:"extension",action:"Install Chrome extension, report organizing victories and community celebrations",next_steps:["Participate in governance","Share on social","Organize locally"]},{step:5,title:"Shape Community",description:"Participate in democratic governance and community curation decisions",component:"governance",action:"Vote on story features, curate events, participate in platform decisions",next_steps:["Mentor newcomers","Lead organizing","Build solidarity"]}];_.useEffect(()=>{let g=null;return n&&(g=setInterval(()=>{i(d=>d===l.length?1:d+1),t(l[a%l.length].component)},1e4)),()=>{g&&clearInterval(g)}},[n,a,l.length]);const c=g=>{switch(g){case"active":return"text-green-600 bg-green-100";case"demo":return"text-blue-600 bg-blue-100";case"coming_soon":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},h=g=>{switch(g){case"core":return"⭐";case"community":return"👥";case"tools":return"🛠️";default:return"📦"}},p=g=>{t(g.id),g.url.startsWith("http")&&window.open(g.url,"_blank")},f=l.find(g=>g.step===a);return s.jsxs("div",{className:"unified-user-experience p-6 bg-white rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:"🌍"}),"BLKOUT Ecosystem"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Unified experience across community liberation platform"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>o(!n),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${n?"text-white bg-indigo-600 hover:bg-indigo-700":"text-indigo-600 bg-indigo-50 hover:bg-indigo-100"}`,children:n?"⏸️ Pause Guide":"▶️ User Journey Guide"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[u.filter(g=>g.status==="active").length," Active •",u.filter(g=>g.status==="demo").length," Demo"]})]})]}),n&&f&&s.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-indigo-900",children:["Step ",f.step,": ",f.title]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-indigo-600",children:[a," of ",l.length]}),s.jsx("div",{className:"flex gap-1",children:Array.from({length:l.length},(g,d)=>s.jsx("div",{className:`w-2 h-2 rounded-full ${d+1===a?"bg-indigo-600":"bg-indigo-200"}`},d))})]})]}),s.jsx("p",{className:"text-indigo-700 mb-2",children:f.description}),s.jsxs("div",{className:"text-sm text-indigo-600 mb-3",children:[s.jsx("strong",{children:"Action:"})," ",f.action]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"text-sm text-indigo-600 font-medium",children:"Next steps:"}),f.next_steps.map((g,d)=>s.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full",children:g},d))]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:u.map(g=>s.jsxs("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all hover:shadow-md ${e===g.id?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>p(g),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:g.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:g.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[h(g.category)," ",g.category]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${c(g.status)}`,children:g.status.replace("_"," ")})]})]})]}),g.url.startsWith("http")?s.jsx("span",{className:"text-gray-400 text-sm",children:"↗️"}):s.jsx(se,{to:g.url,className:"text-indigo-600 hover:text-indigo-800 text-sm",onClick:d=>d.stopPropagation(),children:"→"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.description}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("button",{className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",onClick:()=>p(g),children:g.url.startsWith("http")?"Open External":"Navigate"}),e===g.id&&s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"✓ Active"})]})]},g.id))}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Integration Flow"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 text-sm",children:[s.jsx("span",{className:"px-3 py-1 bg-white rounded-full border font-medium",children:"🏠 Website"}),s.jsx("span",{className:"text-gray-400",children:"→"}),s.jsx("span",{className:"px-3 py-1 bg-white rounded-full border font-medium",children:"🤖 IVOR Chat"}),s.jsx("span",{className:"text-gray-400",children:"→"}),s.jsx("span",{className:"px-3 py-1 bg-white rounded-full border font-medium",children:"📅 Events"}),s.jsx("span",{className:"text-gray-400",children:"→"}),s.jsx("span",{className:"px-3 py-1 bg-white rounded-full border font-medium",children:"📰 Stories"}),s.jsx("span",{className:"text-gray-400",children:"→"}),s.jsx("span",{className:"px-3 py-1 bg-white rounded-full border font-medium",children:"🏛️ Governance"}),s.jsx("span",{className:"text-gray-400",children:"→"}),s.jsx("span",{className:"px-3 py-1 bg-white rounded-full border font-medium",children:"👥 Community"})]}),s.jsx("div",{className:"text-center text-xs text-gray-500 mt-2",children:"Seamless flow through liberation ecosystem"})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 justify-center",children:[s.jsx(se,{to:"/newsroom",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors",children:"📰 Read Community Stories"}),s.jsx("a",{href:"https://blkoutnxt-ivor-frontend.vercel.app/",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-md hover:bg-indigo-100 transition-colors",children:"🤖 Chat with IVOR AI"}),s.jsx(se,{to:"/events",className:"px-4 py-2 text-sm font-medium text-purple-600 bg-purple-50 rounded-md hover:bg-purple-100 transition-colors",children:"📅 Find Local Events"}),s.jsx(se,{to:"/live-events",className:"px-4 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-md hover:bg-green-100 transition-colors",children:"📡 Live Community Feed"}),s.jsx(se,{to:"/extension",className:"px-4 py-2 text-sm font-medium text-orange-600 bg-orange-50 rounded-md hover:bg-orange-100 transition-colors",children:"🔗 Community Reporter"})]}),s.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:s.jsx("p",{children:"🌍 Unified BLKOUT ecosystem • Community-owned liberation platform • Democratic governance • UK Black queer community organizing"})})]})};function ex(){return s.jsx("div",{className:"min-h-screen bg-gray-100 py-8",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4",children:s.jsx(Zg,{})})})}const tx=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Community Reporter Extension"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Report real community events with organizer consent for democratic journalism"}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-blue-900 mb-3",children:"🔗 Chrome Extension Available"}),s.jsx("p",{className:"text-blue-700 mb-4",children:"Our community reporter extension is ready for installation. It enables ethical reporting of real community events with proper consent collection."}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-600",children:[s.jsx("p",{children:"✓ Real community event reporting"}),s.jsx("p",{children:"✓ Organizer consent collection"}),s.jsx("p",{children:"✓ Democratic editorial process"}),s.jsx("p",{children:"✓ Community validation workflow"})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Extension files are prepared and ready for Chrome Web Store submission."}),s.jsx("button",{className:"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",onClick:()=>window.open("/extension/popup.html","_blank"),children:"Preview Extension Interface"})]})]})})}),sx=()=>{const[e,t]=_.useState(null),[a,i]=_.useState(0),[n,o]=_.useState(!1),[u,l]=_.useState({}),{addNotification:c,addActivity:h}=an(),p=[{id:"trans_housing_organizing",title:"Trans Housing Rights Campaign Victory",description:"Follow Kai as they organize a successful campaign for trans-inclusive social housing policies in Manchester",category:"organizing",persona:{name:"Kai (they/them)",location:"Manchester",background:"Black trans community organizer, experienced in housing advocacy",goals:["Secure trans-inclusive housing policies","Build coalition of supporters","Document organizing victory"],challenges:["Navigating council bureaucracy","Building cross-community support","Maintaining momentum"],identity:"Black trans organizer, 28, community college graduate"},journey_steps:[{step:1,component:"IVOR AI",action:"Research housing discrimination patterns",description:"Kai asks IVOR about trans housing discrimination in Manchester and gets specific local data, relevant policies, and organizing strategies",expected_result:"Comprehensive brief on Manchester housing issues, contact info for local advocates, specific policy recommendations",timeline:"15 minutes"},{step:2,component:"Events Calendar",action:"Find allies and build coalition",description:"Kai searches Manchester events for housing justice groups, LGBTQ+ organizations, and community meetings to build support",expected_result:"Contact with 3 local groups, 15 individual supporters identified, coalition meeting scheduled",timeline:"2 weeks"},{step:3,component:"IVOR AI",action:"Develop campaign strategy",description:"Kai works with IVOR to create campaign timeline, talking points, and petition language based on successful trans housing campaigns",expected_result:"Complete campaign strategy, petition with 200+ signatures, media messaging framework",timeline:"1 week"},{step:4,component:"Community Governance",action:"Build democratic campaign structure",description:"Coalition uses BLKOUT governance tools to make decisions democratically about campaign priorities and tactics",expected_result:"Consensus-based decision making process, transparent campaign governance, broader community buy-in",timeline:"3 weeks"},{step:5,component:"Chrome Extension",action:"Document campaign victory",description:"After successful council vote, Kai reports the victory through community journalism, with coalition consent for publication",expected_result:"Manchester City Council adopts trans-inclusive housing policy, victory story published with community consent",timeline:"1 day"},{step:6,component:"Newsroom",action:"Share organizing knowledge",description:"Victory story goes through democratic editorial review and gets published, inspiring similar campaigns in other cities",expected_result:"Story published, shared across UK organizing networks, template created for other cities",timeline:"1 week"}],expected_outcomes:["Manchester adopts trans-inclusive social housing policy","£50k emergency housing fund established for QTIPOC+ residents","Coalition of 8 organizations formed for future campaigns","Organizing template shared with advocates in Birmingham, Leeds, Brighton","Media coverage amplifies trans housing justice across UK"],community_impact:"Policy victory protects 200+ trans people from housing discrimination, creates £50k emergency fund, establishes organizing model replicated in 4 other cities",duration_minutes:25},{id:"health_resource_launch",title:"Community Health Hub Launch",description:"Follow Maya as they coordinate the launch of a Black queer community health resource in South London",category:"health",persona:{name:"Maya (she/her)",location:"South London",background:"Black lesbian nurse, community health advocate, experienced in grassroots organizing",goals:["Launch community-controlled health hub","Address healthcare barriers for Black queer people","Create sustainable funding model"],challenges:["NHS bureaucracy","Securing sustainable funding","Building trust with community"],identity:"Black lesbian nurse, 34, masters in public health"},journey_steps:[{step:1,component:"IVOR AI",action:"Research community health needs",description:"Maya asks IVOR about health disparities affecting Black queer communities in South London, gets data on service gaps",expected_result:"Comprehensive needs assessment, identification of key health barriers, contact info for community health advocates",timeline:"1 week"},{step:2,component:"Events Calendar",action:"Community listening sessions",description:"Maya organizes and promotes community meetings through events calendar to gather input on health priorities",expected_result:"4 listening sessions with 80+ community members, clear priorities identified: mental health, sexual health, trans healthcare",timeline:"3 weeks"},{step:3,component:"Community Governance",action:"Democratic resource planning",description:"Community uses governance tools to democratically decide on health hub priorities, services, and governance structure",expected_result:"Community-controlled health hub model, democratic advisory board, service priorities set by community vote",timeline:"2 weeks"},{step:4,component:"IVOR AI",action:"Navigate NHS partnership",description:"Maya works with IVOR to understand NHS commissioning process and develop partnership proposal that maintains community control",expected_result:"NHS partnership secured, £120k annual funding committed, community autonomy protected in agreements",timeline:"6 weeks"},{step:5,component:"Events Calendar",action:"Launch celebration",description:"Health hub launch event coordinated through events calendar, celebrating community ownership and accessibility",expected_result:"200+ people attend launch, strong media coverage, community ownership model highlighted",timeline:"1 day"},{step:6,component:"Chrome Extension",action:"Document community victory",description:"Maya reports the successful launch through community journalism, with community consent and editorial input",expected_result:"Launch story published, NHS partnership model shared with other communities, replication toolkit created",timeline:"1 week"}],expected_outcomes:["Community-controlled health hub opens in South London","£120k annual NHS partnership funding secured","300+ Black queer people access culturally competent healthcare","Democratic governance model protects community control","Model replicated in Manchester and Birmingham"],community_impact:"Addresses healthcare barriers for 300+ Black queer people, creates community-controlled healthcare model, secures £120k sustainable funding, influences NHS policy on community partnerships",duration_minutes:20},{id:"cultural_celebration_organizing",title:"Black Queer Joy Festival",description:"Follow Alex as they organize a celebration of Black queer culture and resistance in Birmingham",category:"culture",persona:{name:"Alex (xe/xem)",location:"Birmingham",background:"Black queer artist and cultural worker, experienced in event organizing and community arts",goals:["Center Black queer joy and celebration","Create intergenerational community space","Showcase local Black queer artists"],challenges:["Securing venues and funding","Ensuring accessibility and safety","Building diverse programming"],identity:"Black queer non-binary artist, 26, community arts background"},journey_steps:[{step:1,component:"IVOR AI",action:"Research cultural organizing strategies",description:"Alex asks IVOR about successful Black queer cultural events, accessibility best practices, and funding opportunities",expected_result:"Event planning framework, accessibility checklist, 15+ funding opportunities identified, best practice examples",timeline:"2 weeks"},{step:2,component:"Events Calendar",action:"Connect with local artists and venues",description:"Alex uses events calendar to identify Black queer artists, community spaces, and potential collaborators in Birmingham",expected_result:"25+ local artists contacted, 3 community venues secured, planning committee of 8 people formed",timeline:"3 weeks"},{step:3,component:"Community Governance",action:"Democratic festival planning",description:"Planning committee uses governance tools to make collective decisions about programming, accessibility, and community agreements",expected_result:"Consensus-based programming decisions, comprehensive accessibility plan, community agreements for safer space",timeline:"4 weeks"},{step:4,component:"Events Calendar",action:"Promote festival across UK",description:"Festival promoted through integrated events calendar, reaching Black queer communities across UK cities",expected_result:"500+ people registered, attendees from 12 UK cities, strong social media engagement, community excitement",timeline:"6 weeks"},{step:5,component:"Live Events Feed",action:"Festival day coordination",description:"Real-time coordination during festival through live events feed, ensuring accessibility and celebrating achievements",expected_result:"400+ people attend, 30+ artists perform, fully accessible, zero safety incidents, overwhelming community joy",timeline:"2 days"},{step:6,component:"Chrome Extension",action:"Document cultural celebration",description:"Community journalists document festival impact and community responses, with participant consent for publication",expected_result:"Celebration documented and shared, cultural organizing model template created, inspiration for other cities",timeline:"1 week"}],expected_outcomes:["Black Queer Joy Festival brings together 400+ people","30+ local Black queer artists showcased and paid fairly","Fully accessible event with BSL interpretation, childcare, sensory-friendly spaces","Intergenerational community connections strengthened","Annual festival model established with democratic governance"],community_impact:"Celebrates and centers Black queer joy, provides paid opportunities for 30+ artists, creates annual tradition, strengthens intergenerational community bonds, inspires similar festivals in other cities",duration_minutes:15}];_.useEffect(()=>{let y=null;return n&&e&&a<e.journey_steps.length&&(y=setInterval(()=>{i(D=>D+1);const S=e.journey_steps[a];S&&h({type:"ivor_conversation",title:`Demo: ${S.action}`,component:S.component.toLowerCase().replace(" ","_"),user:e.persona.name}),a>=e.journey_steps.length-1&&(o(!1),c({type:"success",title:"Demo Scenario Complete",message:`${e.title} demonstration finished successfully!`,component:"demo_scenarios"}))},3e3)),()=>{y&&clearInterval(y)}},[n,a,e]);const f=y=>{t(y),i(0),o(!0),c({type:"info",title:"Demo Scenario Started",message:`Following ${y.persona.name} through ${y.title}`,component:"demo_scenarios"})},g=()=>{o(!1)},d=()=>{o(!0)},m=()=>{o(!1),i(0)},E=y=>{switch(y){case"organizing":return"✊🏿";case"health":return"🏥";case"culture":return"🎭";case"solidarity":return"🤝";case"education":return"📚";default:return"🌟"}},T=y=>{switch(y){case"organizing":return"bg-red-50 text-red-700 border-red-200";case"health":return"bg-green-50 text-green-700 border-green-200";case"culture":return"bg-purple-50 text-purple-700 border-purple-200";case"solidarity":return"bg-blue-50 text-blue-700 border-blue-200";case"education":return"bg-yellow-50 text-yellow-700 border-yellow-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return s.jsxs("div",{className:"demo-scenarios p-6 bg-white rounded-lg shadow-sm",children:[s.jsx(Or,{persistent:!0}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:"🎬"}),"Demo Scenarios"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Interactive demonstrations of full user journeys through BLKOUT ecosystem"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[p.length," scenarios • Real community organizing examples"]})]}),!e&&s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:p.map(y=>s.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:E(y.category)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:y.title}),s.jsx("span",{className:`inline-block mt-1 px-2 py-1 text-xs rounded border ${T(y.category)}`,children:y.category})]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[y.duration_minutes," min"]})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:y.description}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Following:"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("strong",{children:y.persona.name})," • ",y.persona.location]}),s.jsx("div",{className:"mt-1",children:y.persona.identity}),s.jsxs("div",{className:"mt-2",children:[s.jsx("strong",{children:"Goals:"})," ",y.persona.goals.slice(0,2).join(", "),y.persona.goals.length>2&&"..."]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("h4",{className:"font-medium text-gray-800 mb-2",children:["Journey (",y.journey_steps.length," steps):"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:y.journey_steps.map((S,D)=>s.jsx("span",{className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded",children:S.component},D))})]}),s.jsx("button",{onClick:()=>f(y),className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors font-medium",children:"Start Demo Journey"})]},y.id))}),e&&s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 border border-indigo-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-indigo-900 flex items-center gap-2",children:[E(e.category),e.title]}),s.jsxs("div",{className:"mt-2 text-indigo-700",children:["Following ",s.jsx("strong",{children:e.persona.name})," in ",e.persona.location]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-sm text-indigo-600",children:["Step ",a+1," of ",e.journey_steps.length]}),s.jsx("button",{onClick:()=>t(null),className:"text-indigo-400 hover:text-indigo-600",children:"✕"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-indigo-600",children:"Progress"}),s.jsxs("span",{className:"text-sm text-indigo-600",children:[Math.round((a+1)/e.journey_steps.length*100),"%"]})]}),s.jsx("div",{className:"w-full bg-indigo-200 rounded-full h-2",children:s.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-500",style:{width:`${(a+1)/e.journey_steps.length*100}%`}})})]}),e.journey_steps[a]&&s.jsxs("div",{className:"bg-white rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:["Step ",a+1,": ",e.journey_steps[a].action]}),s.jsx("div",{className:"text-sm text-gray-500",children:e.journey_steps[a].component})]}),s.jsx("p",{className:"text-gray-700 mb-4",children:e.journey_steps[a].description}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-green-800 mb-2",children:"Expected Result:"}),s.jsx("p",{className:"text-green-700 text-sm",children:e.journey_steps[a].expected_result}),s.jsxs("div",{className:"text-xs text-green-600 mt-2",children:["Timeline: ",e.journey_steps[a].timeline]})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[n?s.jsx("button",{onClick:g,className:"px-6 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors",children:"⏸️ Pause"}):s.jsx("button",{onClick:d,disabled:a>=e.journey_steps.length,className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-50",children:a===0?"▶️ Start":"▶️ Continue"}),s.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"🔄 Reset"})]}),a>=e.journey_steps.length&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-800 mb-3",children:"🎉 Scenario Complete!"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h5",{className:"font-medium text-green-800 mb-2",children:"Community Impact:"}),s.jsx("p",{className:"text-green-700 text-sm mb-3",children:e.community_impact}),s.jsx("h5",{className:"font-medium text-green-800 mb-2",children:"Key Outcomes:"}),s.jsx("ul",{className:"text-green-700 text-sm space-y-1",children:e.expected_outcomes.map((y,S)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-600 mt-0.5",children:"✓"}),y]},S))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>t(null),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"Choose Another Scenario"}),s.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Watch Again"})]})]})]}),s.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:s.jsx("p",{children:"🎬 Interactive demo scenarios • Real community organizing examples • Showcasing BLKOUT ecosystem potential for liberation work"})})]})};function ax(){return s.jsx("div",{className:"min-h-screen bg-gray-100 py-8",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4",children:s.jsx(sx,{})})})}const ix=()=>{const[e,t]=_.useState(1),[a,i]=_.useState({current_step:1,completed_steps:[],engagement_level:"newcomer",preferred_interests:[]}),[n,o]=_.useState(!1),[u,l]=_.useState(!1),c=[{id:"welcome_blkouthub",title:"Welcome to BLKOUT Community",description:"Start your liberation journey by exploring our community-owned platform built by and for Black queer people across the UK",component:"website",icon:"🏠",action:{type:"internal",url:"/dashboard",label:"Explore Community Hub"},benefits:["Discover cooperative ownership model","Learn about democratic governance","See community values in action","Browse recent community highlights"],next_step_hint:"Ready to get personalized support? Chat with IVOR AI",completion_criteria:"Spend 2+ minutes exploring dashboard sections"},{id:"meet_ivor_ai",title:"Meet IVOR - Your AI Liberation Assistant",description:"Get personalized support for organizing, health resources, and community connections from our community-trained AI",component:"ivor",icon:"🤖",action:{type:"external",url:"https://ivor-blkout.vercel.app/",label:"Chat with IVOR"},benefits:["Ask questions about organizing strategies","Get UK-specific health resources (NHS, QTIPOC+ services)","Find local community connections","Access liberation resources and mutual aid info"],next_step_hint:"Want to connect with people near you? Discover local events",completion_criteria:"Have meaningful conversation about organizing or health"},{id:"discover_local_events",title:"Find Your Local Community",description:"Connect with Black queer organizing, celebrations, and mutual aid activities across UK cities",component:"events",icon:"📅",action:{type:"internal",url:"/events",label:"Browse Events Calendar"},benefits:["Find events in your city (London, Manchester, Birmingham, Bristol, etc.)","Join organizing meetings and advocacy campaigns","Attend cultural celebrations and social events","Connect with local mutual aid networks"],next_step_hint:"Inspired by community activity? Share stories and victories",completion_criteria:"Explore events in your location or save events of interest"},{id:"join_storytelling",title:"Contribute Community Stories",description:"Share organizing victories, community celebrations, and mutual aid successes through democratic journalism",component:"newsroom",icon:"📰",action:{type:"internal",url:"/newsroom",label:"Read Community Stories"},benefits:["Read community journalism from across the UK","See organizing victories and policy wins","Learn from community health initiatives","Understand community curation process"],next_step_hint:"Ready to report real events? Install the Community Reporter extension",completion_criteria:"Read 3+ community stories and understand curation process"},{id:"become_community_reporter",title:"Become a Community Reporter",description:"Install the Chrome extension to report real community events with organizer consent and democratic editorial process",component:"extension",icon:"🔗",action:{type:"internal",url:"/extension",label:"Get Reporter Extension"},benefits:["Report organizing victories and celebrations","Ensure organizer consent for all submissions","Participate in community editorial decisions","Amplify grassroots victories across UK"],next_step_hint:"Want decision-making power? Join community governance",completion_criteria:"Install extension or understand reporting ethics"},{id:"join_governance",title:"Shape Our Community Platform",description:"Participate in democratic governance, vote on platform decisions, and help curate community content",component:"governance",icon:"🏛️",action:{type:"internal",url:"/governance",label:"Community Governance"},benefits:["Vote on story features and platform changes","Participate in content curation decisions","Shape community guidelines and values","Influence resource allocation and priorities"],next_step_hint:"You're now a full community member! Continue organizing",completion_criteria:"Participate in voting or review governance documents"}];_.useEffect(()=>{const T=localStorage.getItem("blkout_onboarding_progress");if(!T)l(!0);else{const y=JSON.parse(T);i(y),t(y.current_step)}},[]);const h=T=>{i(T),localStorage.setItem("blkout_onboarding_progress",JSON.stringify(T))},p=()=>{o(!0),l(!1),h({current_step:1,completed_steps:[],engagement_level:"exploring",preferred_interests:[]})},f=T=>{const y=[...a.completed_steps,T],S=y.length>=4?"community_member":y.length>=2?"engaged":"exploring",D={...a,current_step:Math.min(e+1,c.length),completed_steps:y,engagement_level:S};h(D),t(D.current_step)},g=()=>{localStorage.removeItem("blkout_onboarding_progress"),i({current_step:1,completed_steps:[],engagement_level:"newcomer",preferred_interests:[]}),t(1),o(!1),l(!0)},d=c[e-1],m=a.completed_steps.length/c.length*100,E=T=>{const y={newcomer:{icon:"👋",text:"Welcome!",color:"bg-blue-100 text-blue-800"},exploring:{icon:"🌱",text:"Exploring",color:"bg-green-100 text-green-800"},engaged:{icon:"⚡",text:"Getting Involved",color:"bg-yellow-100 text-yellow-800"},community_member:{icon:"🌟",text:"Community Member",color:"bg-purple-100 text-purple-800"}};return y[T]||y.newcomer};return s.jsxs("div",{className:"community-onboarding max-w-4xl mx-auto p-6",children:[s.jsx(be,{children:u&&s.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(k.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-xl p-8 max-w-md w-full text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"👋"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Welcome to BLKOUT!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We're a community-owned liberation platform for Black queer people across the UK. Ready to start your journey?"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("button",{onClick:p,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all",children:"Start Community Journey"}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700",children:"I'll explore on my own"})]})]})})}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Community Onboarding"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${E(a.engagement_level).color}`,children:[s.jsx("span",{className:"mr-1",children:E(a.engagement_level).icon}),E(a.engagement_level).text]}),s.jsx("button",{onClick:g,className:"text-sm text-gray-500 hover:text-gray-700",children:"Start Over"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:["Progress: ",a.completed_steps.length," of ",c.length," steps"]}),s.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(m),"% complete"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]}),a.completed_steps.length===c.length&&s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[s.jsx("span",{className:"text-2xl",children:"🎉"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Welcome to the community!"}),s.jsx("p",{className:"text-sm",children:"You've completed your liberation journey introduction. Ready to organize!"})]})]})})]}),d&&s.jsx(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border-2 border-indigo-200 p-6 mb-8",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:d.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:d.title}),s.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-sm rounded-full",children:["Step ",e," of ",c.length]})]}),s.jsx("p",{className:"text-gray-700 mb-4",children:d.description}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"You'll be able to:"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:d.benefits.map((T,y)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:"✓"}),T]},y))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:d.action.type==="external"?s.jsxs("a",{href:d.action.url,target:"_blank",rel:"noopener noreferrer",onClick:()=>setTimeout(()=>f(d.id),5e3),className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",children:[d.action.label,s.jsx("span",{className:"text-sm",children:"↗️"})]}):s.jsxs(se,{to:d.action.url,onClick:()=>setTimeout(()=>f(d.id),3e3),className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",children:[d.action.label,s.jsx("span",{className:"text-sm",children:"→"})]})}),s.jsx("button",{onClick:()=>f(d.id),className:"text-sm text-gray-500 hover:text-gray-700",children:"Mark Complete & Continue"})]}),e<c.length&&s.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Next:"})," ",d.next_step_hint]})})]})]})},d.id),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((T,y)=>{const S=y+1,D=a.completed_steps.includes(T.id),P=S===e,M=S>e;return s.jsxs(k.div,{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${D?"border-green-500 bg-green-50":P?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-gray-50"}`,onClick:()=>!M&&t(S),whileHover:{scale:M?1:1.02},children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:T.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:T.title}),s.jsx("p",{className:"text-xs text-gray-600",children:T.component})]}),D&&s.jsx("span",{className:"text-green-500 text-xl",children:"✓"}),P&&s.jsx("span",{className:"text-indigo-500 text-xl",children:"→"})]}),s.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:T.description}),s.jsx("div",{className:"mt-2",children:D?s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"✓ Completed"}):P?s.jsx("span",{className:"text-xs text-indigo-600 font-medium",children:"→ Current Step"}):M?s.jsx("span",{className:"text-xs text-gray-400",children:"Coming Up"}):s.jsx("span",{className:"text-xs text-gray-600",children:"Available"})})]},T.id)})}),s.jsxs("div",{className:"mt-12 text-center bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Our Liberation Values"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-700",children:[s.jsx("span",{children:"🏳️‍⚧️ Trans Liberation"}),s.jsx("span",{children:"✊🏿 Black Power"}),s.jsx("span",{children:"🤝 Cooperative Ownership"}),s.jsx("span",{children:"🏛️ Democratic Governance"}),s.jsx("span",{children:"📰 Community Journalism"}),s.jsx("span",{children:"🌍 Solidarity"})]})]})]})};function nx(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4",children:s.jsx(ix,{})})})}const rx=()=>{const[e,t]=_.useState("overview"),[a,i]=_.useState(!1),n={total_stories:25,total_events:150,cities_covered:12,organizations_featured:35,people_served:"2,400+",funding_secured:"£890,000+"},o=[{id:"community_breadth",title:"Community Breadth Across UK",description:"Black queer organizing spans from London to Edinburgh, Manchester to Bristol, with active communities in every major UK city",icon:"🌍",metrics:["12 cities with active organizing","35+ community organizations","150+ events documented","From policy advocacy to cultural celebrations"],highlights:["London: 40+ organizations including CliniQ, Outside Project, Mermaids","Manchester: Trans Pride Manchester, Proud Trust, LGBT Foundation","Birmingham: Birmingham LGBT, Black Pride Movement, Rainbow Spirit","Bristol: TransBristol, Bristol Pride, Ujamaa Centre","Edinburgh: Edinburgh LGBT Centre, Equality Network, Pride Scotia"],call_to_action:{text:"Explore Events Calendar",url:"/events",type:"internal"}},{id:"organizing_victories",title:"Organizing Victories & Policy Wins",description:"Real policy changes securing rights, funding, and protections for Black queer communities across the UK",icon:"✊🏿",metrics:["8 major policy victories documented","£890,000+ in secured funding","2,400+ people directly served","Housing, healthcare, education wins"],highlights:["Trans housing rights victory protecting 200+ people in Manchester","NHS gonorrhea vaccine access campaign (August 2025)","London Borough youth services funding secured (£50,000)","Birmingham hate crime reporting improvements","Bristol trans-inclusive sports policy changes"],call_to_action:{text:"Read Victory Stories",url:"/newsroom",type:"internal"}},{id:"mutual_aid_networks",title:"Mutual Aid & Community Care",description:"Grassroots networks providing direct support, resources, and care across UK Black queer communities",icon:"🤝",metrics:["15+ mutual aid networks mapped","£125,000+ in direct community support","500+ people receiving regular aid","Food, housing, healthcare, legal support"],highlights:["London Trans Emergency Fund distributing £2,000+ monthly","Manchester Black Queer Mutual Aid supporting 80+ households","Birmingham Community Kitchen serving 150+ meals weekly","Bristol Emergency Housing Network (12 safe spaces)","Edinburgh Trans Support Network (legal & emotional support)"],call_to_action:{text:"Chat with IVOR about Mutual Aid",url:"https://ivor-blkout.vercel.app/",type:"external"}},{id:"cultural_celebrations",title:"Cultural Joy & Celebration",description:"Community events celebrating Black queer joy, creativity, and resilience through arts, culture, and fellowship",icon:"🎉",metrics:["25+ cultural events annually","3,000+ attendees at celebrations","12+ artists platforms created","Music, poetry, visual arts, performance"],highlights:["Black Queer Joy Festival (Birmingham) - 700+ attendees","London Trans Poetry Night - Monthly series, 40+ poets featured","Manchester Black Pride Month - 5 events, 1,200+ participants","Bristol Community Art Projects - 8 murals, 25+ artists","Edinburgh Queer Book Club - 60+ members, weekly meetings"],call_to_action:{text:"See Cultural Events",url:"/events?category=cultural",type:"internal"}},{id:"health_initiatives",title:"Community Health & Wellness",description:"Health initiatives addressing specific needs of Black queer communities, from sexual health to mental wellness",icon:"🏥",metrics:["10+ health initiatives documented","800+ people accessed services","6 cities with QTIPOC+ health programs","Sexual health, mental health, HRT access"],highlights:["CliniQ London: 200+ QTIPOC+ people served monthly","Manchester Trans Health Collective: HRT support network","Birmingham Black Mental Health First Aid training","Bristol Sexual Health Outreach: Community education","Edinburgh Trans Support Groups: Peer counseling network"],call_to_action:{text:"Get Health Resources via IVOR",url:"https://ivor-blkout.vercel.app/",type:"external"}},{id:"democratic_journalism",title:"Democratic Community Journalism",description:"Community-controlled storytelling platform amplifying grassroots voices through democratic editorial process",icon:"📰",metrics:["25+ community stories published","12+ community journalists active","5-step democratic editorial process","89% community approval rating"],highlights:["Community curation ensures authentic representation","Stories must include organizer consent for real events","Democratic voting on featured content","Geographic diversity algorithm ensures UK-wide coverage","Chrome extension for ethical community event reporting"],call_to_action:{text:"Read Community Stories",url:"/newsroom",type:"internal"}}],u=[{id:"trans_housing_victory",title:"Trans Housing Rights Victory",location:"Manchester",impact_summary:"Policy changes protecting 200+ trans people from housing discrimination with £50,000 emergency fund",key_metrics:["200+ people protected","£50,000 emergency fund","Policy adopted by 3 boroughs"],organization:"Manchester Trans Housing Coalition",victory_type:"policy",image_placeholder:"🏠"},{id:"community_health_hub",title:"Community Health Hub Launch",location:"South London",impact_summary:"New QTIPOC+ health center serving 300+ people monthly with culturally competent care",key_metrics:["300+ monthly patients","8 languages supported","£85,000 annual funding"],organization:"South London QTIPOC+ Health Collective",victory_type:"health",image_placeholder:"🏥"},{id:"black_queer_joy_festival",title:"Black Queer Joy Festival",location:"Birmingham",impact_summary:"Annual celebration growing to 700+ attendees, £35,000 raised for community projects",key_metrics:["700+ attendees","25+ performers","£35,000 raised"],organization:"Birmingham Black Queer Arts Collective",victory_type:"cultural",image_placeholder:"🎭"}];_.useEffect(()=>{setTimeout(()=>i(!0),1e3)},[]);const l=c=>({policy:"bg-purple-100 text-purple-800",organizing:"bg-red-100 text-red-800",mutual_aid:"bg-green-100 text-green-800",cultural:"bg-yellow-100 text-yellow-800",health:"bg-blue-100 text-blue-800"})[c]||"bg-gray-100 text-gray-800";return s.jsxs("div",{className:"launch-showcase max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(k.h1,{className:"text-4xl font-bold text-gray-900 mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:"UK Black Queer Liberation Platform"}),s.jsx(k.p,{className:"text-xl text-gray-600 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:"Demonstrating the breadth and depth of Black queer organizing across the UK through community stories, events, and democratic governance"}),s.jsxs(k.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[s.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"text-2xl font-bold text-indigo-600 mb-1",children:[a?n.total_stories:0,"+"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Community Stories"})]}),s.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-1",children:[a?n.total_events:0,"+"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Events Documented"})]}),s.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:a?n.cities_covered:0}),s.jsx("div",{className:"text-sm text-gray-600",children:"UK Cities"})]}),s.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:a?n.people_served:"0"}),s.jsx("div",{className:"text-sm text-gray-600",children:"People Served"})]})]})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:o.map(c=>s.jsxs("button",{onClick:()=>t(c.id),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors ${e===c.id?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[s.jsx("span",{className:"mr-1",children:c.icon}),c.title.split(" ").slice(0,2).join(" ")]},c.id))}),s.jsx(be,{mode:"wait",children:o.filter(c=>c.id===e).map(c=>s.jsx(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-lg shadow-sm border p-8 mb-8",children:s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"text-4xl",children:c.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:c.title}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:c.description}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Key Metrics:"}),s.jsx("ul",{className:"space-y-2",children:c.metrics.map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:"●"}),h]},p))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Community Highlights:"}),s.jsx("ul",{className:"space-y-2",children:c.highlights.slice(0,3).map((h,p)=>s.jsxs("li",{className:"text-sm text-gray-600",children:[s.jsxs("strong",{className:"text-gray-800",children:[h.split(":")[0],":"]}),h.split(":")[1]]},p))})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[c.call_to_action.type==="external"?s.jsxs("a",{href:c.call_to_action.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",children:[c.call_to_action.text,s.jsx("span",{className:"text-sm",children:"↗️"})]}):s.jsxs(se,{to:c.call_to_action.url,className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",children:[c.call_to_action.text,s.jsx("span",{className:"text-sm",children:"→"})]}),s.jsx("button",{onClick:()=>{const h=o.findIndex(f=>f.id===e)+1,p=o[h%o.length];t(p.id)},className:"text-sm text-gray-500 hover:text-gray-700",children:"Next Section →"})]})]})]})},c.id))}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-6",children:"Featured Victory Stories"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:u.map(c=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("div",{className:"text-4xl text-center mb-4",children:c.image_placeholder}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:c.title}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l(c.victory_type)}`,children:c.victory_type.replace("_"," ")})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-3",children:c.location}),s.jsx("p",{className:"text-sm text-gray-700 mb-4",children:c.impact_summary}),s.jsx("div",{className:"space-y-1",children:c.key_metrics.map((h,p)=>s.jsxs("div",{className:"text-xs text-gray-600 flex items-center gap-1",children:[s.jsx("span",{className:"text-green-500",children:"●"}),h]},p))})]},c.id))})]}),s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-8 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-6",children:"Integrated Liberation Platform"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Community-Owned Technology"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-500",children:"✓"}),"Democratic governance of platform decisions"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-500",children:"✓"}),"Community-trained AI (IVOR) for organizing support"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-500",children:"✓"}),"Ethical journalism with organizer consent"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-500",children:"✓"}),"Real-time event coordination across UK"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Liberation Values in Action"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-purple-500",children:"🏳️‍⚧️"}),"Trans liberation centered in all decisions"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-yellow-500",children:"✊🏿"}),"Black power through collective organizing"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-blue-500",children:"🤝"}),"Cooperative ownership and shared resources"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-500",children:"🌱"}),"Sustainable community self-determination"]})]})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to Join the Liberation Platform?"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Start your journey through community onboarding, explore events, and connect with organizing across the UK"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(se,{to:"/onboarding",className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-full hover:from-purple-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl",children:"Start Community Journey"}),s.jsx("a",{href:"https://ivor-blkout.vercel.app/",target:"_blank",rel:"noopener noreferrer",className:"px-8 py-4 bg-gradient-to-r from-green-600 to-teal-600 text-white font-bold rounded-full hover:from-green-700 hover:to-teal-700 transition-all shadow-lg hover:shadow-xl",children:"Chat with IVOR AI"}),s.jsx(se,{to:"/demo",className:"px-8 py-4 bg-gradient-to-r from-orange-600 to-red-600 text-white font-bold rounded-full hover:from-orange-700 hover:to-red-700 transition-all shadow-lg hover:shadow-xl",children:"See Demo Scenarios"})]})]}),s.jsx("div",{className:"mt-12 text-center text-sm text-gray-500",children:s.jsxs("p",{children:["Platform serving ",n.cities_covered," UK cities • ",n.organizations_featured," organizations •",n.people_served," people reached • ",n.funding_secured," secured for community"]})})]})};function ox(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4",children:s.jsx(rx,{})})})}const ux=()=>{const[e,t]=_.useState("overview"),[a,i]=_.useState(!1),[n,o]=_.useState("all"),u=[{id:"cliniq_london",name:"CliniQ",location:"London",type:"health_service",contact_email:"info@cliniq.org.uk",website:"https://cliniq.org.uk",focus_areas:["Sexual health","Trans healthcare","QTIPOC+ support","Community education"],contribution_capacity:"both",verification_status:"partner",last_contribution:"2025-08-25",total_contributions:12},{id:"lgbt_foundation_manchester",name:"LGBT Foundation",location:"Manchester",type:"advocacy_group",contact_email:"info@lgbt.foundation",website:"https://lgbt.foundation",focus_areas:["Advocacy","Support services","Community development","Policy change"],contribution_capacity:"both",verification_status:"partner",last_contribution:"2025-08-20",total_contributions:8},{id:"outside_project",name:"Outside Project",location:"London",type:"support_group",contact_email:"info@lgbtiqoutside.org",website:"https://lgbtiqoutside.org",focus_areas:["Crisis support","Housing","Mental health","Community safety"],contribution_capacity:"both",verification_status:"partner",last_contribution:"2025-08-22",total_contributions:15},{id:"proud_trust_manchester",name:"Proud Trust",location:"Manchester",type:"community_org",contact_email:"info@theproudtrust.org",website:"https://theproudtrust.org",focus_areas:["Youth support","Education","Community groups","Peer support"],contribution_capacity:"events_only",verification_status:"verified",last_contribution:"2025-08-15",total_contributions:6},{id:"birmingham_lgbt",name:"Birmingham LGBT",location:"Birmingham",type:"community_org",contact_email:"info@blgbt.org",website:"https://blgbt.org",focus_areas:["Community center","Social events","Support groups","Advocacy"],contribution_capacity:"both",verification_status:"verified",last_contribution:"2025-08-18",total_contributions:10},{id:"trans_bristol",name:"TransBristol",location:"Bristol",type:"support_group",contact_email:"info@transbristol.org.uk",focus_areas:["Trans support","Peer groups","Advocacy","Community education"],contribution_capacity:"stories_only",verification_status:"verified",last_contribution:"2025-08-12",total_contributions:4},{id:"edinburgh_lgbt_centre",name:"Edinburgh LGBT Centre",location:"Edinburgh",type:"community_org",contact_email:"info@lgbthealth.org.uk",website:"https://lgbthealth.org.uk",focus_areas:["Community center","Health services","Social groups","Training"],contribution_capacity:"both",verification_status:"partner",last_contribution:"2025-08-28",total_contributions:9},{id:"rainbow_spirit_birmingham",name:"Rainbow Spirit",location:"Birmingham",type:"mutual_aid",contact_email:"info@rainbowspirit.org.uk",focus_areas:["Mutual aid","Food security","Community support","Emergency assistance"],contribution_capacity:"both",verification_status:"verified",last_contribution:"2025-08-20",total_contributions:7}],l=[{id:"req_001",organization_id:"cliniq_london",type:"event_submission",title:"QTIPOC+ Sexual Health Workshop",description:"Community education workshop focusing on sexual health resources for QTIPOC+ communities",proposed_date:"2025-09-15",location:"London",estimated_reach:40,community_consent:!0,contact_provided:!0,submission_date:"2025-08-28",status:"approved"},{id:"req_002",organization_id:"lgbt_foundation_manchester",type:"story_pitch",title:"Trans Housing Rights Victory in Manchester",description:"Story documenting successful campaign for trans-inclusive housing policy changes",estimated_reach:200,community_consent:!0,contact_provided:!0,submission_date:"2025-08-25",status:"published"},{id:"req_003",organization_id:"birmingham_lgbt",type:"partnership_inquiry",title:"Black Pride Month Collaboration",description:"Partnership proposal for coordinated Black Pride Month events across UK cities",estimated_reach:1e3,community_consent:!0,contact_provided:!0,submission_date:"2025-08-22",status:"pending_review"}],c={events:["Events must be real, scheduled community activities","Organizer contact information required for verification","Community consent needed for all promotional materials","Focus on grassroots organizing, celebration, or mutual aid","Clear accessibility information and inclusive practices"],stories:["Stories must document real organizing victories or community celebrations","Interview consent required from all quoted community members","Organizer approval needed before publication","Stories should highlight community agency and self-determination","Democratic editorial process through community governance"],partnerships:["Partnership opportunities for resource sharing and coordination","Collaborative event planning and cross-promotion","Shared advocacy campaigns and policy work","Mutual aid network coordination and support","Training and capacity building exchanges"],community_standards:["All contributions must center Black queer voices and leadership","Trans liberation and safety prioritized in all activities","Community consent and self-determination respected","Democratic decision-making and community governance upheld","Mutual aid principles and cooperative ownership values"]},h=g=>({community_org:"bg-blue-100 text-blue-800",advocacy_group:"bg-purple-100 text-purple-800",mutual_aid:"bg-green-100 text-green-800",cultural_collective:"bg-yellow-100 text-yellow-800",health_service:"bg-red-100 text-red-800",support_group:"bg-indigo-100 text-indigo-800"})[g]||"bg-gray-100 text-gray-800",p=g=>({pending:"bg-yellow-100 text-yellow-800",verified:"bg-green-100 text-green-800",partner:"bg-purple-100 text-purple-800",pending_review:"bg-orange-100 text-orange-800",approved:"bg-blue-100 text-blue-800",published:"bg-green-100 text-green-800",needs_revision:"bg-red-100 text-red-800"})[g]||"bg-gray-100 text-gray-800",f=n==="all"?u:u.filter(g=>g.type===n);return s.jsxs("div",{className:"organization-contributions max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"UK Organization Contributions"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Coordinating authentic community representation through verified UK Black queer organizations"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Partner Organizations"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.reduce((g,d)=>g+d.total_contributions,0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Contributions"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:u.filter(g=>g.verification_status==="partner").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Strategic Partners"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:l.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Recent Requests"})]})]})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:[{id:"overview",label:"Overview",icon:"📊"},{id:"organizations",label:"Organizations",icon:"🏢"},{id:"requests",label:"Requests",icon:"📝"},{id:"guidelines",label:"Guidelines",icon:"📋"}].map(g=>s.jsxs("button",{onClick:()=>t(g.id),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors ${e===g.id?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[s.jsx("span",{className:"mr-1",children:g.icon}),g.label]},g.id))}),s.jsxs(be,{mode:"wait",children:[e==="overview"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Partnership Model"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Authentic Representation"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:"✓"}),"Verified UK Black queer organizations contribute real events"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:"✓"}),"Community consent required for all submissions"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:"✓"}),"Democratic editorial process through community governance"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:"✓"}),"Geographic diversity ensures UK-wide representation"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Collaboration Benefits"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500 mt-0.5",children:"●"}),"Cross-promotion of community events and initiatives"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500 mt-0.5",children:"●"}),"Resource sharing and mutual aid coordination"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500 mt-0.5",children:"●"}),"Collaborative advocacy campaigns and policy work"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500 mt-0.5",children:"●"}),"Platform amplification of grassroots victories"]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Recent Partnership Activity"}),s.jsx("div",{className:"space-y-4",children:l.slice(0,3).map(g=>{const d=u.find(m=>m.id===g.organization_id);return s.jsx("div",{className:"border-l-4 border-indigo-500 pl-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:g.title}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[d?.name," • ",d?.location]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g.description})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(g.status)}`,children:g.status.replace("_"," ")})]})},g.id)})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Partner with BLKOUT"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"UK Black queer organizations: contribute events and stories to build community power"}),s.jsx("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",children:"Submit Contribution"})]})]}),e==="organizations"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[s.jsx("div",{className:"mb-6",children:s.jsxs("select",{value:n,onChange:g=>o(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"all",children:"All Organization Types"}),s.jsx("option",{value:"community_org",children:"Community Organizations"}),s.jsx("option",{value:"advocacy_group",children:"Advocacy Groups"}),s.jsx("option",{value:"mutual_aid",children:"Mutual Aid Networks"}),s.jsx("option",{value:"health_service",children:"Health Services"}),s.jsx("option",{value:"support_group",children:"Support Groups"}),s.jsx("option",{value:"cultural_collective",children:"Cultural Collectives"})]})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:f.map(g=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900",children:g.name}),s.jsx("p",{className:"text-sm text-gray-600",children:g.location})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h(g.type)}`,children:g.type.replace("_"," ")}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(g.verification_status)}`,children:g.verification_status})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Focus Areas:"}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[g.focus_areas.slice(0,3).map((d,m)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:d},m)),g.focus_areas.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-500 text-xs rounded",children:["+",g.focus_areas.length-3," more"]})]})]}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsxs("span",{children:["Contributions: ",g.total_contributions]}),s.jsxs("span",{children:["Capacity: ",g.contribution_capacity.replace("_"," ")]})]}),g.website&&s.jsx("a",{href:g.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Visit website →"})]})]},g.id))})]}),e==="requests"&&s.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx("div",{className:"space-y-6",children:l.map(g=>{const d=u.find(m=>m.id===g.organization_id);return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-bold text-gray-900",children:g.title}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(g.status)}`,children:g.status.replace("_"," ")})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[d?.name," • ",d?.location]}),s.jsx("p",{className:"text-gray-700",children:g.description})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Type:"})," ",g.type.replace("_"," ")]}),g.proposed_date&&s.jsxs("div",{children:[s.jsx("strong",{children:"Proposed Date:"})," ",g.proposed_date]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Estimated Reach:"})," ",g.estimated_reach," people"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Submitted:"})," ",g.submission_date]})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:`flex items-center gap-1 ${g.community_consent?"text-green-600":"text-red-600"}`,children:[g.community_consent?"✓":"✗"," Community Consent"]}),s.jsxs("span",{className:`flex items-center gap-1 ${g.contact_provided?"text-green-600":"text-red-600"}`,children:[g.contact_provided?"✓":"✗"," Contact Provided"]})]})]},g.id)})})}),e==="guidelines"&&s.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[{key:"events",title:"Event Contributions",icon:"📅"},{key:"stories",title:"Story Contributions",icon:"📰"},{key:"partnerships",title:"Partnership Opportunities",icon:"🤝"},{key:"community_standards",title:"Community Standards",icon:"⭐"}].map(({key:g,title:d,icon:m})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:m}),d]}),s.jsx("ul",{className:"space-y-3",children:c[g].map((E,T)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-indigo-500 mt-1",children:"●"}),s.jsx("span",{className:"text-gray-700",children:E})]},T))})]},g))})]}),s.jsx(be,{children:a&&s.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(k.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-xl p-6 max-w-md w-full",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Submit Contribution"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"UK Black queer organizations can submit events and stories through our democratic process."}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("strong",{children:"Next Steps:"}),s.jsxs("ul",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"• Contact us at partnerships@blkout.org.uk"}),s.jsx("li",{children:"• Provide organization verification documents"}),s.jsx("li",{children:"• Review community guidelines and standards"}),s.jsx("li",{children:"• Submit events/stories through verified process"})]})]})}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>window.open("mailto:partnerships@blkout.org.uk","_blank"),className:"flex-1 px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700",children:"Contact Us"}),s.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-500 hover:text-gray-700",children:"Close"})]})]})})})]})};function cx(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4",children:s.jsx(ux,{})})})}const lx=()=>{const[e,t]=_.useState("alex_organizer"),[a,i]=_.useState(0),[n,o]=_.useState(!1),[u,l]=_.useState(0),c=[{id:"alex_organizer",name:"Alex",pronouns:"they/them",location:"Manchester",background:"Experienced community organizer, works with trans housing rights, looking to expand network and coordinate with other UK cities",needs:["Cross-city coordination","Resource sharing","Campaign amplification","Community connections"],goals:["Scale housing rights campaign UK-wide","Connect with similar organizers","Share successful strategies"],current_challenges:["Isolated organizing","Limited resources","Need for broader platform"],liberation_priorities:["Trans liberation","Housing justice","Community self-determination"]},{id:"maya_newcomer",name:"Maya",pronouns:"she/her",location:"Bristol",background:"New to community organizing, recently moved to UK, wants to get involved in Black queer liberation work",needs:["Community introduction","Skill building","Local connections","Guidance on involvement"],goals:["Find community","Learn organizing skills","Contribute meaningfully"],current_challenges:["New to area","Limited connections","Uncertainty about how to help"],liberation_priorities:["Black power","Community building","Solidarity"]},{id:"jordan_artist",name:"Jordan",pronouns:"he/him",location:"Birmingham",background:"Creative activist using art for liberation, organizes cultural events, seeks platform for community expression",needs:["Event promotion","Artist collaboration","Community engagement","Cultural space"],goals:["Create liberation art","Build cultural movement","Support community joy"],current_challenges:["Limited reach","Resource constraints","Need for community platform"],liberation_priorities:["Cultural liberation","Creative expression","Community joy"]},{id:"sage_health_advocate",name:"Sage",pronouns:"they/them",location:"Edinburgh",background:"Health advocate focused on QTIPOC+ community health, works with NHS and community orgs",needs:["Health resource distribution","Community education","Policy advocacy","Service coordination"],goals:["Improve health access","Share resources","Advocate for policy change"],current_challenges:["Resource gaps","Limited community reach","Policy barriers"],liberation_priorities:["Health justice","Community care","Policy change"]}],h={alex_organizer:[{id:"discover_platform",title:"Discover Liberation Platform",component:"Homepage",action:'Lands on BLKOUT homepage, sees "Get Started" prominently',user_experience:"Immediately understands this is community-owned platform for Black queer liberation",ecosystem_value:"Clear value proposition connects to organizing experience",liberation_impact:"Recognizes platform aligns with liberation values",next_actions:["Click Get Started","Explore community stories","Check events calendar"],time_estimate:"2 minutes"},{id:"onboarding_journey",title:"Progressive Community Onboarding",component:"Onboarding Flow",action:"Goes through 6-step onboarding: Community → IVOR → Events → Stories → Reporter → Governance",user_experience:"Guided introduction builds understanding of ecosystem connections",ecosystem_value:"Each step reveals new collaboration possibilities",liberation_impact:"Sees democratic governance and community ownership in action",next_actions:["Complete onboarding steps","Chat with IVOR","Explore events"],time_estimate:"15 minutes"},{id:"ivor_organizing_consultation",title:"AI Liberation Assistant",component:"IVOR Chat",action:"Asks IVOR about scaling trans housing campaign across UK cities",user_experience:"Gets specific advice on multi-city organizing, contact info for similar campaigns",ecosystem_value:"IVOR connects Alex to existing organizing network and resources",liberation_impact:"AI supports grassroots strategy rather than replacing community decision-making",next_actions:["Get organizing contacts","Find similar campaigns","Access resources"],time_estimate:"10 minutes"},{id:"discover_uk_network",title:"UK Community Network",component:"Events Calendar",action:"Explores events across UK cities, filters by housing rights and trans organizing",user_experience:"Discovers 15+ related events across Manchester, London, Birmingham, Bristol",ecosystem_value:"Sees breadth of UK organizing, identifies collaboration opportunities",liberation_impact:"Realizes scale of Black queer organizing across UK",next_actions:["Contact event organizers","Plan collaboration","Share resources"],time_estimate:"8 minutes"},{id:"read_victory_stories",title:"Learn from Community Victories",component:"Newsroom",action:"Reads stories about housing victories in other UK cities, democratic editorial process",user_experience:"Learns specific strategies, sees community journalism process",ecosystem_value:"Gains tactical knowledge and understands platform transparency",liberation_impact:"Inspired by grassroots victories, understands collective power",next_actions:["Adapt strategies","Connect with featured organizers","Plan story sharing"],time_estimate:"12 minutes"},{id:"coordinate_campaign",title:"Multi-City Campaign Coordination",component:"Partnership System",action:"Connects with verified UK organizations, proposes coordinated housing rights campaign",user_experience:"Finds 5 organizations working on housing, initiates collaboration",ecosystem_value:"Platform facilitates real organizing coordination across UK",liberation_impact:"Enables scaling of liberation work through authentic partnerships",next_actions:["Plan joint actions","Share resources","Coordinate strategies"],time_estimate:"20 minutes"},{id:"democratic_participation",title:"Community Governance",component:"Governance System",action:"Participates in platform decisions, votes on story features, proposes policy",user_experience:"Has real voice in platform direction, sees democratic process",ecosystem_value:"Community ownership creates accountability and responsiveness",liberation_impact:"Practices democracy that models liberation values",next_actions:["Engage in governance","Propose improvements","Vote on decisions"],time_estimate:"15 minutes"}],maya_newcomer:[{id:"welcome_discovery",title:"Find Liberation Community",component:"Homepage",action:"Arrives seeking Black queer community, sees welcoming liberation platform",user_experience:"Feels immediate sense of belonging and community values",ecosystem_value:"Platform provides entry point to broader liberation ecosystem",liberation_impact:"Connects to movement rather than just individual resources",next_actions:["Start onboarding","Explore stories","Find local events"],time_estimate:"3 minutes"},{id:"guided_introduction",title:"Supportive Onboarding",component:"Onboarding Flow",action:"Progressive introduction builds confidence and understanding",user_experience:"Doesn't feel overwhelmed, guided step-by-step through ecosystem",ecosystem_value:"Onboarding creates informed, engaged community members",liberation_impact:"Inclusive process centers newcomer needs and pace",next_actions:["Complete each step","Ask questions","Explore interests"],time_estimate:"20 minutes"},{id:"personalized_guidance",title:"AI Mentorship",component:"IVOR Chat",action:"Asks about getting involved in Bristol organizing as newcomer",user_experience:"Gets specific local resources, beginner-friendly opportunities",ecosystem_value:"AI provides personalized pathway based on location and experience",liberation_impact:"Support system helps build confident organizers",next_actions:["Join beginner events","Connect locally","Build skills"],time_estimate:"12 minutes"},{id:"local_community_discovery",title:"Bristol Community Connection",component:"Events Calendar",action:"Finds beginner-friendly events in Bristol, sees diversity of activities",user_experience:"Discovers multiple entry points: social, educational, organizing, cultural",ecosystem_value:"Platform makes local organizing accessible to newcomers",liberation_impact:"Multiple pathways honor different ways of contributing",next_actions:["Attend events","Meet organizers","Find niche"],time_estimate:"10 minutes"},{id:"learning_through_stories",title:"Liberation Education",component:"Newsroom",action:"Reads beginner-focused stories, learns organizing principles and victories",user_experience:"Stories provide education without being patronizing",ecosystem_value:"Democratic journalism serves educational function",liberation_impact:"Learns liberation history and current victories",next_actions:["Continue learning","Find role models","Understand strategy"],time_estimate:"15 minutes"},{id:"first_contribution",title:"Community Reporter",component:"Chrome Extension",action:"Reports first community event she attends, learns ethical journalism",user_experience:"Contributes meaningfully while learning consent and ethics",ecosystem_value:"Newcomers become community journalists with proper training",liberation_impact:"Storytelling becomes tool for community building",next_actions:["Report events","Interview organizers","Build skills"],time_estimate:"25 minutes"},{id:"growing_leadership",title:"Democratic Participation",component:"Governance System",action:"Starts participating in community decisions, proposing newcomer support",user_experience:"Voice is valued, sees impact of participation",ecosystem_value:"New perspectives strengthen community decision-making",liberation_impact:"Democratic practice builds liberation leadership",next_actions:["Continue governance","Mentor others","Propose initiatives"],time_estimate:"18 minutes"}],jordan_artist:[{id:"creative_liberation_discovery",title:"Art Meets Liberation",component:"Homepage",action:"Discovers platform that values cultural work as liberation strategy",user_experience:"Sees art and culture prominently featured alongside organizing",ecosystem_value:"Platform recognizes cultural work as essential to liberation",liberation_impact:"Art is positioned as core liberation practice, not add-on",next_actions:["Explore cultural events","Check artist features","Start onboarding"],time_estimate:"4 minutes"},{id:"artist_focused_onboarding",title:"Creative Pathway Introduction",component:"Onboarding Flow",action:"Onboarding highlights cultural celebration and artist support features",user_experience:"Sees how platform supports and amplifies creative liberation work",ecosystem_value:"Artists understand their role in broader liberation ecosystem",liberation_impact:"Culture recognized as central to community self-determination",next_actions:["Focus on cultural sections","Connect with artists","Plan events"],time_estimate:"18 minutes"},{id:"creative_strategy_consultation",title:"Liberation Art Strategy",component:"IVOR Chat",action:"Discusses using art for housing rights campaign, community engagement strategies",user_experience:"Gets specific advice on art activism and community cultural organizing",ecosystem_value:"AI understands intersection of creativity and organizing",liberation_impact:"Cultural strategy valued as essential organizing tool",next_actions:["Plan art actions","Coordinate with organizers","Build cultural campaign"],time_estimate:"14 minutes"},{id:"cultural_event_ecosystem",title:"UK Cultural Liberation Network",component:"Events Calendar",action:"Explores cultural events, art actions, performances across UK cities",user_experience:"Discovers thriving cultural liberation movement nationwide",ecosystem_value:"Sees opportunities for collaboration and cross-pollination",liberation_impact:"Understands scale and diversity of cultural organizing",next_actions:["Connect with artists","Plan collaborations","Share events"],time_estimate:"12 minutes"},{id:"cultural_journalism",title:"Art and Story Integration",component:"Newsroom",action:"Reads stories about cultural victories, sees art prominently featured",user_experience:"Artistic work is treated seriously as organizing and liberation",ecosystem_value:"Cultural work gets same recognition as traditional organizing",liberation_impact:"Art is documented and celebrated as liberation victory",next_actions:["Document art actions","Share creative strategies","Inspire others"],time_estimate:"16 minutes"},{id:"artist_partnership",title:"Cultural Organization Collaboration",component:"Partnership System",action:"Connects with cultural collectives, proposes collaborative art festival",user_experience:"Finds other artists and cultural workers for big collaborative project",ecosystem_value:"Platform enables large-scale cultural organizing coordination",liberation_impact:"Collective cultural work amplifies liberation message",next_actions:["Plan festival","Coordinate resources","Build cultural movement"],time_estimate:"22 minutes"},{id:"cultural_governance",title:"Artist Voice in Democracy",component:"Governance System",action:"Advocates for cultural resource allocation, proposes artist support policies",user_experience:"Has meaningful voice in how platform supports cultural work",ecosystem_value:"Artists shape platform to better serve cultural liberation",liberation_impact:"Democratic governance includes cultural worker perspectives",next_actions:["Advocate for artists","Shape cultural policy","Build representation"],time_estimate:"20 minutes"}],sage_health_advocate:[{id:"health_justice_discovery",title:"Liberation Health Platform",component:"Homepage",action:"Finds platform that centers health justice as liberation work",user_experience:"Sees health advocacy positioned alongside organizing and culture",ecosystem_value:"Platform recognizes health advocacy as core liberation strategy",liberation_impact:"Health justice connected to broader liberation framework",next_actions:["Explore health resources","Check policy advocacy","Start journey"],time_estimate:"3 minutes"},{id:"health_focused_introduction",title:"Health Advocacy Pathway",component:"Onboarding Flow",action:"Onboarding emphasizes health resources, policy advocacy, community care",user_experience:"Sees comprehensive approach to health justice and community care",ecosystem_value:"Health advocacy integrated throughout platform experience",liberation_impact:"Community care positioned as liberation practice",next_actions:["Focus on health sections","Connect with advocates","Share resources"],time_estimate:"17 minutes"},{id:"health_resource_coordination",title:"AI Health Resource Navigator",component:"IVOR Chat",action:"Discusses coordinating QTIPOC+ health resources across Scotland",user_experience:"Gets specific NHS navigation help and community health coordination advice",ecosystem_value:"AI provides health-specific resource coordination and policy navigation",liberation_impact:"Health advocacy supported by community-trained AI",next_actions:["Map resources","Coordinate services","Plan advocacy"],time_estimate:"16 minutes"},{id:"health_events_network",title:"UK Health Justice Network",component:"Events Calendar",action:"Explores health-focused events, policy actions, community care across UK",user_experience:"Discovers robust network of health justice organizing nationwide",ecosystem_value:"Health advocacy gets same platform prominence as other organizing",liberation_impact:"Sees scale of community health organizing and policy work",next_actions:["Connect with advocates","Share resources","Plan actions"],time_estimate:"13 minutes"},{id:"health_victory_stories",title:"Community Health Victories",component:"Newsroom",action:"Reads stories about health policy victories, community care successes",user_experience:"Learns from successful health advocacy strategies across UK",ecosystem_value:"Health victories documented and shared for movement learning",liberation_impact:"Health justice victories inspire and inform broader movement",next_actions:["Learn strategies","Connect with advocates","Plan campaigns"],time_estimate:"14 minutes"},{id:"health_organization_collaboration",title:"NHS and Community Partnership",component:"Partnership System",action:"Coordinates with NHS-connected orgs and community health groups",user_experience:"Finds balance between institutional and community health advocacy",ecosystem_value:"Platform bridges institutional and grassroots health work",liberation_impact:"Health justice work spans system change and community care",next_actions:["Build partnerships","Coordinate resources","Advance policy"],time_estimate:"25 minutes"},{id:"health_policy_governance",title:"Health Justice Democracy",component:"Governance System",action:"Advocates for platform health resource allocation and policy positions",user_experience:"Shapes platform to better support health justice organizing",ecosystem_value:"Health advocates influence platform development and priorities",liberation_impact:"Democratic governance includes health justice perspectives",next_actions:["Shape health policy","Advocate resources","Build influence"],time_estimate:"19 minutes"}]},p={community_organizing:["Multi-city campaign coordination across UK","Resource sharing between experienced and new organizers","Strategic planning support through AI consultation","Democratic decision-making for movement priorities","Cross-movement solidarity and mutual support"],democratic_governance:["Community-owned platform with transparent decision-making","Inclusive governance that centers marginalized voices","Democratic curation of stories and events","Participatory resource allocation and priority setting","Accountability systems for platform and community leaders"],mutual_aid_coordination:["UK-wide mutual aid network coordination","Resource sharing and emergency response systems","Community care infrastructure and support networks","Skill sharing and capacity building programs","Collective resource mobilization for community needs"],cultural_celebration:["Platform for Black queer joy and creative expression","Cultural events coordination across UK cities","Artist collaboration and creative liberation projects","Community storytelling and narrative sovereignty","Cultural preservation and innovation through community control"],health_advocacy:["Community health resource coordination and advocacy","NHS navigation support and policy advocacy","QTIPOC+ health community education and outreach","Mental health support and community care networks","Health justice campaigns and policy change efforts"],liberation_strategy:["Integrated approach connecting organizing, culture, and care","Community self-determination through platform ownership","Trans liberation centered in all platform decisions","Black power building through collective action and resources","Long-term movement sustainability and growth strategies"]},f=c.find(y=>y.id===e),g=h[e],d=g[a];_.useEffect(()=>{const y=(a+1)/g.length*100;l(y)},[a,g.length]);const m=()=>{a<g.length-1&&i(a+1)},E=()=>{a>0&&i(a-1)},T=()=>{i(0),l(0)};return s.jsxs("div",{className:"beta-user-flow max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Beta User Flow: Ecosystem Potential"}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Interactive visualization of how different community members experience the full liberation platform"}),s.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[s.jsx("button",{onClick:()=>o(!1),className:`px-6 py-2 font-medium rounded-full transition-colors ${n?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-indigo-600 text-white"}`,children:"User Journey Flow"}),s.jsx("button",{onClick:()=>o(!0),className:`px-6 py-2 font-medium rounded-full transition-colors ${n?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Ecosystem Potential"})]})]}),s.jsx(be,{mode:"wait",children:n?s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Full Ecosystem Liberation Potential"}),s.jsx("p",{className:"text-lg text-gray-600",children:"When all components work together, the platform enables comprehensive community liberation"})]}),Object.entries(p).map(([y,S])=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[y==="community_organizing"&&s.jsx("span",{className:"text-2xl",children:"✊🏿"}),y==="democratic_governance"&&s.jsx("span",{className:"text-2xl",children:"🏛️"}),y==="mutual_aid_coordination"&&s.jsx("span",{className:"text-2xl",children:"🤝"}),y==="cultural_celebration"&&s.jsx("span",{className:"text-2xl",children:"🎨"}),y==="health_advocacy"&&s.jsx("span",{className:"text-2xl",children:"🏥"}),y==="liberation_strategy"&&s.jsx("span",{className:"text-2xl",children:"🌟"}),y.replace("_"," ").replace(/\b\w/g,D=>D.toUpperCase())]}),s.jsx("ul",{className:"space-y-3",children:S.map((D,P)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-indigo-500 mt-1",children:"●"}),s.jsx("span",{className:"text-gray-700",children:D})]},P))})]},y)),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Liberation Platform Integration"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Platform Components Working Together:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsx("li",{children:"• Community onboarding → IVOR AI consultation → Event discovery → Story sharing"}),s.jsx("li",{children:"• Democratic governance → Community curation → Verified partnerships → Real organizing"}),s.jsx("li",{children:"• Mutual aid coordination → Health advocacy → Cultural celebration → Liberation strategy"}),s.jsx("li",{children:"• Chrome extension reporting → Newsroom publishing → Community voting → Platform evolution"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Liberation Impact Multipliers:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsx("li",{children:"• Individual support → Community organizing → Movement coordination → Liberation"}),s.jsx("li",{children:"• Local events → UK-wide network → Cross-city campaigns → Policy victories"}),s.jsx("li",{children:"• Personal stories → Community journalism → Movement narrative → Cultural shift"}),s.jsx("li",{children:"• Platform participation → Democratic practice → Community ownership → Self-determination"})]})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Ready to Experience the Liberation Platform?"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsx(se,{to:"/onboarding",className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-full hover:from-purple-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl",children:"Start Your Journey"}),s.jsx(se,{to:"/demo",className:"px-8 py-3 bg-gradient-to-r from-green-600 to-teal-600 text-white font-bold rounded-full hover:from-green-700 hover:to-teal-700 transition-all shadow-lg hover:shadow-xl",children:"See Demo Scenarios"}),s.jsx(se,{to:"/launch",className:"px-8 py-3 bg-gradient-to-r from-orange-600 to-red-600 text-white font-bold rounded-full hover:from-orange-700 hover:to-red-700 transition-all shadow-lg hover:shadow-xl",children:"View Launch Materials"})]})]})]}):s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Choose User Persona:"}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map(y=>s.jsxs("button",{onClick:()=>{t(y.id),i(0)},className:`p-4 border-2 rounded-lg text-left transition-colors ${e===y.id?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:y.name}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[y.pronouns," • ",y.location]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-2",children:y.background})]},y.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[f.name," (",f.pronouns,")"]}),s.jsx("p",{className:"text-gray-600",children:f.location})]}),s.jsx("button",{onClick:T,className:"text-sm text-gray-500 hover:text-gray-700",children:"Reset Flow"})]}),s.jsx("p",{className:"text-gray-700 mb-4",children:f.background}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Current Needs:"}),s.jsx("ul",{className:"space-y-1",children:f.needs.map((y,S)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-orange-500 mt-0.5",children:"●"}),y]},S))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Liberation Priorities:"}),s.jsx("ul",{className:"space-y-1",children:f.liberation_priorities.map((y,S)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-purple-500 mt-0.5",children:"✊"}),y]},S))})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Journey Progress"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Step ",a+1," of ",g.length]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${u}%`}})})]}),s.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:d.title}),s.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 text-sm font-medium rounded-full",children:d.time_estimate})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Platform Component:"}),s.jsx("p",{className:"text-indigo-600 font-medium",children:d.component})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"User Action:"}),s.jsx("p",{className:"text-gray-700",children:d.action})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"User Experience:"}),s.jsx("p",{className:"text-gray-700",children:d.user_experience})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Ecosystem Value:"}),s.jsx("p",{className:"text-green-700",children:d.ecosystem_value})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Liberation Impact:"}),s.jsx("p",{className:"text-purple-700",children:d.liberation_impact})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Next Actions:"}),s.jsx("ul",{className:"space-y-1",children:d.next_actions.map((y,S)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[s.jsx("span",{className:"text-indigo-500 mt-0.5",children:"→"}),y]},S))})]})]})]})]},`${e}_${a}`),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("button",{onClick:E,disabled:a===0,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"← Previous Step"}),s.jsx("div",{className:"flex gap-2",children:g.map((y,S)=>s.jsx("button",{onClick:()=>i(S),className:`w-3 h-3 rounded-full transition-colors ${S===a?"bg-indigo-600":S<a?"bg-green-500":"bg-gray-300"}`},S))}),s.jsx("button",{onClick:m,disabled:a===g.length-1,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Step →"})]}),a===g.length-1&&s.jsxs("div",{className:"mt-8 text-center bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-green-900 mb-2",children:"Journey Complete!"}),s.jsxs("p",{className:"text-green-700 mb-4",children:[f.name," has experienced the full liberation platform potential"]}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx("button",{onClick:T,className:"px-6 py-2 bg-white text-green-700 font-semibold rounded-lg border border-green-300 hover:bg-green-50",children:"Restart Journey"}),s.jsx("button",{onClick:()=>o(!0),className:"px-6 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700",children:"See Ecosystem Potential"})]})]})]})})]})};function dx(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4",children:s.jsx(lx,{})})})}function mx(){const[e,t]=_.useState([]),[a,i]=_.useState([]),[n,o]=_.useState(null),[u,l]=_.useState(!0);_.useEffect(()=>{c()},[]);const c=()=>{l(!1),t([]),i([]),o({total_active_events:0,cities_represented:0,organizations_active:0,people_engaged_today:0,collective_impact_score:0,trending_topics:[],geographic_spread:{england:0,scotland:0,wales:0,northern_ireland:0}})};return u?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-slate-950 p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-white/10 rounded-lg w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[1,2,3].map(h=>s.jsx("div",{className:"h-64 bg-white/5 rounded-lg"},h))})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-slate-950 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Live Community Dashboard"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Real-time view of community organizing, mutual aid, and liberation activities across the UK"})]}),s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx(ta,{className:"w-16 h-16 text-gray-400 mx-auto mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Community Dashboard Coming Soon"}),s.jsx("p",{className:"text-lg text-gray-300 mb-8",children:"This dashboard will show real-time community activities, organizing events, and liberation initiatives once our community data integration is complete."}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-6 text-left",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Planned Features:"}),s.jsxs("ul",{className:"space-y-2 text-gray-300",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Live community organizing events"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Mutual aid network activities"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Organization partnership status"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Impact metrics and community reach"]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Geographic spread across UK regions"]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-12",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"0"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Active Events"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"0"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Cities"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"0"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Organizations"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"0"}),s.jsx("div",{className:"text-sm text-gray-400",children:"People Engaged"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"0"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Impact Score"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-6 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"0"}),s.jsx("div",{className:"text-sm text-gray-400",children:"UK Regions"})]})]})]})})}function hx(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx(mx,{})})})}const gx=()=>{const[e,t]=_.useState(null),[a,i]=_.useState([]),[n,o]=_.useState([]),[u,l]=_.useState("stories"),[c,h]=_.useState(!1);_.useEffect(()=>{const d=[{id:"1",title:"Trans Housing Victory: 50 Units Secured in Hackney",summary:"After 8 months of organizing, Trans Housing Network successfully pressured Hackney Council to designate 50 social housing units specifically for trans people.",author:"Maya Patel, Trans Housing Network",publication_date:new Date("2024-08-25"),category:"organizing_victory",location:"London, Hackney",tags:["trans_rights","housing_justice","organizing_victory"],social_metrics:{shares:247,amplifications:89,community_reach:1420,ivor_engagements:156},amplification_suggestions:["Share organizing tactics that worked","Connect to other housing campaigns","Celebrate trans liberation wins","Offer replication support to other cities"],democratic_score:94,verified_by_community:!0},{id:"2",title:"Manchester Stop & Search: Know Your Rights Training Success",summary:"Black Lives Matter Manchester trained 150+ community members in police accountability and legal rights following recent stop & search incidents.",author:"Kwame Johnson, BLM Manchester",publication_date:new Date("2024-08-28"),category:"community_care",location:"Manchester, Moss Side",tags:["police_accountability","community_defense","know_your_rights"],social_metrics:{shares:189,amplifications:67,community_reach:980,ivor_engagements:123},amplification_suggestions:["Share know your rights resources","Connect to legal support networks","Offer training to other communities","Document police accountability wins"],democratic_score:91,verified_by_community:!0},{id:"3",title:"Bristol Queer Joy: Healing Circle Reaches 200 Members",summary:"Bristol Black Queer Collective's weekly healing circles have grown from 12 to 200+ regular participants, creating vital community mental health support.",author:"Zuri Okafor, Bristol Black Queer Collective",publication_date:new Date("2024-08-26"),category:"cultural_celebration",location:"Bristol, St Paul's",tags:["mental_health","healing_justice","queer_joy"],social_metrics:{shares:156,amplifications:78,community_reach:756,ivor_engagements:98},amplification_suggestions:["Share healing practices and techniques","Connect to other wellness initiatives","Celebrate Black queer joy and resilience","Offer healing circle guidance to new communities"],democratic_score:88,verified_by_community:!0}],m=[{id:"1",name:"IVOR AI Assistant",platform:"ivor",icon:"🤖",status:"active",reach_estimate:2500,engagement_rate:87,community_approval:94},{id:"2",name:"Community Twitter",platform:"twitter",icon:"🐦",status:"active",reach_estimate:1800,engagement_rate:72,community_approval:89},{id:"3",name:"WhatsApp Networks",platform:"whatsapp",icon:"💬",status:"active",reach_estimate:950,engagement_rate:91,community_approval:96},{id:"4",name:"Instagram Stories",platform:"instagram",icon:"📱",status:"pending",reach_estimate:1200,engagement_rate:68,community_approval:82}],E=[{id:"1",story_id:"1",generated_content:`Incredible organizing victory! Trans Housing Network's 8-month campaign just secured 50 social housing units specifically for trans people in Hackney. This shows what's possible when we organize with purpose and persistence. 🏳️‍⚧️✊🏿

Key tactics that worked:
• Direct action at council meetings
• Community testimony from affected people
• Coalition building with housing advocates
• Media pressure through storytelling

How can we replicate this win in your city? IVOR can help connect you with organizing resources and successful campaign strategies. Let's build trans liberation everywhere! 💜`,tone:"celebratory",target_audience:["trans_community","housing_organizers","UK_activists"],personalization_notes:["Emphasizes tactical replication","Celebrates trans liberation specifically","Offers concrete IVOR support","Connects to broader movement building"],community_feedback_score:92,approved_by_governance:!0},{id:"2",story_id:"2",generated_content:`Knowledge is power! Black Lives Matter Manchester just trained 150+ community members in police accountability and legal rights. In the face of continued stop & search harassment, our communities are getting organized. 📚✊🏿

What you need to know:
• You have the right to remain silent
• You can ask if you're being detained
• Film interactions when safe to do so
• Get legal support numbers in your phone

IVOR has comprehensive know your rights resources for UK communities. We can help connect your area with training, legal support, and community defense networks. Nobody should face police harassment alone. 🤝`,tone:"educational",target_audience:["black_community","police_accountability_advocates","legal_observers"],personalization_notes:["Provides actionable rights information","Emphasizes community solidarity","Offers IVOR resource connections","Balances education with empowerment"],community_feedback_score:89,approved_by_governance:!0}];i(m),o(E),t(d[0])},[]);const p=async d=>{h(!0),await new Promise(E=>setTimeout(E,3e3));const m={id:Date.now().toString(),story_id:d.id,generated_content:`🌟 Liberation Story Alert! ${d.title}

${d.summary}

This is exactly the kind of organizing victory that shows what's possible when Black queer communities come together with purpose and strategy.

Key lessons:
• Community-led organizing works
• Persistence pays off
• Every victory builds power for the next fight

IVOR is here to help amplify these stories and connect organizers across the UK. Together, we're building the world we need! ✊🏿💜`,tone:"celebratory",target_audience:["community_organizers","liberation_movement","UK_activists"],personalization_notes:["Celebrates specific community victory","Extracts tactical lessons","Connects to broader movement","Offers IVOR support for replication"],community_feedback_score:0,approved_by_governance:!1};o(E=>[m,...E]),h(!1)},f=d=>({organizing_victory:"✊🏿",community_care:"💚",cultural_celebration:"🎉",mutual_aid:"🤝",political_action:"🏛️"})[d],g=d=>({organizing_victory:"bg-red-100 text-red-800",community_care:"bg-green-100 text-green-800",cultural_celebration:"bg-purple-100 text-purple-800",mutual_aid:"bg-blue-100 text-blue-800",political_action:"bg-orange-100 text-orange-800"})[d];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-xl",children:[s.jsx("h1",{className:"text-3xl font-bold flex items-center gap-3",children:"📡 Story Amplification System"}),s.jsx("p",{className:"text-purple-100 text-lg mt-2",children:"Democratic social sharing and community engagement through IVOR"})]}),s.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[{key:"stories",label:"Stories",icon:"📰"},{key:"channels",label:"Channels",icon:"📡"},{key:"ivor",label:"IVOR Amplification",icon:"🤖"},{key:"analytics",label:"Analytics",icon:"📊"}].map(d=>s.jsxs("button",{onClick:()=>l(d.key),className:`
              flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md font-medium transition-all
              ${u===d.key?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}
            `,children:[s.jsx("span",{children:d.icon}),d.label]},d.key))}),s.jsx("div",{className:"min-h-[600px]",children:s.jsxs(be,{mode:"wait",children:[u==="stories"&&e&&s.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:s.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:f(e.category)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.title}),e.verified_by_community&&s.jsx("span",{className:"text-green-600 text-sm bg-green-100 px-2 py-1 rounded-full",children:"✓ Community Verified"})]}),s.jsx("p",{className:"text-gray-700 text-lg mb-4",children:e.summary}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[s.jsxs("span",{children:["✍️ ",e.author]}),s.jsxs("span",{children:["📍 ",e.location]}),s.jsxs("span",{children:["📅 ",e.publication_date.toLocaleDateString()]}),s.jsxs("span",{className:"text-purple-600 font-medium",children:["🏛️ Democratic Score: ",e.democratic_score,"%"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map(d=>s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["#",d]},d))})]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${g(e.category)}`,children:e.category.replace("_"," ")})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.social_metrics.shares}),s.jsx("div",{className:"text-xs text-gray-500",children:"Shares"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.social_metrics.amplifications}),s.jsx("div",{className:"text-xs text-gray-500",children:"Amplifications"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.social_metrics.community_reach}),s.jsx("div",{className:"text-xs text-gray-500",children:"Community Reach"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:e.social_metrics.ivor_engagements}),s.jsx("div",{className:"text-xs text-gray-500",children:"IVOR Engagements"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:"Community Amplification Suggestions"}),s.jsx("div",{className:"space-y-2",children:e.amplification_suggestions.map((d,m)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-indigo-50 rounded-lg",children:[s.jsx("span",{className:"text-indigo-600",children:"💡"}),s.jsx("span",{className:"text-gray-800",children:d})]},m))})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>p(e),disabled:c,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:c?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating IVOR Amplification..."]}):"🤖 Generate IVOR Amplification"}),s.jsx("button",{className:"px-6 py-3 bg-white border-2 border-purple-600 text-purple-600 font-bold rounded-lg hover:bg-purple-50 transition-all",children:"📋 Create Custom Amplification"}),s.jsx("button",{className:"px-6 py-3 bg-white border-2 border-green-600 text-green-600 font-bold rounded-lg hover:bg-green-50 transition-all",children:"🗳️ Submit for Community Vote"})]})]})},"stories"),u==="channels"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Amplification Channels"}),a.map(d=>s.jsx("div",{className:"bg-white border rounded-xl p-6 hover:shadow-lg transition-all",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-3xl",children:d.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:d.name}),s.jsxs("p",{className:"text-gray-600 capitalize",children:[d.platform," platform"]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-lg text-indigo-600",children:d.reach_estimate.toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-500",children:"Estimated Reach"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-bold text-lg text-green-600",children:[d.engagement_rate,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Engagement Rate"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-bold text-lg text-purple-600",children:[d.community_approval,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Community Approval"})]}),s.jsx("span",{className:`
                        px-3 py-1 rounded-full text-xs font-medium
                        ${d.status==="active"?"bg-green-100 text-green-800":d.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}
                      `,children:d.status})]})]})},d.id))]},"channels"),u==="ivor"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"IVOR Generated Amplifications"}),s.jsx("span",{className:"text-sm text-gray-600",children:"AI-powered community-approved content"})]}),n.map((d,m)=>s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},className:"bg-white border rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:"🤖"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"IVOR Amplification"}),s.jsxs("p",{className:"text-gray-600",children:["Generated for story #",d.story_id]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${d.approved_by_governance?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:d.approved_by_governance?"✓ Approved":"⏳ Pending Review"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Community Score: ",d.community_feedback_score,"%"]})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:s.jsx("pre",{className:"whitespace-pre-wrap text-gray-800 font-medium leading-relaxed",children:d.generated_content})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Target Audience"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.target_audience.map(E=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:E.replace("_"," ")},E))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Tone & Approach"}),s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-sm rounded-full capitalize",children:d.tone})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Personalization Strategy"}),s.jsx("ul",{className:"space-y-1",children:d.personalization_notes.map((E,T)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx("span",{className:"text-green-600",children:"•"}),E]},T))})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-all",children:"✓ Approve & Publish"}),s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all",children:"✏️ Edit Content"}),s.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition-all",children:"🗳️ Community Vote"}),s.jsx("button",{className:"px-4 py-2 bg-gray-600 text-white font-medium rounded-lg hover:bg-gray-700 transition-all",children:"📋 Request Revision"})]})]},d.id))]},"ivor"),u==="analytics"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Amplification Analytics"}),s.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white border rounded-xl p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"567"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Amplifications"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"↗️ +23% this week"})]}),s.jsxs("div",{className:"bg-white border rounded-xl p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"12.5K"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Community Reach"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"↗️ +18% this week"})]}),s.jsxs("div",{className:"bg-white border rounded-xl p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"89%"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Community Approval"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"↗️ +2% this week"})]}),s.jsxs("div",{className:"bg-white border rounded-xl p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"234"}),s.jsx("div",{className:"text-sm text-gray-600",children:"IVOR Engagements"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"↗️ +31% this week"})]})]}),s.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"Top Performing Stories This Week"}),s.jsx("div",{className:"space-y-4",children:[{title:"Trans Housing Victory: 50 Units Secured",amplifications:89,reach:1420},{title:"Manchester Stop & Search Training Success",amplifications:67,reach:980},{title:"Bristol Healing Circle Reaches 200 Members",amplifications:78,reach:756}].map((d,m)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"font-medium text-gray-900",children:d.title})}),s.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[s.jsxs("span",{className:"text-purple-600",children:[d.amplifications," amplifications"]}),s.jsxs("span",{className:"text-blue-600",children:[d.reach.toLocaleString()," reach"]})]})]},m))})]})]},"analytics")]})})]})};function xx(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx(gx,{})})})}const px=()=>{const[e,t]=_.useState("partners"),[a,i]=_.useState([]),[n,o]=_.useState([]),[u,l]=_.useState([]),[c,h]=_.useState(new Date("2024-09-02"));_.useEffect(()=>{const m=[{id:"1",name:"Trans Housing Network",location:"London (Hackney)",contact_person:"Maya Patel",contact_email:"maya@transhousing.org.uk",contact_phone:"+44 7123 456789",organization_type:"grassroots",focus_areas:["housing_justice","trans_rights","emergency_support"],commitment_level:"full_ecosystem",readiness_status:"ready",launch_contributions:{events_committed:8,stories_committed:12,community_size:234,training_sessions_needed:0},verification_status:"verified",last_contact:new Date("2024-08-29"),notes:"Excellent preparedness. Already using IVOR for housing coordination. Ready to showcase successful organizing wins."},{id:"2",name:"Black Lives Matter Manchester",location:"Manchester (Moss Side)",contact_person:"Kwame Johnson",contact_email:"kwame@blmmanchester.org.uk",contact_phone:"+44 7234 567890",organization_type:"established_charity",focus_areas:["police_accountability","racial_justice","community_organizing"],commitment_level:"content_partner",readiness_status:"training_needed",launch_contributions:{events_committed:6,stories_committed:15,community_size:567,training_sessions_needed:2},verification_status:"verified",last_contact:new Date("2024-08-28"),notes:"Strong organizing capacity. Need training on IVOR storytelling features. Committed to know your rights workshops."},{id:"3",name:"Bristol Black Queer Collective",location:"Bristol (St Paul's)",contact_person:"Zuri Okafor",contact_email:"zuri@bristolbqc.org.uk",contact_phone:"+44 7345 678901",organization_type:"community_group",focus_areas:["queer_liberation","healing_justice","cultural_organizing"],commitment_level:"beta_testing",readiness_status:"technical_setup",launch_contributions:{events_committed:4,stories_committed:8,community_size:189,training_sessions_needed:1},verification_status:"verified",last_contact:new Date("2024-08-27"),notes:"Healing circles are growing rapidly. Need help with Chrome extension setup for community reporting."},{id:"4",name:"Edinburgh Tenants Union",location:"Edinburgh (Southside)",contact_person:"Aaliyah MacLeod",contact_email:"aaliyah@edinburghtenants.scot",contact_phone:"+44 7456 789012",organization_type:"grassroots",focus_areas:["housing_justice","tenant_rights","collective_action"],commitment_level:"event_coordinator",readiness_status:"awaiting_confirmation",launch_contributions:{events_committed:5,stories_committed:6,community_size:345,training_sessions_needed:1},verification_status:"pending",last_contact:new Date("2024-08-26"),notes:"Rent strike campaign gaining momentum. Waiting for committee approval for platform participation."},{id:"5",name:"Mutual Aid Birmingham",location:"Birmingham (Handsworth)",contact_person:"Fatima Ali",contact_email:"fatima@mutualadbirmingham.org.uk",contact_phone:"+44 7567 890123",organization_type:"community_group",focus_areas:["mutual_aid","food_justice","community_care"],commitment_level:"governance_participant",readiness_status:"ready",launch_contributions:{events_committed:10,stories_committed:20,community_size:456,training_sessions_needed:0},verification_status:"verified",last_contact:new Date("2024-08-30"),notes:"Food distribution network is exemplary. Eager to contribute to democratic governance processes."}],E=[{category:"Technical Infrastructure",component:"BLKOUT Website",status:"ready",completion_percentage:100,blockers:[],dependencies:[],responsible_person:"Development Team",target_date:new Date("2024-08-30"),critical_path:!0},{category:"Technical Infrastructure",component:"IVOR AI Services (6 services)",status:"ready",completion_percentage:100,blockers:[],dependencies:[],responsible_person:"AI Team",target_date:new Date("2024-08-30"),critical_path:!0},{category:"Content & Community",component:"Partner Organization Training",status:"in_progress",completion_percentage:75,blockers:["Scheduling conflicts with BLM Manchester","Edinburgh committee approval pending"],dependencies:["Partner commitment confirmations"],responsible_person:"Community Coordination",target_date:new Date("2024-09-01"),critical_path:!0},{category:"Content & Community",component:"Story Archive Population",status:"ready",completion_percentage:100,blockers:[],dependencies:[],responsible_person:"Editorial Team",target_date:new Date("2024-08-29"),critical_path:!1},{category:"Governance & Operations",component:"Democratic Decision-Making Protocols",status:"ready",completion_percentage:95,blockers:[],dependencies:["Community governance training"],responsible_person:"Governance Working Group",target_date:new Date("2024-08-31"),critical_path:!1},{category:"Legal & Compliance",component:"Data Protection & Privacy Compliance",status:"needs_attention",completion_percentage:80,blockers:["GDPR audit incomplete","Consent collection mechanisms need final review"],dependencies:["Legal review completion"],responsible_person:"Legal Team",target_date:new Date("2024-09-01"),critical_path:!0},{category:"Launch Communications",component:"Stakeholder Demo Environment",status:"in_progress",completion_percentage:90,blockers:[],dependencies:["Performance testing completion"],responsible_person:"Launch Team",target_date:new Date("2024-09-01"),critical_path:!0}],T=[{id:"1",name:"Community Leaders & Organizers",type:"community_leaders",stakeholders:[{name:"Maya Patel",role:"Coordinator",organization:"Trans Housing Network",contact_method:"maya@transhousing.org.uk",engagement_status:"highly_engaged",demo_scheduled:!0,demo_date:new Date("2024-09-02")},{name:"Kwame Johnson",role:"Organizer",organization:"BLM Manchester",contact_method:"kwame@blmmanchester.org.uk",engagement_status:"supportive",demo_scheduled:!0,demo_date:new Date("2024-09-02")}],collective_readiness:92,key_concerns:["Platform sustainability","Community data sovereignty","Avoiding surveillance"],success_criteria:["100+ active community members within month","Verified organizing victories","Democratic participation"]},{id:"2",name:"UK Black & Queer Media",type:"media",stakeholders:[{name:"Journalist Network UK",role:"Editorial",organization:"Community Media Collective",contact_method:"hello@journalistnetworkuk.org",engagement_status:"highly_engaged",demo_scheduled:!0,demo_date:new Date("2024-09-03")}],collective_readiness:85,key_concerns:["Story verification processes","Editorial independence","Community consent"],success_criteria:["Ethical journalism standards","Community voice amplification","Story authenticity"]},{id:"3",name:"Tech & Innovation Partners",type:"tech_partners",stakeholders:[{name:"Tech for Good Coalition",role:"Technical Advisory",organization:"UK Digital Rights",contact_method:"tech@digitalrights.uk",engagement_status:"supportive",demo_scheduled:!1}],collective_readiness:78,key_concerns:["AI bias prevention","Open source transparency","Data security"],success_criteria:["Technical resilience","Community control of technology","Privacy protection"]}];i(m),o(E),l(T)},[]);const p=m=>({ready:"bg-green-100 text-green-800",in_progress:"bg-blue-100 text-blue-800",needs_attention:"bg-yellow-100 text-yellow-800",blocked:"bg-red-100 text-red-800",training_needed:"bg-orange-100 text-orange-800",technical_setup:"bg-purple-100 text-purple-800",awaiting_confirmation:"bg-gray-100 text-gray-800",highly_engaged:"bg-green-100 text-green-800",supportive:"bg-blue-100 text-blue-800",neutral:"bg-gray-100 text-gray-600",skeptical:"bg-yellow-100 text-yellow-800",hostile:"bg-red-100 text-red-800"})[m]||"bg-gray-100 text-gray-600",f=m=>({beta_testing:"🧪",content_partner:"📝",event_coordinator:"📅",governance_participant:"🗳️",full_ecosystem:"🌟"})[m],d=(()=>{const m=n.length,E=n.filter(S=>S.status==="ready").length,T=n.filter(S=>S.critical_path&&S.status==="ready").length,y=n.filter(S=>S.critical_path).length;return{overall:Math.round(E/m*100),criticalPath:Math.round(T/y*100)}})();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold flex items-center gap-3",children:"🚀 Beta Launch Preparation"}),s.jsx("p",{className:"text-emerald-100 text-lg mt-2",children:"DEMONSTRATION: Launch coordination workflow template"}),s.jsx("p",{className:"text-emerald-200 text-sm mt-1",children:"⚠️ Fictional organizations - Real launch requires authentic community partnerships"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[d.overall,"%"]}),s.jsx("div",{className:"text-sm text-emerald-200",children:"Launch Ready"}),s.jsxs("div",{className:"text-sm text-emerald-300",children:["Critical Path: ",d.criticalPath,"%"]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-emerald-700/30 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{children:["🗓️ Target Launch: ",c.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),s.jsx("span",{children:"📍 Launch Cities: London, Manchester, Bristol, Edinburgh, Birmingham"}),s.jsxs("span",{children:["👥 Partner Organizations: ",a.length," confirmed"]})]})})]}),s.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[{key:"partners",label:"Partner Orgs",icon:"🤝"},{key:"readiness",label:"Launch Readiness",icon:"✅"},{key:"stakeholders",label:"Stakeholders",icon:"👥"},{key:"timeline",label:"Timeline",icon:"📅"},{key:"risk",label:"Risk Assessment",icon:"⚠️"}].map(m=>s.jsxs("button",{onClick:()=>t(m.key),className:`
              flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md font-medium transition-all
              ${e===m.key?"bg-white text-emerald-600 shadow-sm":"text-gray-600 hover:text-gray-900"}
            `,children:[s.jsx("span",{children:m.icon}),m.label]},m.key))}),s.jsx("div",{className:"min-h-[600px]",children:s.jsxs(be,{mode:"wait",children:[e==="partners"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"UK Partner Organizations"}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["✅ ",a.filter(m=>m.readiness_status==="ready").length," Ready"]}),s.jsxs("span",{children:["🔧 ",a.filter(m=>m.readiness_status==="training_needed").length," Training Needed"]}),s.jsxs("span",{children:["⏳ ",a.filter(m=>m.readiness_status==="awaiting_confirmation").length," Awaiting Confirmation"]})]})]}),a.map(m=>s.jsxs("div",{className:"bg-white border rounded-xl p-6 hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-3xl",children:f(m.commitment_level)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:m.name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(m.verification_status)}`,children:m.verification_status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[s.jsxs("span",{children:["📍 ",m.location]}),s.jsxs("span",{children:["👤 ",m.contact_person]}),s.jsxs("span",{children:["📧 ",m.contact_email]}),s.jsxs("span",{children:["📞 ",m.contact_phone]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:m.focus_areas.map(E=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:E.replace("_"," ")},E))}),m.notes&&s.jsxs("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg mb-3",children:["💬 ",m.notes]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p(m.readiness_status)}`,children:m.readiness_status.replace("_"," ")}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Last contact: ",m.last_contact.toLocaleDateString()]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:m.launch_contributions.events_committed}),s.jsx("div",{className:"text-xs text-gray-500",children:"Events"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:m.launch_contributions.stories_committed}),s.jsx("div",{className:"text-xs text-gray-500",children:"Stories"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-purple-600",children:m.launch_contributions.community_size}),s.jsx("div",{className:"text-xs text-gray-500",children:"Community"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-orange-600",children:m.launch_contributions.training_sessions_needed}),s.jsx("div",{className:"text-xs text-gray-500",children:"Training Needed"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-4",children:[s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all text-sm",children:"📞 Schedule Call"}),s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-all text-sm",children:"📧 Send Update"}),m.launch_contributions.training_sessions_needed>0&&s.jsx("button",{className:"px-4 py-2 bg-orange-600 text-white font-medium rounded-lg hover:bg-orange-700 transition-all text-sm",children:"🎓 Schedule Training"})]})]},m.id))]},"partners"),e==="readiness"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Launch Readiness Assessment"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[d.overall,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Overall"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[d.criticalPath,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Critical Path"})]})]})]}),Object.entries(n.reduce((m,E)=>(m[E.category]||(m[E.category]=[]),m[E.category].push(E),m),{})).map(([m,E])=>s.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:m}),s.jsx("div",{className:"space-y-4",children:E.map((T,y)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:T.component}),T.critical_path&&s.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-medium",children:"Critical Path"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["👤 ",T.responsible_person," | 🎯 ",T.target_date.toLocaleDateString()]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[T.completion_percentage,"%"]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(T.status)}`,children:T.status.replace("_"," ")})]})})]}),s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${T.status==="ready"?"bg-green-500":T.status==="in_progress"?"bg-blue-500":T.status==="needs_attention"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${T.completion_percentage}%`}})})}),T.blockers.length>0&&s.jsxs("div",{className:"mb-2",children:[s.jsx("h5",{className:"font-medium text-red-700 text-sm mb-1",children:"🚫 Blockers:"}),s.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:T.blockers.map((S,D)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{children:"•"}),S]},D))})]}),T.dependencies.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-blue-700 text-sm mb-1",children:"🔗 Dependencies:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:T.dependencies.map((S,D)=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:S},D))})]})]},y))})]},m))]},"readiness"),e==="stakeholders"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Stakeholder Group Readiness"}),u.map(m=>s.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:m.name}),s.jsx("p",{className:"text-gray-600 capitalize",children:m.type.replace("_"," ")})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[m.collective_readiness,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Collective Readiness"})]})]}),s.jsx("div",{className:"space-y-3 mb-6",children:m.stakeholders.map((E,T)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:E.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:[E.role," at ",E.organization]}),s.jsx("div",{className:"text-xs text-gray-500",children:E.contact_method})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(E.engagement_status)}`,children:E.engagement_status.replace("_"," ")}),E.demo_scheduled?s.jsxs("span",{className:"text-green-600 text-sm",children:["📅 ",E.demo_date?.toLocaleDateString()]}):s.jsx("span",{className:"text-gray-400 text-sm",children:"No demo scheduled"})]})]},T))}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-700 mb-2",children:"⚠️ Key Concerns"}),s.jsx("ul",{className:"space-y-1",children:m.key_concerns.map((E,T)=>s.jsxs("li",{className:"text-sm text-red-600 flex items-start gap-2",children:[s.jsx("span",{children:"•"}),E]},T))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-700 mb-2",children:"✅ Success Criteria"}),s.jsx("ul",{className:"space-y-1",children:m.success_criteria.map((E,T)=>s.jsxs("li",{className:"text-sm text-green-600 flex items-start gap-2",children:[s.jsx("span",{children:"•"}),E]},T))})]})]})]},m.id))]},"stakeholders"),e==="timeline"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white border rounded-xl p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Launch Timeline & Milestones"}),s.jsx("div",{className:"space-y-6",children:[{date:"August 31, 2024",title:"Final Technical Review",status:"in_progress",tasks:["GDPR compliance audit","Performance optimization","Security review"]},{date:"September 1, 2024",title:"Partner Training Completion",status:"in_progress",tasks:["BLM Manchester IVOR training","Bristol tech setup","Edinburgh confirmation"]},{date:"September 2, 2024",title:"Beta Launch Day",status:"ready",tasks:["London launch event","Partner coordination","Media outreach","Community activation"]},{date:"September 3-9, 2024",title:"Launch Week",status:"ready",tasks:["Daily community check-ins","Technical support","Story collection","Feedback integration"]},{date:"September 10, 2024",title:"Week 1 Review",status:"ready",tasks:["Metrics analysis","Partner feedback","Technical adjustments","Community governance activation"]}].map((m,E)=>s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${p(m.status).includes("green")?"bg-green-500":p(m.status).includes("blue")?"bg-blue-500":"bg-gray-300"}`}),E<4&&s.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-2"})]}),s.jsxs("div",{className:"flex-1 pb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:m.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(m.status)}`,children:m.status.replace("_"," ")})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-3",children:m.date}),s.jsx("ul",{className:"space-y-1",children:m.tasks.map((T,y)=>s.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-400",children:"•"}),T]},y))})]})]},E))})]},"timeline"),e==="risk"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Risk Assessment & Mitigation"}),[{risk:"Partner Organization Availability",severity:"medium",probability:"low",impact:"Edinburgh Tenants Union committee approval still pending",mitigation:"Alternative partner organizations identified. Proceed with 4/5 confirmed partners.",owner:"Community Coordination"},{risk:"Technical Infrastructure Scaling",severity:"high",probability:"low",impact:"IVOR services may experience load issues with multiple simultaneous users",mitigation:"Load testing completed. Auto-scaling configured. 24/7 technical support on standby.",owner:"Technical Team"},{risk:"Community Data Privacy Concerns",severity:"high",probability:"medium",impact:"Community members may be hesitant to share stories due to surveillance concerns",mitigation:"Clear privacy policies. Local data storage options. Pseudonymization features. Transparency reports.",owner:"Legal & Community Team"},{risk:"Media Coverage Misrepresentation",severity:"medium",probability:"medium",impact:"Mainstream media may misrepresent platform purpose or community stories",mitigation:"Community media partnerships prioritized. Message discipline training. Spokesperson preparation.",owner:"Communications Team"}].map((m,E)=>s.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:m.risk}),s.jsx("p",{className:"text-gray-700 mb-3",children:m.impact})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.severity==="high"?"bg-red-100 text-red-800":m.severity==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[m.severity," severity"]}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.probability==="high"?"bg-red-100 text-red-800":m.probability==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[m.probability," probability"]})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-3",children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"🛡️ Mitigation Strategy"}),s.jsx("p",{className:"text-blue-700 text-sm",children:m.mitigation})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["👤 Risk Owner: ",m.owner]})]},E))]},"risk")]})}),s.jsx("div",{className:"bg-white border-2 border-emerald-500 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Launch Readiness Status"}),s.jsx("p",{className:"text-gray-600",children:d.criticalPath>=95?s.jsx("span",{className:"text-green-600 font-medium",children:"🟢 Go/No-Go: LAUNCH READY"}):d.criticalPath>=80?s.jsx("span",{className:"text-yellow-600 font-medium",children:"🟡 Go/No-Go: CAUTION - Address critical path items"}):s.jsx("span",{className:"text-red-600 font-medium",children:"🔴 Go/No-Go: NOT READY - Critical blockers remain"})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{className:"px-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-all",children:"📊 Generate Launch Report"}),s.jsx("button",{className:"px-6 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-all",children:"🚀 Execute Launch Protocol"})]})]})})]})};function fx(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx(px,{})})})}const bx=()=>{const[e,t]=_.useState("overview"),[a,i]=_.useState([]),[n,o]=_.useState(null),[u,l]=_.useState({current_scenario:null,current_step:0,demo_running:!1,metrics_updating:!1,stakeholder_feedback:{engagement_score:0,questions_asked:0,concerns_raised:[],positive_reactions:[]}});_.useEffect(()=>{const d=[{id:"community-leader-journey",title:"Community Leader: End-to-End Organizing Journey",description:"Follow Maya from Trans Housing Network as she uses BLKOUT ecosystem to coordinate a housing campaign, from IVOR consultation to story amplification.",duration:"15 minutes",stakeholder_group:"community_leaders",components_showcased:["IVOR AI Consultation","Community Dashboard","Events Calendar","Newsroom Integration","Story Amplification","Democratic Governance"],key_features:["AI-powered organizing advice","Real-time community coordination","Democratic story validation","Cross-platform amplification","Impact measurement"],user_journey_steps:[{step:1,component:"IVOR AI",action:"Maya asks IVOR for housing campaign strategy advice",outcome:"IVOR provides UK-specific tactics and connects to successful campaigns",metrics_shown:["AI response accuracy","UK context integration"]},{step:2,component:"Events Calendar",action:"Schedule community meeting through integrated calendar",outcome:"Event automatically shared across partner networks",metrics_shown:["Event reach","Partner engagement"]},{step:3,component:"Community Dashboard",action:"Track campaign progress and community engagement",outcome:"Real-time metrics show growing support and identify key supporters",metrics_shown:["Community growth","Engagement rates"]},{step:4,component:"Newsroom",action:"Document organizing victory through community journalism",outcome:"Story captures tactics and celebrates community power",metrics_shown:["Story reach","Community verification"]},{step:5,component:"Story Amplification",action:"IVOR generates personalized content for different platforms",outcome:"Democratic community approval process validates amplification",metrics_shown:["Amplification reach","Community approval rate"]},{step:6,component:"Democratic Governance",action:"Community votes on platform improvements based on campaign learnings",outcome:"Platform evolves based on real organizing needs",metrics_shown:["Governance participation","Platform adaptation"]}],success_metrics:[{metric:"Campaign Success Rate",target_value:"75%",demonstration_value:"89%"},{metric:"Community Engagement",target_value:"60%",demonstration_value:"84%"},{metric:"Story Amplification",target_value:"500 reach",demonstration_value:"1,420 reach"},{metric:"Democratic Participation",target_value:"40%",demonstration_value:"67%"}],questions_addressed:["How does IVOR provide UK-specific organizing advice?","How do we ensure community data sovereignty?","What prevents surveillance and co-optation?","How does democratic governance actually work?","Can this scale while maintaining community control?"]},{id:"funder-impact-demo",title:"Funder: Community Impact & Sustainability Demonstration",description:"Comprehensive view of how BLKOUT creates measurable community impact, financial sustainability, and democratic accountability.",duration:"12 minutes",stakeholder_group:"funders",components_showcased:["Impact Metrics Dashboard","Financial Transparency","Community Ownership Model","Democratic Governance","Sustainability Planning"],key_features:["Transparent impact measurement","Community-controlled funding","Democratic decision-making","Cooperative ownership model","Long-term sustainability"],user_journey_steps:[{step:1,component:"Impact Dashboard",action:"Review comprehensive community impact metrics",outcome:"Clear evidence of organizing victories, community growth, liberation outcomes",metrics_shown:["Community size growth","Organizing victories","Lives improved"]},{step:2,component:"Financial Transparency",action:"Examine cooperative financial model and community ownership",outcome:"Transparent budgeting, community-controlled resources, sustainable revenue",metrics_shown:["Revenue streams","Community investment","Financial health"]},{step:3,component:"Democratic Governance",action:"Observe community decision-making processes in action",outcome:"Community members directly control platform development and priorities",metrics_shown:["Voter participation","Decision implementation","Community satisfaction"]}],success_metrics:[{metric:"Community Impact Score",target_value:"70%",demonstration_value:"89%"},{metric:"Financial Sustainability",target_value:"80%",demonstration_value:"94%"},{metric:"Democratic Participation",target_value:"50%",demonstration_value:"67%"}],questions_addressed:["How do you measure liberation impact?","What is the cooperative ownership model?","How do you ensure long-term sustainability?","How does community control actually work?","What are the accountability mechanisms?"]},{id:"media-journalism-demo",title:"Media: Community Journalism & Story Verification",description:"Deep dive into ethical community journalism practices, story verification, and amplification without exploitation.",duration:"10 minutes",stakeholder_group:"media",components_showcased:["Community Newsroom","Story Verification","Consent Protocols","Editorial Independence","Amplification Ethics"],key_features:["Community-controlled journalism","Rigorous verification processes","Consent-based storytelling","Editorial independence","Ethical amplification"],user_journey_steps:[{step:1,component:"Community Newsroom",action:"Review community journalism standards and editorial processes",outcome:"Stories center community voice, follow ethical guidelines, maintain independence",metrics_shown:["Editorial standards compliance","Community satisfaction"]},{step:2,component:"Verification System",action:"Examine story verification and fact-checking processes",outcome:"Multi-layer verification ensures accuracy while protecting community privacy",metrics_shown:["Verification accuracy","Community safety"]},{step:3,component:"Consent Protocols",action:"Review consent collection and community approval workflows",outcome:"Stories only published with explicit community consent and ongoing control",metrics_shown:["Consent compliance","Community control"]}],success_metrics:[{metric:"Story Accuracy Rate",target_value:"95%",demonstration_value:"98%"},{metric:"Community Consent",target_value:"100%",demonstration_value:"100%"},{metric:"Editorial Independence",target_value:"90%",demonstration_value:"96%"}],questions_addressed:["How do you verify community stories?","What are the consent protocols?","How do you maintain editorial independence?","How do you prevent extractive journalism?","What ethical standards do you follow?"]},{id:"tech-architecture-demo",title:"Tech Partners: Platform Architecture & Security",description:"Technical deep dive into BLKOUT architecture, security measures, privacy protection, and community data sovereignty.",duration:"18 minutes",stakeholder_group:"tech_partners",components_showcased:["System Architecture","Security Protocols","Privacy Protection","Data Sovereignty","AI Transparency","Performance Metrics"],key_features:["Community-controlled infrastructure","End-to-end encryption","Local data storage options","AI transparency and bias prevention","Open source components"],user_journey_steps:[{step:1,component:"System Architecture",action:"Review distributed architecture and community control mechanisms",outcome:"Decentralized design prevents single points of control or failure",metrics_shown:["System uptime","Decentralization metrics"]},{step:2,component:"Security & Privacy",action:"Examine encryption, data protection, and privacy measures",outcome:"Military-grade security with community-controlled data sovereignty",metrics_shown:["Security audit scores","Privacy compliance"]},{step:3,component:"AI Transparency",action:"Review IVOR AI training, bias prevention, and community oversight",outcome:"Transparent AI with community oversight and bias detection systems",metrics_shown:["Bias detection scores","Community AI oversight"]}],success_metrics:[{metric:"Security Score",target_value:"95%",demonstration_value:"98%"},{metric:"Privacy Compliance",target_value:"100%",demonstration_value:"100%"},{metric:"AI Transparency",target_value:"90%",demonstration_value:"94%"}],questions_addressed:["How is community data protected?","What are the security protocols?","How do you prevent AI bias?","What is the technical architecture?","How do you ensure data sovereignty?"]}],m={ecosystem_health:94,user_engagement:87,community_impact:91,technical_performance:96,democratic_participation:78,story_amplification:89};i(d),o(m)},[]);const c=d=>{l(m=>({...m,current_scenario:d,current_step:0,demo_running:!0,metrics_updating:!0}))},h=()=>{const d=a.find(m=>m.id===u.current_scenario);d&&u.current_step<d.user_journey_steps.length-1&&l(m=>({...m,current_step:m.current_step+1}))},p=()=>{l(d=>({...d,current_scenario:null,current_step:0,demo_running:!1,metrics_updating:!1}))},f=d=>({community_leaders:"bg-red-100 text-red-800",funders:"bg-green-100 text-green-800",media:"bg-blue-100 text-blue-800",tech_partners:"bg-purple-100 text-purple-800",government:"bg-orange-100 text-orange-800"})[d],g=d=>({community_leaders:"✊🏿",funders:"💰",media:"📰",tech_partners:"⚙️",government:"🏛️"})[d];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold flex items-center gap-3",children:"🎯 Stakeholder Demo Environment"}),s.jsx("p",{className:"text-indigo-100 text-lg mt-2",children:"Interactive ecosystem demonstrations for investors, partners, and community leaders"}),s.jsx("p",{className:"text-indigo-200 text-sm mt-1",children:"⚠️ Demonstration environment with fictional scenarios showcasing platform capabilities"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold",children:u.demo_running?"🔴 LIVE DEMO":"⚪ READY"}),s.jsxs("div",{className:"text-sm text-indigo-200",children:[a.length," scenarios available"]})]})]}),u.demo_running&&s.jsx("div",{className:"mt-4 p-4 bg-indigo-700/30 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{children:["🎬 Running: ",a.find(d=>d.id===u.current_scenario)?.title]}),s.jsxs("span",{children:["Step ",u.current_step+1," of ",a.find(d=>d.id===u.current_scenario)?.user_journey_steps.length]}),s.jsx("button",{onClick:p,className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded-lg text-white font-medium transition-all",children:"Stop Demo"})]})})]}),s.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[{key:"overview",label:"Overview",icon:"🏠"},{key:"scenarios",label:"Demo Scenarios",icon:"🎬"},{key:"guided-tour",label:"Guided Tour",icon:"🎯"},{key:"metrics",label:"Live Metrics",icon:"📊"},{key:"feedback",label:"Feedback",icon:"💬"}].map(d=>s.jsxs("button",{onClick:()=>t(d.key),className:`
              flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md font-medium transition-all
              ${e===d.key?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"}
            `,children:[s.jsx("span",{children:d.icon}),d.label]},d.key))}),s.jsx("div",{className:"min-h-[600px]",children:s.jsxs(be,{mode:"wait",children:[e==="overview"&&s.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:s.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Complete Ecosystem Demonstration"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-3",children:"Platform Components Showcased"}),s.jsx("div",{className:"space-y-2",children:["🤖 IVOR AI Assistant (6 integrated services)","🏠 BLKOUT Community Website","📰 Community Newsroom & Stories","📅 Events Calendar & Coordination","🏛️ Democratic Governance System","📡 Story Amplification Network","👥 Live Community Showcase","🚀 Launch Coordination Tools","📊 Performance & Impact Analytics","🔗 Chrome Extension for Real Events","🛡️ Privacy & Security Protocols","💚 Community Onboarding Flow","🎯 User Journey Visualization"].map((d,m)=>s.jsx("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg",children:s.jsx("span",{className:"text-sm",children:d})},m))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-3",children:"Key Value Propositions"}),s.jsx("div",{className:"space-y-3",children:[{title:"Liberation Through Technology",desc:"AI and platform designed specifically for Black queer liberation organizing"},{title:"Community Sovereignty",desc:"Democratic governance ensures community control over technology and data"},{title:"Cooperative Economics",desc:"Community-owned platform with transparent, sustainable financial model"},{title:"Intersectional Approach",desc:"Centering most marginalized voices while building broad coalition power"},{title:"Measurable Impact",desc:"Clear metrics showing organizing victories and community empowerment"}].map((d,m)=>s.jsxs("div",{className:"p-3 border-l-4 border-indigo-500 bg-indigo-50",children:[s.jsx("div",{className:"font-medium text-indigo-900",children:d.title}),s.jsx("div",{className:"text-sm text-indigo-700",children:d.desc})]},m))})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-4",children:"Choose Your Demonstration Path"}),s.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{type:"community_leaders",title:"Community Leaders",desc:"15-min organizing journey",color:"red"},{type:"funders",title:"Funders & Investors",desc:"12-min impact demo",color:"green"},{type:"media",title:"Media & Journalists",desc:"10-min journalism ethics",color:"blue"},{type:"tech_partners",title:"Tech Partners",desc:"18-min architecture deep dive",color:"purple"}].map(d=>s.jsxs("button",{onClick:()=>t("scenarios"),className:`p-4 rounded-lg border-2 border-${d.color}-200 hover:border-${d.color}-400 bg-${d.color}-50 hover:bg-${d.color}-100 transition-all text-left`,children:[s.jsx("div",{className:"font-bold text-gray-900",children:d.title}),s.jsx("div",{className:"text-sm text-gray-600",children:d.desc})]},d.type))})]})]})},"overview"),e==="scenarios"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Interactive Demo Scenarios"}),a.map(d=>s.jsxs("div",{className:"bg-white border rounded-xl p-6 hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-3xl",children:g(d.stakeholder_group)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:d.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(d.stakeholder_group)}`,children:d.stakeholder_group.replace("_"," ")})]}),s.jsx("p",{className:"text-gray-700 mb-3",children:d.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[s.jsxs("span",{children:["⏱️ ",d.duration]}),s.jsxs("span",{children:["📱 ",d.components_showcased.length," components"]}),s.jsxs("span",{children:["🎯 ",d.user_journey_steps.length," steps"]})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>c(d.id),disabled:u.demo_running,className:"px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:u.current_scenario===d.id?"🔴 Running":"▶️ Start Demo"}),s.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-all",children:"📋 View Details"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Key Features Demonstrated:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.key_features.map((m,E)=>s.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs rounded-full",children:m},E))})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg",children:d.success_metrics.map((m,E)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-lg text-indigo-600",children:m.demonstration_value}),s.jsx("div",{className:"text-xs text-gray-500",children:m.metric}),s.jsxs("div",{className:"text-xs text-green-600",children:["Target: ",m.target_value]})]},E))})]},d.id))]},"scenarios"),e==="guided-tour"&&u.demo_running&&s.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:(()=>{const d=a.find(E=>E.id===u.current_scenario),m=d?.user_journey_steps[u.current_step];return!d||!m?null:s.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:d.title}),s.jsxs("p",{className:"text-gray-600",children:["Step ",m.step," of ",d.user_journey_steps.length]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:h,disabled:u.current_step>=d.user_journey_steps.length-1,className:"px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-all disabled:opacity-50",children:"Next Step →"}),s.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-all",children:"End Demo"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-500 p-6 rounded-lg",children:[s.jsxs("h3",{className:"font-bold text-lg text-indigo-900 mb-2",children:[m.component,": ",m.action]}),s.jsx("p",{className:"text-indigo-800 mb-4",children:m.outcome}),m.metrics_shown&&s.jsx("div",{className:"flex gap-4",children:m.metrics_shown.map((E,T)=>s.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg",children:[s.jsx("div",{className:"text-sm font-medium text-indigo-900",children:E}),s.jsxs("div",{className:"text-lg font-bold text-indigo-600",children:[Math.floor(Math.random()*40)+60,"%"]})]},T))})]}),s.jsx("div",{className:"flex items-center justify-between",children:d.user_journey_steps.map((E,T)=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`
                              w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold
                              ${T<=u.current_step?"bg-indigo-600 text-white":"bg-gray-300 text-gray-600"}
                            `,children:E.step}),s.jsx("div",{className:"text-xs text-center text-gray-600 mt-2 max-w-20",children:E.component})]},T))})]})]})})()},"guided-tour"),e==="metrics"&&n&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Live Demo Metrics"}),s.jsx("div",{className:"grid grid-cols-3 gap-6",children:Object.entries(n).map(([d,m])=>s.jsxs("div",{className:"bg-white border rounded-xl p-6 text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-indigo-600 mb-2",children:[m,"%"]}),s.jsx("div",{className:"text-sm text-gray-600 capitalize",children:d.replace("_"," ")}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-1000",style:{width:`${m}%`}})})})]},d))}),s.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4",children:"Real-time Stakeholder Engagement"}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"92%"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Engagement Score"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"23"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Questions Asked"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"89%"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Positive Reactions"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"3"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Concerns Raised"})]})]})]})]},"metrics"),e==="feedback"&&s.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Stakeholder Feedback & Next Steps"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-green-700",children:"Positive Feedback Themes"}),s.jsx("div",{className:"space-y-3",children:["Community-centered approach is genuinely innovative","Democratic governance model addresses key concerns","Technical architecture prioritizes community sovereignty","Clear impact metrics demonstrate measurable liberation","Cooperative economic model is financially sustainable","AI integration serves community organizing effectively"].map((d,m)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-600 text-lg",children:"✓"}),s.jsx("span",{className:"text-gray-700 text-sm",children:d})]},m))})]}),s.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-orange-700",children:"Key Questions & Concerns"}),s.jsx("div",{className:"space-y-3",children:["How do you ensure long-term financial sustainability?","What prevents platform from being co-opted or surveilled?","How does democratic governance scale with growth?","What are the accountability mechanisms for AI decisions?","How do you balance transparency with community safety?","What evidence exists for organizing effectiveness?"].map((d,m)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-orange-600 text-lg",children:"?"}),s.jsx("span",{className:"text-gray-700 text-sm",children:d})]},m))})]})]}),s.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-indigo-900",children:"Recommended Next Steps"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-indigo-800 mb-3",children:"For Community Leaders:"}),s.jsxs("ul",{className:"space-y-1 text-sm text-indigo-700",children:[s.jsx("li",{children:"• Schedule 1:1 demonstration with your organizing team"}),s.jsx("li",{children:"• Beta test IVOR with real campaign questions"}),s.jsx("li",{children:"• Join governance working group discussions"}),s.jsx("li",{children:"• Connect with other partner organizations"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-indigo-800 mb-3",children:"For Funders & Partners:"}),s.jsxs("ul",{className:"space-y-1 text-sm text-indigo-700",children:[s.jsx("li",{children:"• Review cooperative investment model details"}),s.jsx("li",{children:"• Examine impact measurement methodologies"}),s.jsx("li",{children:"• Connect with community accountability board"}),s.jsx("li",{children:"• Discuss alignment with liberation funding priorities"})]})]})]})]})]},"feedback")]})})]})};function yx(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx(bx,{})})})}const Nx=()=>s.jsx("div",{className:"bg-red-600 text-white py-2 px-4 text-center text-sm font-bold border-b-2 border-red-700",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:["🚨 DEMONSTRATION • DEMONSTRATION • DEMONSTRATION • DEMONSTRATION • DEMONSTRATION • DEMONSTRATION 🚨",s.jsx("div",{className:"text-xs mt-1 opacity-90",children:"This is a speculative demonstration site showing potential platform capabilities - NOT a real community platform"})]})});class vx{static async submitEvent(t){try{const{title:a,description:i,date:n,time:o,location:u,organizer:l,category:c,capacity:h,sourceUrl:p,submittedVia:f,moreInfoUrl:g,ticketInfo:d,attendeeCount:m,registrationLink:E,tags:T,status:y="draft"}=t;if(!a||!n)throw new Error("Title and date are required");const{data:S,error:D}=await Ee.from("events").insert([{title:a,description:i||"",location:typeof u=="string"?u:u?.address||"TBD",status:y||"draft",date:n,start_time:o||"18:00",source:"manual",url:p,tags:T||["community-submitted"]}]).select().single();if(D)throw D;return{success:!0,message:"Event created successfully",event:S}}catch(a){throw console.error("Event submission error:",a),new Error(a.message||"Failed to create event")}}static async submitArticle(t){try{const{title:a,excerpt:i,content:n,category:o,author:u,priority:l,sourceUrl:c,submittedVia:h,moreInfoUrl:p,publishDate:f,section:g,tags:d,status:m="draft"}=t;if(!a||!i)throw new Error("Title and excerpt are required");const{data:E,error:T}=await Ee.from("newsroom_articles").insert([{title:a,excerpt:i,content:n||i,status:m||"draft",source_url:c}]).select().single();if(T)throw T;return{success:!0,message:"Article created successfully",article:E}}catch(a){throw console.error("Article submission error:",a),new Error(a.message||"Failed to create article")}}static async getEvents(){try{const{data:t,error:a}=await Ee.from("events").select("*").order("created_at",{ascending:!1});if(a)throw a;return{success:!0,events:t||[]}}catch(t){throw console.error("Events fetch error:",t),new Error(t.message||"Failed to fetch events")}}static async getArticles(){try{const{data:t,error:a}=await Ee.from("newsroom_articles").select("*").order("created_at",{ascending:!1});if(a)throw a;return{success:!0,articles:t||[]}}catch(t){throw console.error("Articles fetch error:",t),new Error(t.message||"Failed to fetch articles")}}}typeof window<"u"&&(window.BlkoutExtensionApi=vx);function _x(){const{pathname:e}=zi();return Na.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const Ex=()=>s.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 z-50 bg-blue-600 text-white px-4 py-2",children:"Skip to main content"}),de=({children:e})=>s.jsxs(s.Fragment,{children:[s.jsx(Mt,{}),e]}),jx=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900",children:[s.jsx(Mt,{}),s.jsxs("section",{className:"relative py-20 bg-gradient-to-br from-purple-950 via-indigo-950 to-emerald-950 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-purple-500 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-emerald-500 rounded-full blur-3xl animate-pulse"})]}),s.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-8 text-center",children:[s.jsxs(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white mb-8 leading-tight tracking-tight uppercase",children:[s.jsx("span",{className:"bg-gradient-to-r from-amber-400 to-purple-600 bg-clip-text text-transparent",children:"BLKOUT"}),s.jsx("br",{}),s.jsx("span",{className:"text-4xl md:text-6xl",children:"Community Platform"})]}),s.jsx("p",{className:"text-xl text-indigo-200 mb-12 max-w-3xl mx-auto leading-relaxed",children:"🚨 DEMONSTRATION SITE: Speculative platform capabilities showcase. NOT a real community platform - built to show potential technical architecture."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-16",children:[s.jsx(k.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(se,{to:"/onboarding",className:"inline-block px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-full hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Get Started"})}),s.jsx(k.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(se,{to:"/movement",className:"inline-block px-8 py-4 bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-bold rounded-full hover:from-emerald-700 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Our Movement"})}),s.jsx(k.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(se,{to:"/newsroom",className:"inline-block px-8 py-4 bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-bold rounded-full hover:from-blue-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Newsroom"})}),s.jsx(k.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(se,{to:"/events",className:"inline-block px-8 py-4 bg-gradient-to-r from-orange-600 to-red-600 text-white font-bold rounded-full hover:from-orange-700 hover:to-red-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Events"})})]})]}),s.jsx("div",{className:"mt-16",children:s.jsx(yh,{})})]})]}),s.jsx("section",{className:"py-16 bg-slate-900/50",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-8",children:[s.jsx("h2",{className:"text-3xl md:text-5xl font-bold tracking-wide uppercase text-white text-center mb-12",children:"Our Values"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs(k.div,{className:"text-center p-6 bg-white/5 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsx("div",{className:"text-4xl mb-4",children:"🏳️‍⚧️"}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Trans Liberation"}),s.jsx("p",{className:"text-gray-300",children:"Centering trans joy and safety in all we do"})]}),s.jsxs(k.div,{className:"text-center p-6 bg-white/5 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[s.jsx("div",{className:"text-4xl mb-4",children:"🤝"}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Cooperative Ownership"}),s.jsx("p",{className:"text-gray-300",children:"Community-owned, democratically governed"})]}),s.jsxs(k.div,{className:"text-center p-6 bg-white/5 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[s.jsx("div",{className:"text-4xl mb-4",children:"✊🏿"}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Black Power"}),s.jsx("p",{className:"text-gray-300",children:"Liberation through collective action"})]})]})]})}),s.jsx("footer",{className:"bg-slate-950 py-12",children:s.jsx("div",{className:"max-w-6xl mx-auto px-8 text-center",children:s.jsx("p",{className:"text-gray-400",children:"© 2024 BLKOUT - Community Platform | Liberation through Cooperation"})})})]}),Tx=()=>s.jsx(Mr,{}),wx=()=>s.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-6xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl mb-8",children:"Page not found"}),s.jsx(se,{to:"/",className:"text-blue-400 hover:text-blue-300",children:"← Back to Home"})]})});function Ax(){return s.jsx(no,{children:s.jsxs(Lr,{children:[s.jsx(Ex,{}),s.jsx(_x,{}),s.jsx(Nx,{}),s.jsx(oo,{}),s.jsxs(Rr,{children:[s.jsx(Q,{path:"/",element:s.jsx(jx,{})}),s.jsx(Q,{path:"/governance",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 via-violet-950 to-indigo-950",children:s.jsx(Tx,{})})}),s.jsx(Q,{path:"/movement",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-950 via-yellow-950 to-green-950",children:s.jsx(de,{children:s.jsx(xo,{})})})}),s.jsx(Q,{path:"/newsroom",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-gray-950 to-blue-950",children:s.jsx(de,{children:s.jsx(lh,{})})})}),s.jsx(Q,{path:"/events",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-950 via-orange-950 to-red-950",children:s.jsx(de,{children:s.jsx(gh,{})})})}),s.jsx(Q,{path:"/ivor",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-950 via-cyan-950 to-slate-950",children:s.jsx(_h,{})})}),s.jsx(Q,{path:"/live-events",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-950 via-orange-950 to-red-950",children:s.jsx(de,{children:s.jsx(Jg,{})})})}),s.jsx(Q,{path:"/dashboard",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-950 via-orange-950 to-red-950",children:s.jsx(de,{children:s.jsx(hx,{})})})}),s.jsx(Q,{path:"/ecosystem",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-slate-950",children:s.jsx(de,{children:s.jsx(ex,{})})})}),s.jsx(Q,{path:"/extension",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-950 via-cyan-950 to-slate-950",children:s.jsx(de,{children:s.jsx(tx,{})})})}),s.jsx(Q,{path:"/demo",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-slate-950",children:s.jsx(de,{children:s.jsx(ax,{})})})}),s.jsx(Q,{path:"/onboarding",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-slate-950",children:s.jsx(de,{children:s.jsx(nx,{})})})}),s.jsx(Q,{path:"/launch",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-slate-950",children:s.jsx(de,{children:s.jsx(ox,{})})})}),s.jsx(Q,{path:"/partnerships",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-950 via-orange-950 to-red-950",children:s.jsx(de,{children:s.jsx(cx,{})})})}),s.jsx(Q,{path:"/beta-flow",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-slate-950",children:s.jsx(de,{children:s.jsx(dx,{})})})}),s.jsx(Q,{path:"/amplification",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-gray-950 to-blue-950",children:s.jsx(de,{children:s.jsx(xx,{})})})}),s.jsx(Q,{path:"/launch-prep",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-slate-950",children:s.jsx(de,{children:s.jsx(fx,{})})})}),s.jsx(Q,{path:"/stakeholder-demo",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-slate-950",children:s.jsx(de,{children:s.jsx(yx,{})})})}),s.jsx(Q,{path:"/admin",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 via-violet-950 to-indigo-950",children:s.jsx(st,{children:s.jsx(vo,{})})})}),s.jsx(Q,{path:"/admin/moderation",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 via-violet-950 to-indigo-950",children:s.jsx(st,{children:s.jsx(ko,{})})})}),s.jsx(Q,{path:"/admin/events",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 via-violet-950 to-indigo-950",children:s.jsx(st,{children:s.jsx(wo,{})})})}),s.jsx(Q,{path:"/admin/newsroom",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 via-violet-950 to-indigo-950",children:s.jsx(st,{children:s.jsx(So,{})})})}),s.jsx(Q,{path:"/admin/governance",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 via-violet-950 to-indigo-950",children:s.jsx(st,{children:s.jsx(Pr,{})})})}),s.jsx(Q,{path:"/admin/migration",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-950 via-violet-950 to-indigo-950",children:s.jsx(st,{children:s.jsx(sh,{})})})}),s.jsx(Q,{path:"/newsroom/archive",element:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-gray-950 to-blue-950",children:s.jsx(bh,{})})}),s.jsx(Q,{path:"*",element:s.jsx(wx,{})})]}),s.jsx(fh,{})]})})}io.createRoot(document.getElementById("root")).render(s.jsx(Na.StrictMode,{children:s.jsx(Ax,{})}));
