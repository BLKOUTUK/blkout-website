import{j as e,m as h,A as B}from"./animations-Cue9YKi6.js";import{a as x,u as R,L as y}from"./vendor-BVyJE2tZ.js";import{S as T,X as V,M as $,T as F,I as z,Y as J,G as H,E as w,H as q,a as Y,L as I,b as E,R as L,B as W,C as Z,c as Q,d as K,e as U,F as C,V as X,A as ee,U as M,P as te,f as se,g as ae,h as re,i as D,j as ie,k as ne,l as O,m as oe,n as le,o as ce,p as de}from"./ui-DDVt6Vpt.js";import{c as me}from"./supabase-DkftpdyS.js";const ue="https://bgjengudzfickgomjqmz.supabase.co",he="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJnamVuZ3VkemZpY2tnb21qcW16Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2MTI3NjcsImV4cCI6MjA3MTE4ODc2N30.kYQ2oFuQBGmu4V_dnj_1zDMDVsd-qpDZJwNvswzO6M0",o=me(ue,he,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),N={async getCurrentUser(){const{data:{user:s},error:t}=await o.auth.getUser();return{user:s,error:t}},async signIn(s,t){const{data:a,error:m}=await o.auth.signInWithPassword({email:s,password:t});return{data:a,error:m}},async signOut(){const{error:s}=await o.auth.signOut();return{error:s}},async safeQuery(s){try{const t=await s();return t.error?(console.error("Supabase query error:",t.error),{data:null,error:t.error}):t}catch(t){return console.error("Unexpected error in Supabase query:",t),{data:null,error:t}}},async testConnection(){try{const{data:s,error:t}=await o.from("events").select("id").limit(1);return{connected:!t,error:t}}catch(s){return{connected:!1,error:s}}},async getEvents(s={}){let t=o.from("events").select("*").order("event_date",{ascending:!0});return s.status&&(t=t.eq("status",s.status)),s.category&&(t=t.ilike("tags",`%${s.category}%`)),s.location&&(t=t.ilike("location",`%${s.location}%`)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async createEvent(s){return this.safeQuery(()=>o.from("events").insert(s).select().single())},async updateEvent(s,t){return this.safeQuery(()=>o.from("events").update(t).eq("id",s).select().single())},async deleteEvent(s){return this.safeQuery(()=>o.from("events").delete().eq("id",s))},async getArticles(s={}){let t=o.from("newsroom_articles").select("*").order("published_at",{ascending:!1});return s.status&&(t=t.eq("status",s.status)),s.category&&(t=t.eq("category",s.category)),s.featured!==void 0&&(t=t.eq("featured",s.featured)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async createArticle(s){return this.safeQuery(()=>o.from("newsroom_articles").insert(s).select().single())},async updateArticle(s,t){return this.safeQuery(()=>o.from("newsroom_articles").update(t).eq("id",s).select().single())},async deleteArticle(s){return this.safeQuery(()=>o.from("newsroom_articles").delete().eq("id",s))},async getContacts(s={}){let t=o.from("contacts").select("*").order("created_at",{ascending:!1});return s.verified!==void 0&&(t=t.eq("verified",s.verified)),s.limit&&(t=t.limit(s.limit)),this.safeQuery(()=>t)},async createContact(s){return this.safeQuery(()=>o.from("contacts").insert(s).select().single())},subscribeToEvents(s){return o.channel("events-changes").on("postgres_changes",{event:"*",schema:"public",table:"events"},t=>{console.log("🔴 Event change detected:",t),s(t)}).subscribe()},subscribeToArticles(s){return o.channel("articles-changes").on("postgres_changes",{event:"*",schema:"public",table:"newsroom_articles"},t=>{console.log("📰 Article change detected:",t),s(t)}).subscribe()},async getCommunityStats(){const[s,t,a]=await Promise.all([this.safeQuery(()=>o.from("events").select("status, event_date")),this.safeQuery(()=>o.from("newsroom_articles").select("status, category")),this.safeQuery(()=>o.from("contacts").select("verified"))]),m=new Date().toISOString().split("T")[0];return{events:{total:s.data?.length||0,published:s.data?.filter(l=>l.status==="published").length||0,upcoming:s.data?.filter(l=>l.status==="published"&&l.event_date>=m).length||0},articles:{total:t.data?.length||0,published:t.data?.filter(l=>l.status==="published").length||0,byCategory:t.data?.reduce((l,n)=>(l[n.category]=(l[n.category]||0)+1,l),{})||{}},community:{totalContacts:a.data?.length||0,verifiedContacts:a.data?.filter(l=>l.verified).length||0}}},async uploadFile(s,t="articles"){const a=s.name.split(".").pop(),m=`${Math.random()}.${a}`,l=`${t}/${m}`,{data:n,error:c}=await o.storage.from("media").upload(l,s);if(c)return{data:null,error:c};const{data:{publicUrl:u}}=o.storage.from("media").getPublicUrl(l);return{data:{path:l,url:u},error:null}},async getGovernanceProposals(s={}){let t=o.from("governance_proposals_with_votes").select("*").order("created_at",{ascending:!1});return s.status&&(t=t.eq("status",s.status)),s.category&&(t=t.eq("category",s.category)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async createGovernanceProposal(s){const{user:t}=await this.getCurrentUser();if(!t)return{data:null,error:{message:"User must be authenticated to create proposals"}};const a={...s,proposer_id:t.id};return this.safeQuery(()=>o.from("governance_proposals").insert(a).select().single())},async updateGovernanceProposal(s,t){return this.safeQuery(()=>o.from("governance_proposals").update(t).eq("id",s).select().single())},async voteOnProposal(s,t,a){const{user:m}=await this.getCurrentUser();if(!m)return{data:null,error:{message:"User must be authenticated to vote"}};const l={proposal_id:s,voter_id:m.id,vote:t,comment:a};return this.safeQuery(()=>o.from("proposal_votes").upsert(l,{onConflict:"proposal_id,voter_id"}).select().single())},async getCommunityMeetings(s={}){let t=o.from("community_meetings").select("*").order("date",{ascending:!1});return s.type&&(t=t.eq("type",s.type)),s.status&&(t=t.eq("status",s.status)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async createCommunityMeeting(s){const{user:t}=await this.getCurrentUser(),a={...s,created_by:t?.id};return this.safeQuery(()=>o.from("community_meetings").insert(a).select().single())},async updateCommunityMeeting(s,t){return this.safeQuery(()=>o.from("community_meetings").update(t).eq("id",s).select().single())},async getGovernanceDocuments(s={}){let t=o.from("governance_documents").select("*").order("uploaded_date",{ascending:!1});return s.type&&(t=t.eq("type",s.type)),s.status&&(t=t.eq("status",s.status)),s.meetingId&&(t=t.eq("meeting_id",s.meetingId)),s.proposalId&&(t=t.eq("proposal_id",s.proposalId)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async uploadGovernanceDocument(s){const{user:t}=await this.getCurrentUser(),a={...s,uploaded_by:t?.id,uploaded_by_name:t?.user_metadata?.full_name||t?.email||"Unknown User"};return this.safeQuery(()=>o.from("governance_documents").insert(a).select().single())},async updateGovernanceDocument(s,t){return this.safeQuery(()=>o.from("governance_documents").update(t).eq("id",s).select().single())},async deleteGovernanceDocument(s){return this.safeQuery(()=>o.from("governance_documents").delete().eq("id",s))},async getCommunityMembers(s={}){let t=o.from("community_members").select("*").order("contribution_score",{ascending:!1});return s.role&&(t=t.eq("role",s.role)),s.verified!==void 0&&(t=t.eq("verified",s.verified)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async updateCommunityMember(s,t){return this.safeQuery(()=>o.from("community_members").update(t).eq("id",s).select().single())},async getProposalDiscussions(s){return this.safeQuery(()=>o.from("proposal_discussions").select("*").eq("proposal_id",s).order("created_at",{ascending:!0}))},async createProposalDiscussion(s){const{user:t}=await this.getCurrentUser(),a={...s,user_id:t?.id,user_name:t?.user_metadata?.full_name||t?.email||"Anonymous"};return this.safeQuery(()=>o.from("proposal_discussions").insert(a).select().single())},subscribeToProposals(s){return o.channel("governance-proposals-changes").on("postgres_changes",{event:"*",schema:"public",table:"governance_proposals"},t=>{console.log("🏛️ Governance proposal change detected:",t),s(t)}).on("postgres_changes",{event:"*",schema:"public",table:"proposal_votes"},t=>{console.log("🗳️ Proposal vote change detected:",t),s(t)}).subscribe()},subscribeToMeetings(s){return o.channel("community-meetings-changes").on("postgres_changes",{event:"*",schema:"public",table:"community_meetings"},t=>{console.log("📅 Community meeting change detected:",t),s(t)}).subscribe()},subscribeToDocuments(s){return o.channel("governance-documents-changes").on("postgres_changes",{event:"*",schema:"public",table:"governance_documents"},t=>{console.log("📄 Governance document change detected:",t),s(t)}).subscribe()},subscribeToDiscussions(s,t){return o.channel(`proposal-discussions-${s}`).on("postgres_changes",{event:"*",schema:"public",table:"proposal_discussions",filter:`proposal_id=eq.${s}`},a=>{console.log("💬 Proposal discussion change detected:",a),t(a)}).subscribe()},async getGovernanceStats(){const[s,t,a,m]=await Promise.all([this.safeQuery(()=>o.rpc("calculate_proposal_stats")),this.safeQuery(()=>o.from("community_members").select("role, verified, contribution_score")),this.safeQuery(()=>o.from("community_meetings").select("status, type, date")),this.safeQuery(()=>o.from("governance_documents").select("type, status, is_public"))]),l=new Date().toISOString().split("T")[0];return{proposals:s.data?.[0]||{total_proposals:0,active_proposals:0,approved_proposals:0,average_participation:0,total_eligible_voters:0},members:{total:t.data?.length||0,verified:t.data?.filter(n=>n.verified).length||0,byRole:t.data?.reduce((n,c)=>(n[c.role]=(n[c.role]||0)+1,n),{})||{},averageContribution:t.data?.reduce((n,c)=>n+(c.contribution_score||0),0)/(t.data?.length||1)||0},meetings:{total:a.data?.length||0,completed:a.data?.filter(n=>n.status==="completed").length||0,upcoming:a.data?.filter(n=>n.status==="scheduled"&&n.date>=l).length||0,byType:a.data?.reduce((n,c)=>(n[c.type]=(n[c.type]||0)+1,n),{})||{}},documents:{total:m.data?.length||0,published:m.data?.filter(n=>n.status==="published").length||0,public:m.data?.filter(n=>n.is_public).length||0,byType:m.data?.reduce((n,c)=>(n[c.type]=(n[c.type]||0)+1,n),{})||{}}}}},A=[{name:"Liberation Journey",href:"https://journey-blkout.vercel.app",description:"Interactive liberation storytelling experience",external:!0},{name:"Latest Issue",href:"/platform",description:"Current stories and featured content"},{name:"Story Archive",href:"/stories",description:"Complete archive of stories and analysis"},{name:"I.V.O.R.",href:"/ivor",description:"AI assistant and resource finder"},{name:"Events",href:"/events",description:"Community events calendar"},{name:"Newsroom",href:"/newsroom",description:"News analysis and community updates"},{name:"Governance",href:"/governance",description:"Community governance and cooperative democracy"},{name:"Our Movement",href:"/movement",description:"Movement principles and community values"},{name:"Join Discussion",href:"/discussions",description:"Community discussions and conversations"},{name:"Media",href:"/media",description:"Community media platforms",submenu:[{name:"Channel BLKOUT",href:"/media/channel",description:"Video content and live streaming"},{name:"Storylab",href:"/media/storylab",description:"Community storytelling platform"}]}];function xe({className:s=""}){const[t,a]=x.useState(!1),[m,l]=x.useState(""),n=i=>{i.preventDefault(),m.trim()&&(window.location.href=`/stories?search=${encodeURIComponent(m.trim())}`)},c=R(),u=i=>i==="/platform"?c.pathname==="/platform":c.pathname.startsWith(i);return e.jsx("nav",{role:"navigation","aria-label":"Main navigation",className:`bg-indigo-950 border-b border-indigo-800/30 sticky top-0 z-50 backdrop-blur-sm ${s}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 lg:h-20",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(y,{to:"/",className:"flex items-center space-x-2 text-white font-bold text-lg sm:text-xl lg:text-2xl hover:text-indigo-200 transition-colors focus-enhanced","aria-label":"BLKOUT Home",children:[e.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-electric-cyan to-electric-magenta rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs sm:text-sm font-black text-white",children:"B"})}),e.jsx("span",{className:"hidden sm:inline",children:"BLKOUT"})]})}),e.jsx("div",{className:"hidden lg:flex items-center space-x-8",children:A.map(i=>e.jsxs("div",{className:"relative group",children:[i.external?e.jsx("a",{href:i.href,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 text-sm font-medium text-indigo-200 hover:text-white hover:bg-indigo-800/30 rounded-md transition-colors duration-200 focus-enhanced",children:i.name}):e.jsx(y,{to:i.href,className:`px-3 py-2 text-sm font-medium transition-colors duration-200 focus-enhanced ${u(i.href)?"text-white bg-indigo-800/50 rounded-md":"text-indigo-200 hover:text-white hover:bg-indigo-800/30 rounded-md"}`,children:i.name}),i.children&&e.jsx("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:e.jsx("div",{className:"py-1",children:i.children.map(p=>e.jsx(y,{to:p.href,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors focus-enhanced",target:p.external?"_blank":void 0,rel:p.external?"noopener noreferrer":void 0,children:p.name},p.name))})})]},i.name))}),e.jsx("div",{className:"hidden lg:flex items-center space-x-4",children:e.jsxs("form",{onSubmit:n,className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search stories...",value:m,onChange:i=>l(i.target.value),className:"w-64 px-4 py-2 text-sm bg-indigo-900/50 border border-indigo-700 rounded-lg text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),e.jsx("button",{type:"submit",className:"absolute right-3 top-2.5 text-indigo-300 hover:text-white transition-colors",children:e.jsx(T,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"lg:hidden",children:e.jsx("button",{onClick:()=>a(!t),className:"touch-target text-indigo-200 hover:text-white focus-enhanced rounded-md","aria-expanded":t,"aria-label":"Toggle main menu",children:t?e.jsx(V,{className:"w-5 h-5"}):e.jsx($,{className:"w-5 h-5"})})})]}),t&&e.jsx("div",{className:"lg:hidden border-t border-indigo-800/30",children:e.jsxs("div",{className:"py-4 space-y-1",children:[e.jsx("div",{className:"px-2 pb-4",children:e.jsxs("form",{onSubmit:n,className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search stories...",value:m,onChange:i=>l(i.target.value),className:"w-full px-4 py-3 text-sm bg-indigo-900/50 border border-indigo-700 rounded-lg text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),e.jsx("button",{type:"submit",className:"absolute right-3 top-3.5 text-indigo-300 hover:text-white transition-colors",children:e.jsx(T,{className:"w-4 h-4"})})]})}),A.map(i=>e.jsxs("div",{children:[i.external?e.jsx("a",{href:i.href,target:"_blank",rel:"noopener noreferrer",className:"block px-4 py-3 text-base font-medium text-indigo-200 hover:text-white hover:bg-indigo-800/30 transition-colors duration-200 touch-target focus-enhanced",onClick:()=>a(!1),children:i.name}):e.jsx(y,{to:i.href,className:`block px-4 py-3 text-base font-medium transition-colors duration-200 touch-target focus-enhanced ${u(i.href)?"text-white bg-indigo-800/50 border-l-4 border-electric-cyan":"text-indigo-200 hover:text-white hover:bg-indigo-800/30"}`,onClick:()=>a(!1),children:i.name}),i.children&&e.jsx("div",{className:"pl-6 space-y-1",children:i.children.map(p=>e.jsx(y,{to:p.href,className:"block px-4 py-2 text-sm text-indigo-300 hover:text-white hover:bg-indigo-800/20 transition-colors touch-target focus-enhanced",target:p.external?"_blank":void 0,rel:p.external?"noopener noreferrer":void 0,onClick:()=>a(!1),children:p.name},p.name))})]},i.name)),e.jsxs("div",{className:"px-4 pt-4 border-t border-indigo-800/30 space-y-3",children:[e.jsx(y,{to:"/newsroom",className:"block w-full py-3 px-4 text-center text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg hover:opacity-90 transition-opacity touch-target focus-enhanced",onClick:()=>a(!1),children:"📰 Read Newsroom"}),e.jsx(y,{to:"/community",className:"block w-full py-3 px-4 text-center text-sm font-medium text-white bg-gradient-to-r from-electric-cyan to-electric-magenta rounded-lg hover:opacity-90 transition-opacity touch-target focus-enhanced",onClick:()=>a(!1),children:"Join Community"})]})]})})]})})}function pe(){return e.jsxs("footer",{className:"relative bg-gradient-to-br from-indigo-950 via-slate-950 to-indigo-900 border-t border-indigo-800/30",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute top-1/2 left-1/4 w-64 h-64 bg-indigo-500 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-1/3 w-48 h-48 bg-violet-500 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-8 py-16",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("h3",{className:"text-3xl font-black text-white heading-block mb-4 uppercase",children:[e.jsx("span",{className:"bg-gradient-to-r from-indigo-400 to-violet-400 bg-clip-text text-transparent",children:"BLKOUT"}),e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-blue-400 bg-clip-text text-transparent ml-2",children:"PLATFORM"})]}),e.jsx("p",{className:"text-lg text-indigo-200 mb-8 leading-relaxed font-light max-w-md",children:"Building liberation together through authentic community spaces, radical storytelling, and collective action for Black queer men."}),e.jsx("div",{className:"flex space-x-4",children:[{icon:F,label:"Twitter",href:"https://twitter.com/blkoutuk"},{icon:z,label:"Instagram",href:"https://instagram.com/blkoutuk"},{icon:J,label:"YouTube",href:"https://youtube.com/@blkoutuk"},{icon:H,label:"GitHub",href:"https://github.com/blkoutuk"}].map((s,t)=>e.jsx(h.a,{href:s.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},className:"w-12 h-12 bg-indigo-800/50 hover:bg-indigo-700/70 border border-indigo-600/30 flex items-center justify-center transition-all duration-300","aria-label":s.label,children:e.jsx(s.icon,{className:"w-5 h-5 text-indigo-300"})},t))})]})}),e.jsx("div",{children:e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[e.jsx("h4",{className:"text-lg font-black text-white heading-block mb-6 uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-slate-400 to-indigo-400 bg-clip-text text-transparent",children:"PLATFORM"})}),e.jsx("ul",{className:"space-y-4",children:[{label:"Stories",href:"/stories"},{label:"Community",href:"/community"},{label:"Events",href:"/events"},{label:"I.V.O.R. Resources",href:"/ivor"},{label:"Media Hub",href:"/media"},{label:"Movement",href:"/movement"}].map((s,t)=>e.jsx("li",{children:e.jsxs(y,{to:s.href,className:"text-indigo-200 hover:text-white font-medium transition-colors duration-300 flex items-center group",children:[s.label,e.jsx(w,{className:"w-3 h-3 ml-2 opacity-0 group-hover:opacity-100 transition-opacity"})]})},t))})]})}),e.jsx("div",{children:e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[e.jsx("h4",{className:"text-lg font-black text-white heading-block mb-6 uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-violet-400 bg-clip-text text-transparent",children:"COMMUNITY"})}),e.jsxs("ul",{className:"space-y-4",children:[[{label:"Join BLKOUTHUB",href:"/community"},{label:"Discussions",href:"/discussions"},{label:"Newsletter",href:"#newsletter"},{label:"Support",href:"#support"},{label:"Governance",href:"/governance"}].map((s,t)=>e.jsx("li",{children:e.jsxs(y,{to:s.href,className:"text-indigo-200 hover:text-white font-medium transition-colors duration-300 flex items-center group",children:[s.label,e.jsx(w,{className:"w-3 h-3 ml-2 opacity-0 group-hover:opacity-100 transition-opacity"})]})},t)),e.jsx("li",{children:e.jsxs(y,{to:"/",className:"text-indigo-200 hover:text-white font-medium transition-colors duration-300 flex items-center group",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"About BLKOUT",e.jsx(w,{className:"w-3 h-3 ml-2 opacity-0 group-hover:opacity-100 transition-opacity"})]})})]})]})}),e.jsx("div",{children:e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.25},children:[e.jsx("h4",{className:"text-lg font-black text-white heading-block mb-6 uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"MEDIA"})}),e.jsx("ul",{className:"space-y-4",children:[{label:"Channel BLKOUT",href:"/media/channel"},{label:"Storylab",href:"/media/storylab"},{label:"Newsroom",href:"/media/newsroom"},{label:"Media Hub",href:"/media"}].map((s,t)=>e.jsx("li",{children:e.jsxs(y,{to:s.href,className:"text-indigo-200 hover:text-white font-medium transition-colors duration-300 flex items-center group",children:[s.label,e.jsx(w,{className:"w-3 h-3 ml-2 opacity-0 group-hover:opacity-100 transition-opacity"})]})},t))})]})})]}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"border-t border-indigo-800/30 pt-12 mb-12",id:"newsletter",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("h4",{className:"text-2xl font-black text-white heading-block mb-4 uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent",children:"STAY CONNECTED"})}),e.jsx("p",{className:"text-indigo-200 mb-8 font-light",children:"Get the latest stories, resources, and community updates delivered to your inbox."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-6 py-3 bg-indigo-900/50 border border-indigo-700/50 text-white placeholder-indigo-300 focus:outline-none focus:border-indigo-500 font-light"}),e.jsxs(h.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-8 py-3 bg-gradient-to-r from-indigo-600 to-violet-600 text-white font-bold hover:from-indigo-500 hover:to-violet-500 transition-all heading-block uppercase flex items-center justify-center",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"SUBSCRIBE"]})]})]})}),e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"border-t border-indigo-800/30 pt-8 flex flex-col md:flex-row justify-between items-center",children:[e.jsx("div",{className:"text-indigo-300 text-sm font-light mb-4 md:mb-0",children:"© 2025 BLKOUT Platform. Building liberation together."}),e.jsx("div",{className:"flex items-center space-x-6 text-sm",children:[{label:"Terms",href:"#terms"},{label:"Privacy",href:"#privacy"},{label:"Accessibility",href:"#accessibility"},{label:"Contact",href:"#contact"}].map((s,t)=>e.jsx("a",{href:s.href,className:"text-indigo-300 hover:text-white transition-colors font-light",children:s.label},t))})]})]})]})}const ge={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},_={indigo:"text-indigo-400 border-indigo-400",emerald:"text-emerald-400 border-emerald-400",yellow:"text-yellow-400 border-yellow-400",violet:"text-violet-400 border-violet-400",amber:"text-amber-400 border-amber-400"},be=({size:s="md",variant:t="default",color:a="indigo",text:m,fullScreen:l=!1,className:n=""})=>{const c=()=>{const i=`${ge[s]} ${_[a]} ${n}`;switch(t){case"pulse":return e.jsx(h.div,{className:`${i} rounded-full bg-current`,animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}});case"dots":return e.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(p=>e.jsx(h.div,{className:`w-2 h-2 ${_[a].split(" ")[0]} rounded-full bg-current`,animate:{y:[0,-8,0],opacity:[.7,1,.7]},transition:{duration:.6,repeat:1/0,delay:p*.1,ease:"easeInOut"}},p))});case"spinner":return e.jsx(h.div,{className:`${i} border-2 border-current border-t-transparent rounded-full`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}});default:return e.jsx(h.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(I,{className:i})})}},u=e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[c(),m&&e.jsx(h.p,{className:`text-sm font-medium ${_[a].split(" ")[0]} uppercase tracking-wider`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:m})]});return l?e.jsx(h.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700/40 rounded-2xl p-8",children:u})}):u};class S extends x.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("Error caught by boundary:",t,a),this.setState({error:t,errorInfo:a}),this.props.onError&&this.props.onError(t,a)}handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};handleGoHome=()=>{window.location.href="/"};handleReportError=()=>{const t={error:this.state.error?.message,stack:this.state.error?.stack,componentStack:this.state.errorInfo?.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.error("Error Report:",t),alert("Error report logged to console. Please contact support if the issue persists.")};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-950 via-red-900 to-gray-900 flex items-center justify-center px-4",children:e.jsxs(h.div,{className:"max-w-2xl w-full bg-red-900/30 backdrop-blur-sm border border-red-700/30 rounded-2xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("div",{className:"bg-red-800/30 px-8 py-6 border-b border-red-700/30",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-600/30 rounded-2xl flex items-center justify-center",children:e.jsx(E,{className:"w-8 h-8 text-red-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white heading-block uppercase",children:"Something Went Wrong"}),e.jsx("p",{className:"text-red-200 mt-1",children:"The application encountered an unexpected error"})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"What happened?"}),e.jsx("div",{className:"bg-red-800/20 border border-red-600/30 rounded-lg p-4",children:e.jsx("p",{className:"text-red-200 text-sm font-mono",children:this.state.error?.message||"An unknown error occurred"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"What can you do?"}),e.jsxs("ul",{className:"text-red-200 space-y-2",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"Try refreshing the page or retrying the action"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"Check your internet connection"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"Contact support if the problem persists"})]})]})]}),!1]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8 pt-6 border-t border-red-700/30",children:[e.jsxs(h.button,{onClick:this.handleRetry,className:"flex items-center justify-center px-6 py-3 bg-red-600 hover:bg-red-500 text-white font-semibold rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(L,{className:"w-5 h-5 mr-2"}),"Try Again"]}),e.jsxs(h.button,{onClick:this.handleGoHome,className:"flex items-center justify-center px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(q,{className:"w-5 h-5 mr-2"}),"Go Home"]}),e.jsxs(h.button,{onClick:this.handleReportError,className:"flex items-center justify-center px-6 py-3 bg-transparent border border-red-600/50 hover:bg-red-600/10 text-red-300 font-semibold rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(W,{className:"w-5 h-5 mr-2"}),"Report Issue"]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-red-700/30 text-center",children:e.jsx("p",{className:"text-red-300 text-sm",children:"If this error persists, please contact the BLKOUT technical team"})})]})]})}):this.props.children}}function fe({pageName:s,dependencies:t,onDependencyTest:a}){const[m,l]=x.useState(!1),[n,c]=x.useState([]);x.useEffect(()=>{const d=t.map(f=>({name:f,status:"checking"}));c(d),(async()=>{for(const f of t)try{let g=!0;if(f==="Supabase"){const j="https://bgjengudzfickgomjqmz.supabase.co",b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJnamVuZ3VkemZpY2tnb21qcW16Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2MTI3NjcsImV4cCI6MjA3MTE4ODc2N30.kYQ2oFuQBGmu4V_dnj_1zDMDVsd-qpDZJwNvswzO6M0";g=(await fetch(`${j}/rest/v1/`,{headers:{apikey:b,Authorization:`Bearer ${b}`}})).ok}else f==="API Client"?g=(await fetch("/api/health").catch(()=>({ok:!1}))).ok:a&&(g=await a(f));c(j=>j.map(b=>b.name===f?{...b,status:g?"success":"failed"}:b))}catch(g){c(j=>j.map(b=>b.name===f?{...b,status:"failed",error:g instanceof Error?g.message:"Unknown error"}:b))}})()},[t,a]);const u=d=>{switch(d){case"checking":return e.jsx(I,{className:"w-4 h-4 animate-spin text-yellow-500"});case"success":return e.jsx(Q,{className:"w-4 h-4 text-green-500"});case"failed":return e.jsx(Z,{className:"w-4 h-4 text-red-500"})}},i=n.some(d=>d.status==="failed"),p=n.some(d=>d.status==="checking");return!i&&!p?null:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>l(!m),className:`fixed top-4 left-4 z-50 p-2 rounded-lg shadow-lg transition-all ${i?"bg-red-600 text-white":"bg-yellow-600 text-white"}`,children:i?e.jsx(E,{className:"w-5 h-5"}):e.jsx(I,{className:"w-5 h-5 animate-spin"})}),m&&e.jsxs("div",{className:"fixed top-16 left-4 right-4 md:right-auto md:w-96 bg-white border border-gray-300 rounded-lg shadow-xl z-40 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-bold text-gray-900",children:["Debug: ",s," Loading Issues"]}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsx("div",{className:"space-y-3",children:n.map(d=>e.jsxs("div",{className:"flex items-center space-x-3",children:[u(d.status),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.name}),d.error&&e.jsx("div",{className:"text-xs text-red-600 mt-1",children:d.error})]})]},d.name))}),i&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-red-800",children:[e.jsx("div",{className:"font-medium",children:"Page Loading Issues Detected"}),e.jsx("div",{className:"mt-1",children:"This page may not function correctly due to dependency failures."})]})]})}),e.jsxs("div",{className:"mt-4 flex space-x-2",children:[e.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center space-x-1 px-3 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Retry"})]}),e.jsx("button",{onClick:()=>window.history.back(),className:"px-3 py-1.5 bg-gray-200 text-gray-800 rounded text-sm hover:bg-gray-300",children:"Go Back"})]})]})]})}const ye=(s={})=>{const[t,a]=x.useState([]),[m,l]=x.useState(!0),[n,c]=x.useState(null),u=x.useCallback(async()=>{try{l(!0),c(null);const d=await N.getGovernanceProposals(s);if(d.error)throw new Error(d.error.message||"Failed to fetch proposals");a(d.data||[])}catch(d){c(d instanceof Error?d.message:"Unknown error")}finally{l(!1)}},[s]);return x.useEffect(()=>{u();const d=N.subscribeToProposals(()=>{u()});return()=>{d.unsubscribe()}},[u]),{proposals:t,loading:m,error:n,refetch:u,createProposal:async d=>{try{const v=await N.createGovernanceProposal(d);if(v.error)throw new Error(v.error.message||"Failed to create proposal");return await u(),v.data}catch(v){throw v}},voteOnProposal:async(d,v,f)=>{try{const g=await N.voteOnProposal(d,v,f);if(g.error)throw new Error(g.error.message||"Failed to vote on proposal");return await u(),g.data}catch(g){throw g}}}},ve=(s={})=>{const[t,a]=x.useState([]),[m,l]=x.useState(!0),[n,c]=x.useState(null),u=x.useCallback(async()=>{try{l(!0),c(null);const i=await N.getCommunityMembers(s);if(i.error)throw new Error(i.error.message||"Failed to fetch community members");a(i.data||[])}catch(i){c(i instanceof Error?i.message:"Unknown error")}finally{l(!1)}},[s]);return x.useEffect(()=>{u()},[u]),{members:t,loading:m,error:n,refetch:u}},je=()=>{const[s,t]=x.useState(null),[a,m]=x.useState(!0),[l,n]=x.useState(null),c=x.useCallback(async()=>{try{m(!0),n(null);const u=await N.getGovernanceStats();t(u)}catch(u){n(u instanceof Error?u.message:"Failed to fetch governance stats")}finally{m(!1)}},[]);return x.useEffect(()=>{c();const u=setInterval(c,300*1e3);return()=>clearInterval(u)},[c]),{stats:s,loading:a,error:l,refetch:c}},Ne=["Black queer liberation first","Cooperative ownership","Authentic community building","Digital sovereignty","Trust-based development"],Se=()=>{const[s,t]=x.useState("proposals"),[a,m]=x.useState("all"),[l,n]=x.useState(!1),{proposals:c,loading:u,error:i,voteOnProposal:p}=ye({category:a==="all"?void 0:a,limit:50}),{stats:d,loading:v}=je(),{members:f,loading:g}=ve({verified:!0,limit:20});if(u||v||g)return e.jsx(S,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900 flex items-center justify-center",children:e.jsx(be,{size:"lg",color:"purple",text:"Loading governance dashboard..."})})});if(i)return e.jsx(S,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx(K,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Error Loading Governance Data"}),e.jsx("p",{className:"text-indigo-300",children:i})]})})});const j=r=>{switch(r){case"draft":return"text-gray-400 bg-gray-900/20";case"discussion":return"text-blue-400 bg-blue-900/20";case"voting":return"text-amber-400 bg-amber-900/20";case"approved":return"text-emerald-400 bg-emerald-900/20";case"rejected":return"text-red-400 bg-red-900/20";case"implemented":return"text-purple-400 bg-purple-900/20";default:return"text-gray-400 bg-gray-900/20"}},b=r=>{switch(r){case"policy":return de;case"budget":return ce;case"platform":return le;case"community":return M;case"values":return O;default:return C}},P=r=>{switch(r){case"low":return"text-green-400";case"medium":return"text-yellow-400";case"high":return"text-orange-400";case"critical":return"text-red-400";default:return"text-gray-400"}};return e.jsxs(S,{children:[e.jsx(fe,{pageName:"Community Governance",dependencies:["Supabase","Governance Hooks","Community Members"]}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900",children:[e.jsx(xe,{}),e.jsxs("section",{className:"relative py-20 bg-gradient-to-br from-purple-950 via-indigo-950 to-emerald-950 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-purple-500 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-emerald-500 rounded-full blur-3xl animate-pulse"})]}),e.jsx("div",{className:"relative z-10 max-w-6xl mx-auto px-8 text-center",children:e.jsxs(h.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsxs("div",{className:"flex items-center justify-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-emerald-600 flex items-center justify-center mr-6",children:e.jsx(U,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black heading-block uppercase",children:[e.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-emerald-400 bg-clip-text text-transparent",children:"Community"}),e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-indigo-400 bg-clip-text text-transparent ml-2",children:"Governance"})]}),e.jsx("p",{className:"text-purple-300 font-mono uppercase tracking-wider text-sm",children:"COOPERATIVE DEMOCRACY IN ACTION"})]})]}),e.jsx("p",{className:"text-xl md:text-2xl text-indigo-100 max-w-4xl mx-auto leading-relaxed font-light mb-8",children:"Our community makes decisions together. Every voice matters, every vote counts, and every decision is transparent. This is cooperative democracy built on trust, liberation, and collective power."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-purple-900/30 backdrop-blur-sm border border-purple-700/30 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:d?.proposals?.active_proposals||0}),e.jsx("div",{className:"text-sm text-purple-300",children:"Active Proposals"})]}),e.jsxs("div",{className:"bg-emerald-900/30 backdrop-blur-sm border border-emerald-700/30 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:d?.members?.verified||0}),e.jsx("div",{className:"text-sm text-emerald-300",children:"Verified Members"})]}),e.jsxs("div",{className:"bg-amber-900/30 backdrop-blur-sm border border-amber-700/30 p-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:[d?.proposals?.average_participation?.toFixed(1)||"0","%"]}),e.jsx("div",{className:"text-sm text-amber-300",children:"Participation Rate"})]}),e.jsxs("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:[((d?.documents?.public||0)/Math.max(d?.documents?.total||1,1)*100).toFixed(0),"%"]}),e.jsx("div",{className:"text-sm text-indigo-300",children:"Decision Transparency"})]})]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-12",children:[e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:e.jsx("nav",{className:"flex space-x-1 bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-2",children:[{id:"proposals",label:"Active Proposals",icon:C},{id:"voting",label:"Current Votes",icon:X},{id:"decisions",label:"Past Decisions",icon:ee},{id:"participation",label:"Member Participation",icon:M}].map(r=>e.jsxs("button",{onClick:()=>t(r.id),className:`flex items-center space-x-2 px-6 py-3 rounded-lg transition-all duration-300 ${s===r.id?"bg-purple-600 text-white shadow-lg":"text-indigo-200 hover:text-white hover:bg-indigo-800/50"}`,children:[e.jsx(r.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:r.label})]},r.id))})}),e.jsxs(B,{mode:"wait",children:[s==="proposals"&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.5},children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-3xl font-black heading-block uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-indigo-400 bg-clip-text text-transparent",children:"Community Proposals"})}),e.jsxs("button",{onClick:()=>n(!0),className:"bg-gradient-to-r from-purple-500 to-emerald-500 hover:from-purple-400 hover:to-emerald-400 text-white font-bold px-6 py-3 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center space-x-2",children:[e.jsx(te,{className:"w-5 h-5"}),e.jsx("span",{children:"New Proposal"})]})]}),e.jsx("div",{className:"mb-6 flex flex-wrap gap-3",children:["all","policy","budget","platform","community","values"].map(r=>e.jsx("button",{onClick:()=>m(r),className:`px-4 py-2 rounded-lg transition-all duration-300 ${a===r?"bg-purple-600 text-white":"bg-indigo-900/30 text-indigo-200 hover:bg-indigo-800/50 hover:text-white"}`,children:r.charAt(0).toUpperCase()+r.slice(1)},r))}),e.jsx("div",{className:"space-y-6",children:c&&c.length>0?c.filter(r=>a==="all"||r.category===a).map((r,k)=>{const G=b(r.category);return e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:k*.1},className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-6 hover:bg-indigo-800/30 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600/20 flex items-center justify-center",children:e.jsx(G,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1 group-hover:text-purple-300 transition-colors",children:r.title}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(r.status)}`,children:r.status.toUpperCase()}),e.jsxs("span",{className:"text-indigo-300",children:["by ",r.proposer_name||r.proposer]}),e.jsxs("span",{className:`${P(r.community_impact)} font-medium`,children:[r.community_impact.toUpperCase()," IMPACT"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-indigo-300 mb-1",children:new Date(r.created_at).toLocaleDateString()}),r.voting_deadline&&e.jsxs("div",{className:"text-xs text-amber-400 font-medium",children:["Voting ends: ",new Date(r.voting_deadline).toLocaleDateString()]})]})]}),e.jsx("p",{className:"text-indigo-100 mb-4 line-clamp-2",children:r.description}),r.status==="voting"&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-indigo-300",children:"Voting Progress"}),e.jsxs("span",{className:"text-sm text-indigo-300",children:[r.participation_rate?.toFixed(1)||"0","% participation"]})]}),e.jsx("div",{className:"w-full bg-indigo-900/50 rounded-full h-2 mb-3",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${r.participation_rate||0}%`}})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(se,{className:"w-4 h-4 text-emerald-400"}),e.jsx("span",{className:"text-emerald-400 font-medium",children:r.votes_for||0})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-red-400 font-medium",children:r.votes_against||0})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(re,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-400 font-medium",children:r.votes_abstain||0})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(D,{className:"w-4 h-4 text-indigo-400"}),e.jsxs("span",{className:"text-indigo-400",children:[r.discussion_count||0," comments"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:"bg-purple-600/20 hover:bg-purple-600/30 text-purple-300 px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{children:"View Details"})]}),e.jsxs("button",{className:"bg-indigo-600/20 hover:bg-indigo-600/30 text-indigo-300 px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:"Join Discussion"})]})]}),r.status==="voting"&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>p(r.id,"for"),className:"bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-300 px-4 py-2 rounded-lg transition-colors",children:"Support"}),e.jsx("button",{onClick:()=>p(r.id,"against"),className:"bg-red-600/20 hover:bg-red-600/30 text-red-300 px-4 py-2 rounded-lg transition-colors",children:"Oppose"})]})]})]},r.id)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(C,{className:"w-16 h-16 text-indigo-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No proposals found"}),e.jsx("p",{className:"text-indigo-300 mb-4",children:"Be the first to submit a proposal to help shape our community's future."}),e.jsx("button",{onClick:()=>n(!0),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-lg transition-colors",children:"Submit First Proposal"})]})})]},"proposals"),s==="participation"&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.5},children:[e.jsx("h2",{className:"text-3xl font-black heading-block uppercase mb-8",children:e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-indigo-400 bg-clip-text text-transparent",children:"Community Participation"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ne,{className:"w-6 h-6 text-emerald-400 mr-3"}),"Participation Metrics"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-emerald-400",children:[d?.proposals?.average_participation?.toFixed(1)||"0","%"]}),e.jsx("div",{className:"text-sm text-indigo-300",children:"Average Participation"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-400",children:d?.members?.verified||0}),e.jsx("div",{className:"text-sm text-indigo-300",children:"Active Members"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-indigo-300",children:"Policy Decisions"}),e.jsx("span",{className:"text-white font-medium",children:"84%"})]}),e.jsx("div",{className:"w-full bg-indigo-900/50 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-purple-500 h-2 rounded-full",style:{width:"84%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-indigo-300",children:"Budget Votes"}),e.jsx("span",{className:"text-white font-medium",children:"67%"})]}),e.jsx("div",{className:"w-full bg-indigo-900/50 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-purple-500 h-2 rounded-full",style:{width:"67%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-indigo-300",children:"Community Proposals"}),e.jsx("span",{className:"text-white font-medium",children:"91%"})]}),e.jsx("div",{className:"w-full bg-indigo-900/50 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-purple-500 h-2 rounded-full",style:{width:"91%"}})})]})]})]}),e.jsxs("div",{className:"bg-emerald-900/30 backdrop-blur-sm border border-emerald-700/30 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[e.jsx(O,{className:"w-6 h-6 text-emerald-400 mr-3"}),"Community Values in Action"]}),e.jsx("div",{className:"space-y-3",children:Ne.map((r,k)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Q,{className:"w-5 h-5 text-emerald-400"}),e.jsx("span",{className:"text-emerald-100 font-medium",children:r})]},k))})]})]}),e.jsxs("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[e.jsx(oe,{className:"w-6 h-6 text-indigo-400 mr-3"}),"Community Leaders"]}),e.jsx("div",{className:"space-y-4",children:f.map(r=>e.jsxs("div",{className:"border border-indigo-700/20 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-medium text-white",children:r.name}),e.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${r.role==="council"?"bg-purple-600/20 text-purple-300":r.role==="moderator"?"bg-emerald-600/20 text-emerald-300":"bg-indigo-600/20 text-indigo-300"}`,children:r.role.toUpperCase()})]}),e.jsxs("div",{className:"text-sm text-indigo-300 mb-2",children:["Contribution Score: ",r.contribution_score]}),e.jsxs("div",{className:"text-xs text-indigo-400",children:["Last active: ",new Date(r.last_active).toLocaleDateString()]})]},r.id))})]})]})]},"participation")]}),e.jsx(h.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"mt-16 bg-gradient-to-br from-purple-900 via-indigo-900 to-emerald-900 p-8 border border-purple-600/30",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(h.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:1},children:e.jsx(U,{className:"w-16 h-16 text-purple-400 mx-auto mb-6"})}),e.jsx("h3",{className:"text-3xl font-black heading-block mb-6 uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-purple-300 to-emerald-300 bg-clip-text text-transparent",children:"Democracy is a Practice, Not a Theory"})}),e.jsx("p",{className:"text-lg text-indigo-100 mb-8 font-light leading-relaxed",children:"Our governance model is rooted in liberation, trust, and collective decision-making. We don't just talk about democracy - we practice it every day through transparent processes, inclusive participation, and accountable leadership."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("button",{className:"bg-gradient-to-r from-purple-500 to-emerald-500 hover:from-purple-400 hover:to-emerald-400 text-white font-bold px-8 py-4 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Become a Member"}),e.jsx("button",{className:"bg-transparent border-2 border-purple-400 hover:bg-purple-400/10 text-purple-100 font-bold px-8 py-4 rounded-xl transition-all duration-300 transform hover:scale-105",children:"Learn About Governance"})]})]})})]}),e.jsx(pe,{})]})]})};export{Se as C,S as E,be as L,fe as P,xe as a,pe as b,o as s};
