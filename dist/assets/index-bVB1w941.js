import{j as e,m as x}from"./animations-Cue9YKi6.js";import{c as U,b as D,a as h,u as P,L as E,B,R as q,d as j,e as I}from"./vendor-BVyJE2tZ.js";import{s as N,E as T,P as F,a as H,b as M,L,C as G}from"./governance-FN9bCL1M.js";import{N as z,c as J,W as K,R as S,d as V,q as W,h as Q,r as Y,s as X,t as Z}from"./ui-DDVt6Vpt.js";import"./supabase-DkftpdyS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();var k={},O;function ee(){if(O)return k;O=1;var d=U();return k.createRoot=d.createRoot,k.hydrateRoot=d.hydrateRoot,k}var te=ee();const se=D(te);class re{static async submitEvent(t){try{const{title:s,description:o,date:r,time:n,location:a,organizer:u,category:p,capacity:b,sourceUrl:i,submittedVia:m,moreInfoUrl:c,ticketInfo:y,attendeeCount:w,registrationLink:v,tags:f,status:C="draft"}=t;if(!s||!r)throw new Error("Title and date are required");const{data:A,error:l}=await N.from("events").insert([{title:s,description:o||"",location:typeof a=="string"?a:a?.address||"TBD",status:C||"draft",date:r,start_time:n||"18:00",source:"manual",url:i,tags:f||["community-submitted"]}]).select().single();if(l)throw l;return{success:!0,message:"Event created successfully",event:A}}catch(s){throw console.error("Event submission error:",s),new Error(s.message||"Failed to create event")}}static async submitArticle(t){try{const{title:s,excerpt:o,content:r,category:n,author:a,priority:u,sourceUrl:p,submittedVia:b,moreInfoUrl:i,publishDate:m,section:c,tags:y,status:w="draft"}=t;if(!s||!o)throw new Error("Title and excerpt are required");const{data:v,error:f}=await N.from("newsroom_articles").insert([{title:s,excerpt:o,content:r||o,status:w||"draft",source_url:p}]).select().single();if(f)throw f;return{success:!0,message:"Article created successfully",article:v}}catch(s){throw console.error("Article submission error:",s),new Error(s.message||"Failed to create article")}}static async getEvents(){try{const{data:t,error:s}=await N.from("events").select("*").order("created_at",{ascending:!1});if(s)throw s;return{success:!0,events:t||[]}}catch(t){throw console.error("Events fetch error:",t),new Error(t.message||"Failed to fetch events")}}static async getArticles(){try{const{data:t,error:s}=await N.from("newsroom_articles").select("*").order("created_at",{ascending:!1});if(s)throw s;return{success:!0,articles:t||[]}}catch(t){throw console.error("Articles fetch error:",t),new Error(t.message||"Failed to fetch articles")}}}typeof window<"u"&&(window.BlkoutExtensionApi=re);const ae=()=>{const[d,t]=h.useState(!1),s=P(),o=[{id:"dashboard",label:"Main Platform",path:"/",icon:"🏠",description:"Community hub overview"},{id:"journey",label:"Liberation Journey",path:"",external:"https://journey-blkout.vercel.app/",icon:"📖",description:"Interactive storytelling experience"},{id:"newsroom",label:"Newsroom",path:"/newsroom",icon:"📰",description:"Community stories & journalism"},{id:"events",label:"Events",path:"",external:"https://events-blkout.vercel.app/",icon:"📅",description:"UK community events calendar"},{id:"ivor",label:"IVOR AI",path:"",external:"https://ivor-blkout.vercel.app/",icon:"🤖",description:"AI assistant for organizing"},{id:"governance",label:"Governance",path:"/governance",icon:"🏛️",description:"Democratic community decisions"}],r=o.find(a=>a.path===s.pathname)||o[0],n=a=>{a.external&&window.open(a.external,"_blank"),t(!1)};return e.jsxs("div",{className:"ecosystem-navigation-hub fixed top-4 right-4 z-50",children:[e.jsxs("button",{onClick:()=>t(!d),className:`
          flex items-center gap-2 px-4 py-3 bg-white border-2 rounded-full shadow-lg
          transition-all duration-300 hover:shadow-xl
          ${d?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}
        `,children:[e.jsx("span",{className:"text-lg",children:r?.icon||"🌍"}),e.jsx("span",{className:"font-medium text-gray-900",children:r?.label||"BLKOUT"}),e.jsx("span",{className:`text-gray-400 transition-transform duration-300 ${d?"rotate-180":""}`,children:"▼"})]}),e.jsx("div",{className:`
        absolute top-16 right-0 bg-white border border-gray-200 rounded-xl shadow-xl
        transition-all duration-300 overflow-hidden
        ${d?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}
      `,children:e.jsxs("div",{className:"p-2 w-80",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-gray-100 mb-2",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{children:"🌍"}),"BLKOUT Ecosystem"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Navigate the liberation platform"})]}),e.jsx("div",{className:"space-y-1",children:o.map(a=>{const u=a.path===s.pathname;return a.external?e.jsxs("button",{onClick:()=>n(a),className:`
                      w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left
                      transition-colors duration-200
                      ${u?"bg-indigo-100 text-indigo-700 border border-indigo-200":"hover:bg-gray-100 text-gray-700"}
                    `,children:[e.jsx("span",{className:"text-lg",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:a.label}),e.jsx("div",{className:"text-xs text-gray-500",children:a.description})]}),e.jsx("span",{className:"text-gray-400 text-sm",children:"↗️"})]},a.id):e.jsxs(E,{to:a.path,onClick:()=>t(!1),className:`
                    flex items-center gap-3 px-3 py-2 rounded-lg
                    transition-colors duration-200
                    ${u?"bg-indigo-100 text-indigo-700 border border-indigo-200":"hover:bg-gray-100 text-gray-700"}
                  `,children:[e.jsx("span",{className:"text-lg",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:a.label}),e.jsx("div",{className:"text-xs text-gray-500",children:a.description})]}),u&&e.jsx("span",{className:"text-indigo-600 text-sm",children:"✓"})]},a.id)})}),e.jsx("div",{className:"px-3 py-2 border-t border-gray-100 mt-2",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"🟢 6 Core Components"}),e.jsx("span",{children:"📡 Phase 1 Platform"})]})})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-10 -z-10",onClick:()=>t(!1)})]})},oe={showToast:!0,logToConsole:!0,retryable:!0,fallbackMessage:"An unexpected error occurred. Please try again."},ne=(d={})=>{const t={...oe,...d},[s,o]=h.useState(null),r=h.useCallback((i,m)=>{let c;if(i instanceof Error?c={hasError:!0,message:i.message||t.fallbackMessage,details:i.stack,retryable:t.retryable}:typeof i=="string"?c={hasError:!0,message:i,retryable:t.retryable}:i?.message?c={hasError:!0,message:i.message||t.fallbackMessage,code:i.code||i.status,details:i.details||JSON.stringify(i),retryable:i.retryable??t.retryable}:c={hasError:!0,message:t.fallbackMessage,details:JSON.stringify(i),retryable:t.retryable},t.logToConsole){const y=m?`[${m}]`:"[Error]";console.error(`${y}:`,i)}return o(c),t.showToast&&console.warn("Toast notification:",c.message),c},[t]),n=h.useCallback(()=>{o(null)},[]),a=h.useCallback(i=>{if(s?.retryable){n();try{const m=i();m instanceof Promise&&m.catch(c=>r(c,"Retry failed"))}catch(m){r(m,"Retry failed")}}},[s,n,r]),u=h.useCallback((i,m)=>{const c=m?`API Error - ${m}`:"API Error";return i?.response?.status===401?r("Authentication required. Please sign in.",c):i?.response?.status===403?r("Access denied. You do not have permission for this action.",c):i?.response?.status===404?r("The requested resource was not found.",c):i?.response?.status===429?r("Too many requests. Please wait a moment and try again.",c):i?.response?.status>=500?r("Server error. Please try again later.",c):i?.code==="NETWORK_ERROR"||i?.message?.includes("fetch")?r("Network connection error. Please check your internet connection.",c):r(i,c)},[r]),p=h.useCallback((i,m)=>{const c=m?`Supabase Error - ${m}`:"Supabase Error";return i?.code==="23505"?r("This item already exists.",c):i?.code==="23503"?r("Cannot perform this action due to related data.",c):i?.code==="42501"?r("Insufficient permissions for this operation.",c):i?.message?.includes("JWT")?r("Authentication expired. Please sign in again.",c):r(i,c)},[r]),b=h.useCallback(i=>{const m=Object.values(i)[0];return r(m||"Please check your input and try again.","Form Validation")},[r]);return{error:s,hasError:!!s,handleError:r,handleAPIError:u,handleSupabaseError:p,handleFormValidationError:b,clearError:n,retry:a}};class ie{baseUrl;timeout;retries;defaultHeaders;authToken=null;constructor(t={}){this.baseUrl=t.baseUrl||this.detectApiUrl(),this.timeout=t.timeout||1e4,this.retries=t.retries||3,this.defaultHeaders={"Content-Type":"application/json",Accept:"application/json",...t.headers},this.loadAuthToken()}detectApiUrl(){return typeof window<"u"&&window.location.hostname==="localhost"&&(window.location.port==="5173"||window.location.port==="3000")?"http://localhost:3000/api":"https://blkout-newsroom-backend-ptfjb4krx-robs-projects-54d653d3.vercel.app/api"}loadAuthToken(){try{const t=localStorage.getItem("blkout_auth_token");t&&(this.authToken=t,this.defaultHeaders.Authorization=`Bearer ${t}`)}catch(t){console.warn("Failed to load auth token:",t)}}setAuthToken(t){this.authToken=t,t?(this.defaultHeaders.Authorization=`Bearer ${t}`,localStorage.setItem("blkout_auth_token",t)):(delete this.defaultHeaders.Authorization,localStorage.removeItem("blkout_auth_token"))}async makeRequest(t,s={},o=0){const r=`${this.baseUrl}${t}`,n={...s,headers:{...this.defaultHeaders,...s.headers},signal:AbortSignal.timeout(this.timeout)};try{console.log(`🌐 API Request: ${s.method||"GET"} ${r}`);const a=await fetch(r,n);if(!a.ok){if(a.status===401)throw this.setAuthToken(null),new Error("Authentication required");if(a.status===403)throw new Error("Access denied");if(a.status===404)throw new Error("Resource not found");if(a.status>=500)throw new Error("Server error");try{const p=await a.json();throw new Error(p.message||p.error||`HTTP ${a.status}`)}catch{throw new Error(`HTTP ${a.status}: ${a.statusText}`)}}const u=await a.json();return console.log(`✅ API Success: ${s.method||"GET"} ${r}`),u}catch(a){return console.error(`❌ API Error: ${s.method||"GET"} ${r}`,a),o<this.retries&&this.isRetryableError(a)?(console.log(`🔄 Retrying request (${o+1}/${this.retries})`),await this.delay(Math.pow(2,o)*1e3),this.makeRequest(t,s,o+1)):{success:!1,error:a instanceof Error?a.message:"Unknown error occurred",data:void 0}}}isRetryableError(t){return t instanceof TypeError&&t.message.includes("fetch")?!0:(t.name==="AbortError",!1)}delay(t){return new Promise(s=>setTimeout(s,t))}buildQueryString(t){const s=new URLSearchParams;Object.entries(t).forEach(([r,n])=>{n!=null&&n!==""&&(Array.isArray(n)?n.forEach(a=>s.append(r,a.toString())):s.append(r,n.toString()))});const o=s.toString();return o?`?${o}`:""}async checkHealth(){try{const t=await this.makeRequest("/health");return{healthy:t.success,backend:this.baseUrl,timestamp:t.data?.timestamp||new Date().toISOString()}}catch{return{healthy:!1,backend:this.baseUrl,timestamp:new Date().toISOString()}}}async getArticles(t={}){const s=this.buildQueryString({page:t.page||1,limit:t.limit||20,category:t.category,status:t.status,author_id:t.author_id,search:t.search,sort:t.sort||"published_at",order:t.order||"desc"});return this.makeRequest(`/newsroom/articles${s}`)}async getArticle(t){return this.makeRequest(`/newsroom/articles/${t}`)}async createArticle(t){return this.makeRequest("/newsroom/articles",{method:"POST",body:JSON.stringify(t)})}async updateArticle(t,s){return this.makeRequest(`/newsroom/articles/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteArticle(t){return this.makeRequest(`/newsroom/articles/${t}`,{method:"DELETE"})}async getEvents(t={}){const s=this.buildQueryString({page:t.page||1,limit:t.limit||20,start_date:t.start_date,end_date:t.end_date,event_type:t.event_type,location:t.location,status:t.status,organizer_id:t.organizer_id,search:t.search,sort:t.sort||"start_date",order:t.order||"asc"});return this.makeRequest(`/events${s}`)}async getEvent(t){return this.makeRequest(`/events/${t}`)}async createEvent(t){return this.makeRequest("/events",{method:"POST",body:JSON.stringify(t)})}async updateEvent(t,s){return this.makeRequest(`/events/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteEvent(t){return this.makeRequest(`/events/${t}`,{method:"DELETE"})}async signIn(t,s){return this.makeRequest("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:s})})}async signOut(){const t=await this.makeRequest("/auth/logout",{method:"POST"});return t.success&&this.setAuthToken(null),t}async getCommunityStats(){return this.makeRequest("/community/stats")}async getCommunityDocumentation(){return this.makeRequest("/documentation")}async uploadFile(t,s="image"){const o=new FormData;o.append("file",t),o.append("type",s);const r={...this.defaultHeaders};return delete r["Content-Type"],this.makeRequest("/upload",{method:"POST",body:o,headers:r})}}const le=new ie;let ce;try{ce=require("react")}catch{}const R={"Breaking News":{color:"bg-red-600",textColor:"text-red-400",gradient:"from-red-500 via-red-600 to-red-700",glowColor:"shadow-red-500/25"},Analysis:{color:"bg-indigo-600",textColor:"text-indigo-400",gradient:"from-indigo-500 via-indigo-600 to-indigo-700",glowColor:"shadow-indigo-500/25"},"Community News":{color:"bg-emerald-600",textColor:"text-emerald-400",gradient:"from-emerald-500 via-emerald-600 to-emerald-700",glowColor:"shadow-emerald-500/25"},"Policy Update":{color:"bg-slate-600",textColor:"text-slate-400",gradient:"from-slate-500 via-slate-600 to-slate-700",glowColor:"shadow-slate-500/25"},International:{color:"bg-violet-600",textColor:"text-violet-400",gradient:"from-violet-500 via-violet-600 to-violet-700",glowColor:"shadow-violet-500/25"}},de=({backendStatus:d})=>e.jsxs("section",{className:"relative py-24 bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-emerald-500 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-violet-500 rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative z-10 max-w-6xl mx-auto px-8 text-center",children:e.jsxs(x.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsxs(x.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},className:"flex items-center justify-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-600 to-indigo-600 flex items-center justify-center mr-6",children:e.jsx(z,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black heading-block uppercase",children:[e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-indigo-400 bg-clip-text text-transparent",children:"BLKOUT"}),e.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-slate-400 bg-clip-text text-transparent ml-2",children:"NEWSROOM"})]}),e.jsx("p",{className:"text-indigo-300 font-mono uppercase tracking-wider text-sm",children:"COMMUNITY NEWS & LIBERATION ANALYSIS"})]})]}),e.jsx(x.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"text-xl md:text-2xl text-indigo-100 max-w-4xl mx-auto leading-relaxed font-light mb-12",children:"Curated news, analysis, and community updates that matter to Black queer liberation. Stay informed about policy changes, community events, and movement developments."}),e.jsxs(x.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex items-center justify-center space-x-4 mb-12",children:[d==="checking"&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{size:"sm",color:"indigo"}),e.jsx("span",{className:"text-indigo-400 font-bold heading-block text-sm uppercase",children:"CONNECTING TO NEWSROOM"})]}),d==="connected"&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{className:"w-5 h-5 text-emerald-400"}),e.jsx("span",{className:"text-emerald-400 font-bold heading-block text-sm uppercase",children:"NEWSROOM LIVE"}),e.jsxs("div",{className:"flex items-center text-indigo-300 text-sm font-light",children:[e.jsx("span",{children:"• Real-time updates active"}),lastUpdated&&e.jsxs("span",{className:"ml-3 text-xs",children:["Last updated: ",lastUpdated.toLocaleTimeString()]})]})]}),d==="offline"&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(K,{className:"w-5 h-5 text-amber-400"}),e.jsx("span",{className:"text-amber-400 font-bold heading-block text-sm uppercase",children:"USING CACHED CONTENT"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-indigo-300 text-sm font-light",children:"• Showing recent stories"}),e.jsxs("button",{onClick:handleRetry,className:"text-amber-400 hover:text-amber-300 text-sm font-medium flex items-center",children:[e.jsx(S,{className:"w-4 h-4 mr-1"}),"Retry"]})]})]})]}),hasError&&e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto mb-12",children:e.jsx("div",{className:"bg-red-900/30 backdrop-blur-sm border border-red-700/30 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(V,{className:"w-6 h-6 text-red-400 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-red-300 font-bold text-lg mb-2",children:"Connection Error"}),e.jsx("p",{className:"text-red-200 mb-4",children:error?.message}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:handleRetry,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-colors",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Retry Connection"]}),e.jsx("button",{onClick:clearError,className:"text-red-300 hover:text-red-200 font-medium",children:"Dismiss"}),retryCount>0&&e.jsxs("span",{className:"text-red-300 text-sm",children:["Retry attempts: ",retryCount]})]})]})]})})}),e.jsx(x.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"max-w-2xl mx-auto text-center",children:e.jsxs("div",{className:"bg-indigo-800/20 border border-indigo-700/30 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-indigo-200 mb-2",children:"Phase 1 Development"}),e.jsx("p",{className:"text-indigo-300 text-sm",children:"Newsroom integration with community contributors and automated content aggregation coming in Phase 2. Real articles will be displayed when content APIs are connected."})]})})]})})]}),me=({selectedCategory:d,onCategorySelect:t})=>e.jsx("section",{className:"py-16 bg-indigo-50/5 backdrop-blur-sm border-y border-indigo-800/30",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-black heading-block mb-4 uppercase",children:[e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-violet-400 bg-clip-text text-transparent",children:"NEWS"}),e.jsx("span",{className:"bg-gradient-to-r from-indigo-400 to-slate-400 bg-clip-text text-transparent ml-4",children:"CATEGORIES"})]}),e.jsx("p",{className:"text-indigo-200 font-light text-lg",children:"Stay informed across all areas that impact our community"})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:["All",...Object.keys(R)].map(s=>e.jsx(x.button,{onClick:()=>t(s),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`px-6 py-3 font-bold text-sm transition-all duration-300 heading-block uppercase ${d===s?"bg-gradient-to-r from-indigo-600 to-violet-600 text-white":"bg-indigo-900/30 text-indigo-300 hover:bg-indigo-800/50 hover:text-white border border-indigo-700/30"}`,children:s},s))})]})}),he=({articles:d,loading:t,onRefresh:s})=>e.jsx("section",{className:"py-24",children:e.jsx("div",{className:"max-w-6xl mx-auto px-8",children:t?e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-24",children:[e.jsx(L,{size:"xl",color:"indigo",text:"Loading Articles"}),e.jsx("p",{className:"text-indigo-200 font-light mt-6",children:"Fetching the latest community news and updates..."})]}):d.length===0?e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-24",children:[e.jsx(W,{className:"w-16 h-16 text-indigo-400 mx-auto mb-6"}),e.jsx("h3",{className:"text-2xl font-black text-white heading-block mb-4 uppercase",children:"NO ARTICLES AVAILABLE"}),e.jsx("p",{className:"text-indigo-200 font-light mb-8",children:"Newsroom backend is connecting. Articles will appear here as they are aggregated."}),e.jsxs(x.button,{onClick:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-8 py-3 bg-indigo-600 text-white font-bold hover:bg-indigo-500 transition-colors heading-block uppercase flex items-center mx-auto",children:[e.jsx(S,{className:"w-4 h-4 mr-3"}),"REFRESH"]})]}):e.jsx("div",{className:"space-y-8",children:d.map((o,r)=>{const n=R[o.category]||R.Analysis;return e.jsx(x.article,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},className:"bg-indigo-900/20 backdrop-blur-sm border border-indigo-700/20 overflow-hidden hover:bg-indigo-900/40 transition-all duration-500 cursor-pointer group",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.image&&e.jsx("div",{className:"lg:col-span-1 aspect-[4/3] overflow-hidden",children:e.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"})}),e.jsxs("div",{className:`${o.image?"lg:col-span-2":"lg:col-span-3"} p-8`,children:[e.jsxs("div",{className:"flex items-center mb-4",children:[o.isBreaking&&e.jsx("span",{className:"px-3 py-1 bg-red-600 text-white text-xs font-bold heading-block uppercase mr-4 animate-pulse",children:"BREAKING"}),e.jsx("div",{className:`w-3 h-3 bg-gradient-to-r ${n.gradient} mr-3`}),e.jsx("span",{className:"text-indigo-300 font-mono uppercase tracking-wider text-sm",children:o.category}),e.jsx("span",{className:"mx-3 text-indigo-600",children:"•"}),e.jsx("span",{className:"text-sm text-indigo-400",children:o.source})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-black heading-block mb-4 leading-tight group-hover:text-white transition-colors",children:e.jsx("span",{className:`bg-gradient-to-r ${n.gradient} bg-clip-text text-transparent group-hover:text-white`,children:o.title})}),e.jsx("p",{className:"text-indigo-100 mb-6 leading-relaxed font-light text-lg",children:o.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-indigo-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),o.readTime," min read"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),o.author]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),new Date(o.publishedAt).toLocaleDateString()]})]}),e.jsxs(x.button,{whileHover:{x:5},className:"flex items-center text-indigo-400 hover:text-white transition-colors font-bold heading-block uppercase text-sm",children:["READ FULL STORY",e.jsx(Z,{className:"w-4 h-4 ml-2"})]})]})]})]})},o.id)})})})});function xe(){const[d,t]=h.useState([]),[s,o]=h.useState(!0),[r,n]=h.useState("checking"),[a,u]=h.useState("All"),[p,b]=h.useState(0),[i,m]=h.useState(null),{handleAPIError:c,clearError:y,retry:w}=ne({showToast:!0,retryable:!0}),v=l=>{const g=l.profiles?.full_name||"BLKOUT Team",_=g.split(" ").map($=>$[0]).join("").toUpperCase();return{...l,readTime:Math.max(1,Math.ceil((l.content?.length||0)/1e3)),isBreaking:l.status==="published"&&l.featured_image!==null,publishedAtFormatted:new Date(l.published_at||l.created_at).toLocaleDateString(),authorName:g,authorInitials:_,author:g,publishedAt:l.published_at||l.created_at,image:l.featured_image||"/images/squared/WELLDEF_SQUARED.png",featured:!!l.featured_image,priority:"medium",source:"BLKOUT Newsroom"}},f=async()=>{try{y(),o(!0),n("checking"),console.log("🔄 Fetching articles from Supabase API...");const l=await le.getArticles({status:"published",sort:"published_at",order:"desc",limit:20});if(console.log("📊 Articles API response:",l),l.success&&l.data&&Array.isArray(l.data)){const g=l.data.map(v);console.log("✅ Articles transformed successfully:",g.length),g.length>0?(t(g),n("connected")):(console.log("📰 No published articles found, keeping fallback content"),n("connected")),m(new Date)}else throw new Error(l.error||"Failed to fetch articles")}catch(l){console.error("❌ Error fetching articles:",l),c(l,"newsroom API"),n("offline"),t([])}finally{o(!1)}};h.useEffect(()=>{f()},[]);const C=()=>{b(l=>l+1),w(()=>f())},A=d.filter(l=>a==="All"||l.category===a);return e.jsxs(T,{children:[e.jsx(F,{pageName:"Newsroom",dependencies:["Supabase","API Client"]}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900",children:[e.jsx(H,{}),e.jsx(de,{backendStatus:r}),e.jsx(me,{selectedCategory:a,onCategorySelect:u}),e.jsx(T,{onError:(l,g)=>{console.error("NewsArticlesGrid Error:",l,g),c(l,"NewsArticlesGrid")},children:e.jsx(he,{articles:A,loading:s,onRefresh:C})}),e.jsx(M,{})]})]})}const ue=()=>e.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 z-50 bg-blue-600 text-white px-4 py-2",children:"Skip to main content"});function ge(){const{pathname:d}=P();return I.useEffect(()=>{window.scrollTo(0,0)},[d]),null}function pe(){return e.jsxs(B,{children:[e.jsx(ue,{}),e.jsx(ge,{}),e.jsx(ae,{}),e.jsx("div",{id:"main-content",className:"min-h-screen bg-gradient-to-br from-purple-950 via-indigo-950 to-emerald-950",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-8 py-20 text-center",children:[e.jsxs("h1",{className:"text-6xl font-black text-white mb-8 leading-tight",children:[e.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-emerald-400 bg-clip-text text-transparent",children:"BLKOUT"}),e.jsx("br",{}),"Community Platform"]}),e.jsx("p",{className:"text-xl text-indigo-200 mb-12 max-w-3xl mx-auto leading-relaxed",children:"A community-owned platform for Black queer liberation, cooperative ownership, and democratic governance."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-16",children:[e.jsx(E,{to:"/newsroom",className:"px-8 py-4 bg-gradient-to-r from-slate-600 to-blue-600 text-white font-bold rounded-full hover:from-slate-700 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"📰 Newsroom"}),e.jsx("a",{href:"https://events-blkout.vercel.app/",target:"_blank",rel:"noopener noreferrer",className:"px-8 py-4 bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold rounded-full hover:from-amber-700 hover:to-orange-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"📅 Events"}),e.jsx(E,{to:"/governance",className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-violet-600 text-white font-bold rounded-full hover:from-purple-700 hover:to-violet-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"🏛️ Governance"}),e.jsx("a",{href:"https://ivor-blkout.vercel.app/",target:"_blank",rel:"noopener noreferrer",className:"px-8 py-4 bg-gradient-to-r from-teal-600 to-cyan-600 text-white font-bold rounded-full hover:from-teal-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"🤖 Chat with IVOR"}),e.jsx("a",{href:"https://journey-blkout.vercel.app/",target:"_blank",rel:"noopener noreferrer",className:"px-8 py-4 bg-gradient-to-r from-pink-600 to-rose-600 text-white font-bold rounded-full hover:from-pink-700 hover:to-rose-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"📖 Liberation Journey"})]}),e.jsxs(q,{children:[e.jsx(j,{path:"/",element:e.jsxs("div",{className:"text-white mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Our Values"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center p-6 bg-white/5 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🏳️‍⚧️"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Trans Liberation"}),e.jsx("p",{className:"text-gray-300",children:"Centering trans joy and safety in all we do"})]}),e.jsxs("div",{className:"text-center p-6 bg-white/5 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🤝"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Cooperative Ownership"}),e.jsx("p",{className:"text-gray-300",children:"Community-owned, democratically governed"})]}),e.jsxs("div",{className:"text-center p-6 bg-white/5 rounded-lg",children:[e.jsx("div",{className:"text-4xl mb-4",children:"✊🏿"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Black Power"}),e.jsx("p",{className:"text-gray-300",children:"Liberation through collective action"})]})]})]})}),e.jsx(j,{path:"/newsroom",element:e.jsx(xe,{})}),e.jsx(j,{path:"/events",element:e.jsx("div",{className:"text-white min-h-screen bg-gradient-to-br from-amber-950 via-orange-950 to-red-950 p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8",children:"📅 Community Events"}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-6",children:[e.jsxs("p",{className:"text-gray-300 mb-4",children:["This page redirects to our live events calendar.",e.jsx("a",{href:"https://events-blkout.vercel.app/",target:"_blank",rel:"noopener noreferrer",className:"text-yellow-400 hover:text-yellow-300 underline ml-1",children:"Visit Events Calendar →"})]}),e.jsx(E,{to:"/",className:"inline-block mt-6 px-6 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg transition-colors",children:"← Back to Main Platform"})]})]})})}),e.jsx(j,{path:"/governance",element:e.jsx(G,{})})]})]})})]})}se.createRoot(document.getElementById("root")).render(e.jsx(I.StrictMode,{children:e.jsx(pe,{})}));
