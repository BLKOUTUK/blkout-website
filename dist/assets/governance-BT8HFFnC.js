import{j as e,m as b,A as B}from"./animations-CO-F2FvZ.js";import{a as p,u as R,L as j}from"./vendor-lw3JjWNp.js";import{S as A,X as V,M as $,T as z,I as H,Y as J,G as Y,E as N,H as L,a as W,L as S,b as I,R as Q,B as Z,C as K,c as G,d as X,e as P,F as k,V as ee,A as te,U as M,P as se,f as re,g as ae,h as ie,i as U,j as ne,k as oe,l as O,m as le,n as ce,o as de,p as me}from"./ui-DXHwI_rD.js";import{c as ue}from"./supabase-C2RngehA.js";const he="https://bgjengudzfickgomjqmz.supabase.co",xe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJnamVuZ3VkemZpY2tnb21qcW16Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2MTI3NjcsImV4cCI6MjA3MTE4ODc2N30.kYQ2oFuQBGmu4V_dnj_1zDMDVsd-qpDZJwNvswzO6M0",l=ue(he,xe,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),y={async getCurrentUser(){const{data:{user:s},error:t}=await l.auth.getUser();return{user:s,error:t}},async signIn(s,t){const{data:r,error:u}=await l.auth.signInWithPassword({email:s,password:t});return{data:r,error:u}},async signOut(){const{error:s}=await l.auth.signOut();return{error:s}},async safeQuery(s){try{const t=await s();return t.error?(console.error("Supabase query error:",t.error),{data:null,error:t.error}):t}catch(t){return console.error("Unexpected error in Supabase query:",t),{data:null,error:t}}},async testConnection(){try{const{data:s,error:t}=await l.from("events").select("id").limit(1);return{connected:!t,error:t}}catch(s){return{connected:!1,error:s}}},async getEvents(s={}){let t=l.from("events").select(`
        *,
        profiles (
          id,
          full_name,
          avatar_url
        )
      `).order("event_date",{ascending:!0});return s.status&&(t=t.eq("status",s.status)),s.category&&(t=t.ilike("tags",`%${s.category}%`)),s.location&&(t=t.ilike("location",`%${s.location}%`)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async createEvent(s){return this.safeQuery(()=>l.from("events").insert(s).select().single())},async updateEvent(s,t){return this.safeQuery(()=>l.from("events").update(t).eq("id",s).select().single())},async deleteEvent(s){return this.safeQuery(()=>l.from("events").delete().eq("id",s))},async getArticles(s={}){let t=l.from("newsroom_articles").select(`
        *,
        profiles (
          id,
          full_name,
          avatar_url
        )
      `).order("published_at",{ascending:!1});return s.status&&(t=t.eq("status",s.status)),s.category&&(t=t.eq("category",s.category)),s.featured!==void 0&&(t=t.eq("featured",s.featured)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async createArticle(s){return this.safeQuery(()=>l.from("newsroom_articles").insert(s).select().single())},async updateArticle(s,t){return this.safeQuery(()=>l.from("newsroom_articles").update(t).eq("id",s).select().single())},async deleteArticle(s){return this.safeQuery(()=>l.from("newsroom_articles").delete().eq("id",s))},async getContacts(s={}){let t=l.from("contacts").select("*").order("created_at",{ascending:!1});return s.verified!==void 0&&(t=t.eq("verified",s.verified)),s.limit&&(t=t.limit(s.limit)),this.safeQuery(()=>t)},async createContact(s){return this.safeQuery(()=>l.from("contacts").insert(s).select().single())},subscribeToEvents(s){return l.channel("events-changes").on("postgres_changes",{event:"*",schema:"public",table:"events"},t=>{console.log("🔴 Event change detected:",t),s(t)}).subscribe()},subscribeToArticles(s){return l.channel("articles-changes").on("postgres_changes",{event:"*",schema:"public",table:"newsroom_articles"},t=>{console.log("📰 Article change detected:",t),s(t)}).subscribe()},async getCommunityStats(){const[s,t,r]=await Promise.all([this.safeQuery(()=>l.from("events").select("status, event_date")),this.safeQuery(()=>l.from("newsroom_articles").select("status, category")),this.safeQuery(()=>l.from("contacts").select("verified"))]),u=new Date().toISOString().split("T")[0];return{events:{total:s.data?.length||0,published:s.data?.filter(c=>c.status==="published").length||0,upcoming:s.data?.filter(c=>c.status==="published"&&c.event_date>=u).length||0},articles:{total:t.data?.length||0,published:t.data?.filter(c=>c.status==="published").length||0,byCategory:t.data?.reduce((c,i)=>(c[i.category]=(c[i.category]||0)+1,c),{})||{}},community:{totalContacts:r.data?.length||0,verifiedContacts:r.data?.filter(c=>c.verified).length||0}}},async uploadFile(s,t="articles"){const r=s.name.split(".").pop(),u=`${Math.random()}.${r}`,c=`${t}/${u}`,{data:i,error:d}=await l.storage.from("media").upload(c,s);if(d)return{data:null,error:d};const{data:{publicUrl:n}}=l.storage.from("media").getPublicUrl(c);return{data:{path:c,url:n},error:null}},async getGovernanceProposals(s={}){let t=l.from("governance_proposals_with_votes").select("*").order("created_at",{ascending:!1});return s.status&&(t=t.eq("status",s.status)),s.category&&(t=t.eq("category",s.category)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async createGovernanceProposal(s){const{user:t}=await this.getCurrentUser();if(!t)return{data:null,error:{message:"User must be authenticated to create proposals"}};const r={...s,proposer_id:t.id};return this.safeQuery(()=>l.from("governance_proposals").insert(r).select().single())},async updateGovernanceProposal(s,t){return this.safeQuery(()=>l.from("governance_proposals").update(t).eq("id",s).select().single())},async voteOnProposal(s,t,r){const{user:u}=await this.getCurrentUser();if(!u)return{data:null,error:{message:"User must be authenticated to vote"}};const c={proposal_id:s,voter_id:u.id,vote:t,comment:r};return this.safeQuery(()=>l.from("proposal_votes").upsert(c,{onConflict:"proposal_id,voter_id"}).select().single())},async getCommunityMeetings(s={}){let t=l.from("community_meetings").select("*").order("date",{ascending:!1});return s.type&&(t=t.eq("type",s.type)),s.status&&(t=t.eq("status",s.status)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async createCommunityMeeting(s){const{user:t}=await this.getCurrentUser(),r={...s,created_by:t?.id};return this.safeQuery(()=>l.from("community_meetings").insert(r).select().single())},async updateCommunityMeeting(s,t){return this.safeQuery(()=>l.from("community_meetings").update(t).eq("id",s).select().single())},async getGovernanceDocuments(s={}){let t=l.from("governance_documents").select("*").order("uploaded_date",{ascending:!1});return s.type&&(t=t.eq("type",s.type)),s.status&&(t=t.eq("status",s.status)),s.meetingId&&(t=t.eq("meeting_id",s.meetingId)),s.proposalId&&(t=t.eq("proposal_id",s.proposalId)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async uploadGovernanceDocument(s){const{user:t}=await this.getCurrentUser(),r={...s,uploaded_by:t?.id,uploaded_by_name:t?.user_metadata?.full_name||t?.email||"Unknown User"};return this.safeQuery(()=>l.from("governance_documents").insert(r).select().single())},async updateGovernanceDocument(s,t){return this.safeQuery(()=>l.from("governance_documents").update(t).eq("id",s).select().single())},async deleteGovernanceDocument(s){return this.safeQuery(()=>l.from("governance_documents").delete().eq("id",s))},async getCommunityMembers(s={}){let t=l.from("community_members").select("*").order("contribution_score",{ascending:!1});return s.role&&(t=t.eq("role",s.role)),s.verified!==void 0&&(t=t.eq("verified",s.verified)),s.limit&&(t=t.limit(s.limit)),s.offset&&(t=t.range(s.offset,s.offset+(s.limit||20)-1)),this.safeQuery(()=>t)},async updateCommunityMember(s,t){return this.safeQuery(()=>l.from("community_members").update(t).eq("id",s).select().single())},async getProposalDiscussions(s){return this.safeQuery(()=>l.from("proposal_discussions").select("*").eq("proposal_id",s).order("created_at",{ascending:!0}))},async createProposalDiscussion(s){const{user:t}=await this.getCurrentUser(),r={...s,user_id:t?.id,user_name:t?.user_metadata?.full_name||t?.email||"Anonymous"};return this.safeQuery(()=>l.from("proposal_discussions").insert(r).select().single())},subscribeToProposals(s){return l.channel("governance-proposals-changes").on("postgres_changes",{event:"*",schema:"public",table:"governance_proposals"},t=>{console.log("🏛️ Governance proposal change detected:",t),s(t)}).on("postgres_changes",{event:"*",schema:"public",table:"proposal_votes"},t=>{console.log("🗳️ Proposal vote change detected:",t),s(t)}).subscribe()},subscribeToMeetings(s){return l.channel("community-meetings-changes").on("postgres_changes",{event:"*",schema:"public",table:"community_meetings"},t=>{console.log("📅 Community meeting change detected:",t),s(t)}).subscribe()},subscribeToDocuments(s){return l.channel("governance-documents-changes").on("postgres_changes",{event:"*",schema:"public",table:"governance_documents"},t=>{console.log("📄 Governance document change detected:",t),s(t)}).subscribe()},subscribeToDiscussions(s,t){return l.channel(`proposal-discussions-${s}`).on("postgres_changes",{event:"*",schema:"public",table:"proposal_discussions",filter:`proposal_id=eq.${s}`},r=>{console.log("💬 Proposal discussion change detected:",r),t(r)}).subscribe()},async getGovernanceStats(){const[s,t,r,u]=await Promise.all([this.safeQuery(()=>l.rpc("calculate_proposal_stats")),this.safeQuery(()=>l.from("community_members").select("role, verified, contribution_score")),this.safeQuery(()=>l.from("community_meetings").select("status, type, date")),this.safeQuery(()=>l.from("governance_documents").select("type, status, is_public"))]),c=new Date().toISOString().split("T")[0];return{proposals:s.data?.[0]||{total_proposals:0,active_proposals:0,approved_proposals:0,average_participation:0,total_eligible_voters:0},members:{total:t.data?.length||0,verified:t.data?.filter(i=>i.verified).length||0,byRole:t.data?.reduce((i,d)=>(i[d.role]=(i[d.role]||0)+1,i),{})||{},averageContribution:t.data?.reduce((i,d)=>i+(d.contribution_score||0),0)/(t.data?.length||1)||0},meetings:{total:r.data?.length||0,completed:r.data?.filter(i=>i.status==="completed").length||0,upcoming:r.data?.filter(i=>i.status==="scheduled"&&i.date>=c).length||0,byType:r.data?.reduce((i,d)=>(i[d.type]=(i[d.type]||0)+1,i),{})||{}},documents:{total:u.data?.length||0,published:u.data?.filter(i=>i.status==="published").length||0,public:u.data?.filter(i=>i.is_public).length||0,byType:u.data?.reduce((i,d)=>(i[d.type]=(i[d.type]||0)+1,i),{})||{}}}}},Se=(s={})=>{const[t,r]=p.useState([]),[u,c]=p.useState(!0),[i,d]=p.useState(null),n=p.useCallback(async()=>{try{c(!0),d(null);const m=await y.getEvents(s);if(m.error)throw new Error(m.error.message||"Failed to fetch events");r(m.data||[])}catch(m){d(m instanceof Error?m.message:"Unknown error")}finally{c(!1)}},[s]);return p.useEffect(()=>{n();const m=y.subscribeToEvents(()=>{n()});return()=>{m.unsubscribe()}},[n]),{events:t,loading:u,error:i,refetch:n,createEvent:async m=>{try{const h=await y.createEvent(m);if(h.error)throw new Error(h.error.message||"Failed to create event");return await n(),h.data}catch(h){throw h}},updateEvent:async(m,h)=>{try{const g=await y.updateEvent(m,h);if(g.error)throw new Error(g.error.message||"Failed to update event");return await n(),g.data}catch(g){throw g}},deleteEvent:async m=>{try{const h=await y.deleteEvent(m);if(h.error)throw new Error(h.error.message||"Failed to delete event");await n()}catch(h){throw h}}}},Ie=(s={})=>{const[t,r]=p.useState([]),[u,c]=p.useState(!0),[i,d]=p.useState(null),n=p.useCallback(async()=>{try{c(!0),d(null);const m=await y.getArticles(s);if(m.error)throw new Error(m.error.message||"Failed to fetch articles");r(m.data||[])}catch(m){d(m instanceof Error?m.message:"Unknown error")}finally{c(!1)}},[s]);return p.useEffect(()=>{n();const m=y.subscribeToArticles(()=>{n()});return()=>{m.unsubscribe()}},[n]),{articles:t,loading:u,error:i,refetch:n,createArticle:async m=>{try{const h=await y.createArticle(m);if(h.error)throw new Error(h.error.message||"Failed to create article");return await n(),h.data}catch(h){throw h}},updateArticle:async(m,h)=>{try{const g=await y.updateArticle(m,h);if(g.error)throw new Error(g.error.message||"Failed to update article");return await n(),g.data}catch(g){throw g}},deleteArticle:async m=>{try{const h=await y.deleteArticle(m);if(h.error)throw new Error(h.error.message||"Failed to delete article");await n()}catch(h){throw h}}}},pe=(s={})=>{const[t,r]=p.useState([]),[u,c]=p.useState(!0),[i,d]=p.useState(null),n=p.useCallback(async()=>{try{c(!0),d(null);const x=await y.getGovernanceProposals(s);if(x.error)throw new Error(x.error.message||"Failed to fetch proposals");r(x.data||[])}catch(x){d(x instanceof Error?x.message:"Unknown error")}finally{c(!1)}},[s]);return p.useEffect(()=>{n();const x=y.subscribeToProposals(()=>{n()});return()=>{x.unsubscribe()}},[n]),{proposals:t,loading:u,error:i,refetch:n,createProposal:async x=>{try{const m=await y.createGovernanceProposal(x);if(m.error)throw new Error(m.error.message||"Failed to create proposal");return await n(),m.data}catch(m){throw m}},voteOnProposal:async(x,m,h)=>{try{const g=await y.voteOnProposal(x,m,h);if(g.error)throw new Error(g.error.message||"Failed to vote on proposal");return await n(),g.data}catch(g){throw g}}}},ge=(s={})=>{const[t,r]=p.useState([]),[u,c]=p.useState(!0),[i,d]=p.useState(null),n=p.useCallback(async()=>{try{c(!0),d(null);const o=await y.getCommunityMembers(s);if(o.error)throw new Error(o.error.message||"Failed to fetch community members");r(o.data||[])}catch(o){d(o instanceof Error?o.message:"Unknown error")}finally{c(!1)}},[s]);return p.useEffect(()=>{n()},[n]),{members:t,loading:u,error:i,refetch:n}},be=()=>{const[s,t]=p.useState(null),[r,u]=p.useState(!0),[c,i]=p.useState(null),d=p.useCallback(async()=>{try{u(!0),i(null);const n=await y.getGovernanceStats();t(n)}catch(n){i(n instanceof Error?n.message:"Failed to fetch governance stats")}finally{u(!1)}},[]);return p.useEffect(()=>{d();const n=setInterval(d,300*1e3);return()=>clearInterval(n)},[d]),{stats:s,loading:r,error:c,refetch:d}},D=[{name:"Latest Issue",href:"/platform",description:"Current stories and featured content"},{name:"Story Archive",href:"/stories",description:"Complete archive of stories and analysis"},{name:"I.V.O.R.",href:"/ivor",description:"AI assistant and resource finder"},{name:"Events",href:"/events",description:"Community events calendar"},{name:"Newsroom",href:"/newsroom",description:"News analysis and community updates"},{name:"Governance",href:"/governance",description:"Community governance and cooperative democracy"},{name:"Our Movement",href:"/movement",description:"Movement principles and community values"},{name:"Join Discussion",href:"/discussions",description:"Community discussions and conversations"},{name:"Media",href:"/media",description:"Community media platforms",submenu:[{name:"Channel BLKOUT",href:"/media/channel",description:"Video content and live streaming"},{name:"Storylab",href:"/media/storylab",description:"Community storytelling platform"}]}];function fe({className:s=""}){const[t,r]=p.useState(!1),[u,c]=p.useState(""),i=o=>{o.preventDefault(),u.trim()&&(window.location.href=`/stories?search=${encodeURIComponent(u.trim())}`)},d=R(),n=o=>o==="/platform"?d.pathname==="/platform":d.pathname.startsWith(o);return e.jsx("nav",{role:"navigation","aria-label":"Main navigation",className:`bg-indigo-950 border-b border-indigo-800/30 sticky top-0 z-50 backdrop-blur-sm ${s}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 lg:h-20",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(j,{to:"/",className:"flex items-center space-x-2 text-white font-bold text-lg sm:text-xl lg:text-2xl hover:text-indigo-200 transition-colors focus-enhanced","aria-label":"BLKOUT Home",children:[e.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-electric-cyan to-electric-magenta rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xs sm:text-sm font-black text-white",children:"B"})}),e.jsx("span",{className:"hidden sm:inline",children:"BLKOUT"})]})}),e.jsx("div",{className:"hidden lg:flex items-center space-x-8",children:D.map(o=>e.jsxs("div",{className:"relative group",children:[e.jsx(j,{to:o.href,className:`px-3 py-2 text-sm font-medium transition-colors duration-200 focus-enhanced ${n(o.href)?"text-white bg-indigo-800/50 rounded-md":"text-indigo-200 hover:text-white hover:bg-indigo-800/30 rounded-md"}`,children:o.name}),o.children&&e.jsx("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:e.jsx("div",{className:"py-1",children:o.children.map(f=>e.jsx(j,{to:f.href,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors focus-enhanced",target:f.external?"_blank":void 0,rel:f.external?"noopener noreferrer":void 0,children:f.name},f.name))})})]},o.name))}),e.jsx("div",{className:"hidden lg:flex items-center space-x-4",children:e.jsxs("form",{onSubmit:i,className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search stories...",value:u,onChange:o=>c(o.target.value),className:"w-64 px-4 py-2 text-sm bg-indigo-900/50 border border-indigo-700 rounded-lg text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),e.jsx("button",{type:"submit",className:"absolute right-3 top-2.5 text-indigo-300 hover:text-white transition-colors",children:e.jsx(A,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"lg:hidden",children:e.jsx("button",{onClick:()=>r(!t),className:"touch-target text-indigo-200 hover:text-white focus-enhanced rounded-md","aria-expanded":t,"aria-label":"Toggle main menu",children:t?e.jsx(V,{className:"w-5 h-5"}):e.jsx($,{className:"w-5 h-5"})})})]}),t&&e.jsx("div",{className:"lg:hidden border-t border-indigo-800/30",children:e.jsxs("div",{className:"py-4 space-y-1",children:[e.jsx("div",{className:"px-2 pb-4",children:e.jsxs("form",{onSubmit:i,className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search stories...",value:u,onChange:o=>c(o.target.value),className:"w-full px-4 py-3 text-sm bg-indigo-900/50 border border-indigo-700 rounded-lg text-white placeholder-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),e.jsx("button",{type:"submit",className:"absolute right-3 top-3.5 text-indigo-300 hover:text-white transition-colors",children:e.jsx(A,{className:"w-4 h-4"})})]})}),D.map(o=>e.jsxs("div",{children:[e.jsx(j,{to:o.href,className:`block px-4 py-3 text-base font-medium transition-colors duration-200 touch-target focus-enhanced ${n(o.href)?"text-white bg-indigo-800/50 border-l-4 border-electric-cyan":"text-indigo-200 hover:text-white hover:bg-indigo-800/30"}`,onClick:()=>r(!1),children:o.name}),o.children&&e.jsx("div",{className:"pl-6 space-y-1",children:o.children.map(f=>e.jsx(j,{to:f.href,className:"block px-4 py-2 text-sm text-indigo-300 hover:text-white hover:bg-indigo-800/20 transition-colors touch-target focus-enhanced",target:f.external?"_blank":void 0,rel:f.external?"noopener noreferrer":void 0,onClick:()=>r(!1),children:f.name},f.name))})]},o.name)),e.jsxs("div",{className:"px-4 pt-4 border-t border-indigo-800/30 space-y-3",children:[e.jsx(j,{to:"/newsroom",className:"block w-full py-3 px-4 text-center text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg hover:opacity-90 transition-opacity touch-target focus-enhanced",onClick:()=>r(!1),children:"📰 Read Newsroom"}),e.jsx(j,{to:"/community",className:"block w-full py-3 px-4 text-center text-sm font-medium text-white bg-gradient-to-r from-electric-cyan to-electric-magenta rounded-lg hover:opacity-90 transition-opacity touch-target focus-enhanced",onClick:()=>r(!1),children:"Join Community"})]})]})})]})})}function ye(){return e.jsxs("footer",{className:"relative bg-gradient-to-br from-indigo-950 via-slate-950 to-indigo-900 border-t border-indigo-800/30",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute top-1/2 left-1/4 w-64 h-64 bg-indigo-500 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-1/3 w-48 h-48 bg-violet-500 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-8 py-16",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("h3",{className:"text-3xl font-black text-white heading-block mb-4 uppercase",children:[e.jsx("span",{className:"bg-gradient-to-r from-indigo-400 to-violet-400 bg-clip-text text-transparent",children:"BLKOUT"}),e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-blue-400 bg-clip-text text-transparent ml-2",children:"PLATFORM"})]}),e.jsx("p",{className:"text-lg text-indigo-200 mb-8 leading-relaxed font-light max-w-md",children:"Building liberation together through authentic community spaces, radical storytelling, and collective action for Black queer men."}),e.jsx("div",{className:"flex space-x-4",children:[{icon:z,label:"Twitter",href:"https://twitter.com/blkoutuk"},{icon:H,label:"Instagram",href:"https://instagram.com/blkoutuk"},{icon:J,label:"YouTube",href:"https://youtube.com/@blkoutuk"},{icon:Y,label:"GitHub",href:"https://github.com/blkoutuk"}].map((s,t)=>e.jsx(b.a,{href:s.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},className:"w-12 h-12 bg-indigo-800/50 hover:bg-indigo-700/70 border border-indigo-600/30 flex items-center justify-center transition-all duration-300","aria-label":s.label,children:e.jsx(s.icon,{className:"w-5 h-5 text-indigo-300"})},t))})]})}),e.jsx("div",{children:e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[e.jsx("h4",{className:"text-lg font-black text-white heading-block mb-6 uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-slate-400 to-indigo-400 bg-clip-text text-transparent",children:"PLATFORM"})}),e.jsx("ul",{className:"space-y-4",children:[{label:"Stories",href:"/stories"},{label:"Community",href:"/community"},{label:"Events",href:"/events"},{label:"I.V.O.R. Resources",href:"/ivor"},{label:"Media Hub",href:"/media"},{label:"Movement",href:"/movement"}].map((s,t)=>e.jsx("li",{children:e.jsxs(j,{to:s.href,className:"text-indigo-200 hover:text-white font-medium transition-colors duration-300 flex items-center group",children:[s.label,e.jsx(N,{className:"w-3 h-3 ml-2 opacity-0 group-hover:opacity-100 transition-opacity"})]})},t))})]})}),e.jsx("div",{children:e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[e.jsx("h4",{className:"text-lg font-black text-white heading-block mb-6 uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-violet-400 bg-clip-text text-transparent",children:"COMMUNITY"})}),e.jsxs("ul",{className:"space-y-4",children:[[{label:"Join BLKOUTHUB",href:"/community"},{label:"Discussions",href:"/discussions"},{label:"Newsletter",href:"#newsletter"},{label:"Support",href:"#support"},{label:"Governance",href:"/governance"}].map((s,t)=>e.jsx("li",{children:e.jsxs(j,{to:s.href,className:"text-indigo-200 hover:text-white font-medium transition-colors duration-300 flex items-center group",children:[s.label,e.jsx(N,{className:"w-3 h-3 ml-2 opacity-0 group-hover:opacity-100 transition-opacity"})]})},t)),e.jsx("li",{children:e.jsxs(j,{to:"/",className:"text-indigo-200 hover:text-white font-medium transition-colors duration-300 flex items-center group",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"About BLKOUT",e.jsx(N,{className:"w-3 h-3 ml-2 opacity-0 group-hover:opacity-100 transition-opacity"})]})})]})]})}),e.jsx("div",{children:e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.25},children:[e.jsx("h4",{className:"text-lg font-black text-white heading-block mb-6 uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"MEDIA"})}),e.jsx("ul",{className:"space-y-4",children:[{label:"Channel BLKOUT",href:"/media/channel"},{label:"Storylab",href:"/media/storylab"},{label:"Newsroom",href:"/media/newsroom"},{label:"Media Hub",href:"/media"}].map((s,t)=>e.jsx("li",{children:e.jsxs(j,{to:s.href,className:"text-indigo-200 hover:text-white font-medium transition-colors duration-300 flex items-center group",children:[s.label,e.jsx(N,{className:"w-3 h-3 ml-2 opacity-0 group-hover:opacity-100 transition-opacity"})]})},t))})]})})]}),e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"border-t border-indigo-800/30 pt-12 mb-12",id:"newsletter",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("h4",{className:"text-2xl font-black text-white heading-block mb-4 uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent",children:"STAY CONNECTED"})}),e.jsx("p",{className:"text-indigo-200 mb-8 font-light",children:"Get the latest stories, resources, and community updates delivered to your inbox."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-6 py-3 bg-indigo-900/50 border border-indigo-700/50 text-white placeholder-indigo-300 focus:outline-none focus:border-indigo-500 font-light"}),e.jsxs(b.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-8 py-3 bg-gradient-to-r from-indigo-600 to-violet-600 text-white font-bold hover:from-indigo-500 hover:to-violet-500 transition-all heading-block uppercase flex items-center justify-center",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"SUBSCRIBE"]})]})]})}),e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"border-t border-indigo-800/30 pt-8 flex flex-col md:flex-row justify-between items-center",children:[e.jsx("div",{className:"text-indigo-300 text-sm font-light mb-4 md:mb-0",children:"© 2025 BLKOUT Platform. Building liberation together."}),e.jsx("div",{className:"flex items-center space-x-6 text-sm",children:[{label:"Terms",href:"#terms"},{label:"Privacy",href:"#privacy"},{label:"Accessibility",href:"#accessibility"},{label:"Contact",href:"#contact"}].map((s,t)=>e.jsx("a",{href:s.href,className:"text-indigo-300 hover:text-white transition-colors font-light",children:s.label},t))})]})]})]})}const ve={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},_={indigo:"text-indigo-400 border-indigo-400",emerald:"text-emerald-400 border-emerald-400",yellow:"text-yellow-400 border-yellow-400",violet:"text-violet-400 border-violet-400",amber:"text-amber-400 border-amber-400"},je=({size:s="md",variant:t="default",color:r="indigo",text:u,fullScreen:c=!1,className:i=""})=>{const d=()=>{const o=`${ve[s]} ${_[r]} ${i}`;switch(t){case"pulse":return e.jsx(b.div,{className:`${o} rounded-full bg-current`,animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}});case"dots":return e.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(f=>e.jsx(b.div,{className:`w-2 h-2 ${_[r].split(" ")[0]} rounded-full bg-current`,animate:{y:[0,-8,0],opacity:[.7,1,.7]},transition:{duration:.6,repeat:1/0,delay:f*.1,ease:"easeInOut"}},f))});case"spinner":return e.jsx(b.div,{className:`${o} border-2 border-current border-t-transparent rounded-full`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}});default:return e.jsx(b.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(S,{className:o})})}},n=e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[d(),u&&e.jsx(b.p,{className:`text-sm font-medium ${_[r].split(" ")[0]} uppercase tracking-wider`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:u})]});return c?e.jsx(b.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-sm border border-gray-700/40 rounded-2xl p-8",children:n})}):n};class E extends p.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r),this.setState({error:t,errorInfo:r}),this.props.onError&&this.props.onError(t,r)}handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};handleGoHome=()=>{window.location.href="/"};handleReportError=()=>{const t={error:this.state.error?.message,stack:this.state.error?.stack,componentStack:this.state.errorInfo?.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.error("Error Report:",t),alert("Error report logged to console. Please contact support if the issue persists.")};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-950 via-red-900 to-gray-900 flex items-center justify-center px-4",children:e.jsxs(b.div,{className:"max-w-2xl w-full bg-red-900/30 backdrop-blur-sm border border-red-700/30 rounded-2xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("div",{className:"bg-red-800/30 px-8 py-6 border-b border-red-700/30",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-600/30 rounded-2xl flex items-center justify-center",children:e.jsx(I,{className:"w-8 h-8 text-red-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white heading-block uppercase",children:"Something Went Wrong"}),e.jsx("p",{className:"text-red-200 mt-1",children:"The application encountered an unexpected error"})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"What happened?"}),e.jsx("div",{className:"bg-red-800/20 border border-red-600/30 rounded-lg p-4",children:e.jsx("p",{className:"text-red-200 text-sm font-mono",children:this.state.error?.message||"An unknown error occurred"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"What can you do?"}),e.jsxs("ul",{className:"text-red-200 space-y-2",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"Try refreshing the page or retrying the action"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"Check your internet connection"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"Contact support if the problem persists"})]})]})]}),!1]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8 pt-6 border-t border-red-700/30",children:[e.jsxs(b.button,{onClick:this.handleRetry,className:"flex items-center justify-center px-6 py-3 bg-red-600 hover:bg-red-500 text-white font-semibold rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(Q,{className:"w-5 h-5 mr-2"}),"Try Again"]}),e.jsxs(b.button,{onClick:this.handleGoHome,className:"flex items-center justify-center px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(L,{className:"w-5 h-5 mr-2"}),"Go Home"]}),e.jsxs(b.button,{onClick:this.handleReportError,className:"flex items-center justify-center px-6 py-3 bg-transparent border border-red-600/50 hover:bg-red-600/10 text-red-300 font-semibold rounded-lg transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(Z,{className:"w-5 h-5 mr-2"}),"Report Issue"]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-red-700/30 text-center",children:e.jsx("p",{className:"text-red-300 text-sm",children:"If this error persists, please contact the BLKOUT technical team"})})]})]})}):this.props.children}}function we({pageName:s,dependencies:t,onDependencyTest:r}){const[u,c]=p.useState(!1),[i,d]=p.useState([]);p.useEffect(()=>{const x=t.map(h=>({name:h,status:"checking"}));d(x),(async()=>{for(const h of t)try{let g=!0;if(h==="Supabase"){const w="https://bgjengudzfickgomjqmz.supabase.co",v="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJnamVuZ3VkemZpY2tnb21qcW16Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2MTI3NjcsImV4cCI6MjA3MTE4ODc2N30.kYQ2oFuQBGmu4V_dnj_1zDMDVsd-qpDZJwNvswzO6M0";g=(await fetch(`${w}/rest/v1/`,{headers:{apikey:v,Authorization:`Bearer ${v}`}})).ok}else h==="API Client"?g=(await fetch("/api/health").catch(()=>({ok:!1}))).ok:r&&(g=await r(h));d(w=>w.map(v=>v.name===h?{...v,status:g?"success":"failed"}:v))}catch(g){d(w=>w.map(v=>v.name===h?{...v,status:"failed",error:g instanceof Error?g.message:"Unknown error"}:v))}})()},[t,r]);const n=x=>{switch(x){case"checking":return e.jsx(S,{className:"w-4 h-4 animate-spin text-yellow-500"});case"success":return e.jsx(G,{className:"w-4 h-4 text-green-500"});case"failed":return e.jsx(K,{className:"w-4 h-4 text-red-500"})}},o=i.some(x=>x.status==="failed"),f=i.some(x=>x.status==="checking");return!o&&!f?null:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>c(!u),className:`fixed top-4 left-4 z-50 p-2 rounded-lg shadow-lg transition-all ${o?"bg-red-600 text-white":"bg-yellow-600 text-white"}`,children:o?e.jsx(I,{className:"w-5 h-5"}):e.jsx(S,{className:"w-5 h-5 animate-spin"})}),u&&e.jsxs("div",{className:"fixed top-16 left-4 right-4 md:right-auto md:w-96 bg-white border border-gray-300 rounded-lg shadow-xl z-40 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-bold text-gray-900",children:["Debug: ",s," Loading Issues"]}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),e.jsx("div",{className:"space-y-3",children:i.map(x=>e.jsxs("div",{className:"flex items-center space-x-3",children:[n(x.status),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name}),x.error&&e.jsx("div",{className:"text-xs text-red-600 mt-1",children:x.error})]})]},x.name))}),o&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-red-800",children:[e.jsx("div",{className:"font-medium",children:"Page Loading Issues Detected"}),e.jsx("div",{className:"mt-1",children:"This page may not function correctly due to dependency failures."})]})]})}),e.jsxs("div",{className:"mt-4 flex space-x-2",children:[e.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center space-x-1 px-3 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:"Retry"})]}),e.jsx("button",{onClick:()=>window.history.back(),className:"px-3 py-1.5 bg-gray-200 text-gray-800 rounded text-sm hover:bg-gray-300",children:"Go Back"})]})]})]})}const Ne=["Black queer liberation first","Cooperative ownership","Authentic community building","Digital sovereignty","Trust-based development"],q={"Original Commentary":{color:"bg-purple-600",textColor:"text-purple-600",gradient:"from-purple-400 via-purple-500 to-purple-600",glowColor:"shadow-purple-500/25",description:"Original analysis and commentary from community members"},"Curated Content":{color:"bg-pink-600",textColor:"text-pink-600",gradient:"from-pink-400 via-pink-500 to-pink-600",glowColor:"shadow-pink-500/25",description:"Curated external content relevant to our community"},"Event Coverage":{color:"bg-orange-600",textColor:"text-orange-600",gradient:"from-orange-400 via-orange-500 to-orange-600",glowColor:"shadow-orange-500/25",description:"Coverage and documentation of community events"},"Community Response":{color:"bg-green-600",textColor:"text-green-600",gradient:"from-green-400 via-green-500 to-green-600",glowColor:"shadow-green-500/25",description:"Community reactions and responses to current events"},"Video/Audio/Photo":{color:"bg-blue-600",textColor:"text-blue-600",gradient:"from-blue-400 via-blue-500 to-blue-600",glowColor:"shadow-blue-500/25",description:"Multimedia content including videos, audio, and photography"},Community:{color:"bg-emerald-600",textColor:"text-emerald-600",gradient:"from-emerald-400 via-emerald-500 to-emerald-600",glowColor:"shadow-emerald-500/25",description:"Community stories and experiences"},"History & Culture":{color:"bg-violet-600",textColor:"text-violet-600",gradient:"from-violet-400 via-violet-500 to-violet-600",glowColor:"shadow-violet-500/25",description:"Historical perspectives and cultural analysis"},"Community Building":{color:"bg-indigo-600",textColor:"text-indigo-600",gradient:"from-indigo-400 via-indigo-500 to-indigo-600",glowColor:"shadow-indigo-500/25",description:"Stories about building stronger communities"},"Arts & Culture":{color:"bg-rose-600",textColor:"text-rose-600",gradient:"from-rose-400 via-rose-500 to-rose-600",glowColor:"shadow-rose-500/25",description:"Arts, culture, and creative expression"},"Geography & Space":{color:"bg-teal-600",textColor:"text-teal-600",gradient:"from-teal-400 via-teal-500 to-teal-600",glowColor:"shadow-teal-500/25",description:"Place-making and geographic perspectives"},Manifesto:{color:"bg-red-600",textColor:"text-red-600",gradient:"from-red-400 via-red-500 to-red-600",glowColor:"shadow-red-500/25",description:"Foundational principles and manifestos"},Technology:{color:"bg-cyan-600",textColor:"text-cyan-600",gradient:"from-cyan-400 via-cyan-500 to-cyan-600",glowColor:"shadow-cyan-500/25",description:"Technology, digital rights, and platform development"},"Health & Wellness":{color:"bg-lime-600",textColor:"text-lime-600",gradient:"from-lime-400 via-lime-500 to-lime-600",glowColor:"shadow-lime-500/25",description:"Mental health, wellness, and community care"},Economics:{color:"bg-amber-600",textColor:"text-amber-600",gradient:"from-amber-400 via-amber-500 to-amber-600",glowColor:"shadow-amber-500/25",description:"Economic justice and cooperative economics"},"Media & Storytelling":{color:"bg-fuchsia-600",textColor:"text-fuchsia-600",gradient:"from-fuchsia-400 via-fuchsia-500 to-fuchsia-600",glowColor:"shadow-fuchsia-500/25",description:"Media justice and community storytelling"}},Te=s=>{const t=q[s];return t||q.Community},Ae=()=>{const[s,t]=p.useState("proposals"),[r,u]=p.useState("all"),[c,i]=p.useState(!1),{proposals:d,loading:n,error:o,voteOnProposal:f}=pe({category:r==="all"?void 0:r,limit:50}),{stats:x,loading:m}=be(),{members:h,loading:g}=ge({verified:!0,limit:20});if(n||m||g)return e.jsx(E,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900 flex items-center justify-center",children:e.jsx(je,{size:"lg",color:"purple",text:"Loading governance dashboard..."})})});if(o)return e.jsx(E,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx(X,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Error Loading Governance Data"}),e.jsx("p",{className:"text-indigo-300",children:o})]})})});const w=a=>{switch(a){case"draft":return"text-gray-400 bg-gray-900/20";case"discussion":return"text-blue-400 bg-blue-900/20";case"voting":return"text-amber-400 bg-amber-900/20";case"approved":return"text-emerald-400 bg-emerald-900/20";case"rejected":return"text-red-400 bg-red-900/20";case"implemented":return"text-purple-400 bg-purple-900/20";default:return"text-gray-400 bg-gray-900/20"}},v=a=>{switch(a){case"policy":return me;case"budget":return de;case"platform":return ce;case"community":return M;case"values":return O;default:return k}},T=a=>{switch(a){case"low":return"text-green-400";case"medium":return"text-yellow-400";case"high":return"text-orange-400";case"critical":return"text-red-400";default:return"text-gray-400"}};return e.jsxs(E,{children:[e.jsx(we,{pageName:"Community Governance",dependencies:["Supabase","Governance Hooks","Community Members"]}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-indigo-900 to-slate-900",children:[e.jsx(fe,{}),e.jsxs("section",{className:"relative py-20 bg-gradient-to-br from-purple-950 via-indigo-950 to-emerald-950 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-purple-500 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-emerald-500 rounded-full blur-3xl animate-pulse"})]}),e.jsx("div",{className:"relative z-10 max-w-6xl mx-auto px-8 text-center",children:e.jsxs(b.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsxs("div",{className:"flex items-center justify-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-emerald-600 flex items-center justify-center mr-6",children:e.jsx(P,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black heading-block uppercase",children:[e.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-emerald-400 bg-clip-text text-transparent",children:"Community"}),e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-indigo-400 bg-clip-text text-transparent ml-2",children:"Governance"})]}),e.jsx("p",{className:"text-purple-300 font-mono uppercase tracking-wider text-sm",children:"COOPERATIVE DEMOCRACY IN ACTION"})]})]}),e.jsx("p",{className:"text-xl md:text-2xl text-indigo-100 max-w-4xl mx-auto leading-relaxed font-light mb-8",children:"Our community makes decisions together. Every voice matters, every vote counts, and every decision is transparent. This is cooperative democracy built on trust, liberation, and collective power."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-purple-900/30 backdrop-blur-sm border border-purple-700/30 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:x?.proposals?.active_proposals||0}),e.jsx("div",{className:"text-sm text-purple-300",children:"Active Proposals"})]}),e.jsxs("div",{className:"bg-emerald-900/30 backdrop-blur-sm border border-emerald-700/30 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:x?.members?.verified||0}),e.jsx("div",{className:"text-sm text-emerald-300",children:"Verified Members"})]}),e.jsxs("div",{className:"bg-amber-900/30 backdrop-blur-sm border border-amber-700/30 p-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:[x?.proposals?.average_participation?.toFixed(1)||"0","%"]}),e.jsx("div",{className:"text-sm text-amber-300",children:"Participation Rate"})]}),e.jsxs("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:[((x?.documents?.public||0)/Math.max(x?.documents?.total||1,1)*100).toFixed(0),"%"]}),e.jsx("div",{className:"text-sm text-indigo-300",children:"Decision Transparency"})]})]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-12",children:[e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:e.jsx("nav",{className:"flex space-x-1 bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-2",children:[{id:"proposals",label:"Active Proposals",icon:k},{id:"voting",label:"Current Votes",icon:ee},{id:"decisions",label:"Past Decisions",icon:te},{id:"participation",label:"Member Participation",icon:M}].map(a=>e.jsxs("button",{onClick:()=>t(a.id),className:`flex items-center space-x-2 px-6 py-3 rounded-lg transition-all duration-300 ${s===a.id?"bg-purple-600 text-white shadow-lg":"text-indigo-200 hover:text-white hover:bg-indigo-800/50"}`,children:[e.jsx(a.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:a.label})]},a.id))})}),e.jsxs(B,{mode:"wait",children:[s==="proposals"&&e.jsxs(b.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.5},children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-3xl font-black heading-block uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-indigo-400 bg-clip-text text-transparent",children:"Community Proposals"})}),e.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-purple-500 to-emerald-500 hover:from-purple-400 hover:to-emerald-400 text-white font-bold px-6 py-3 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center space-x-2",children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{children:"New Proposal"})]})]}),e.jsx("div",{className:"mb-6 flex flex-wrap gap-3",children:["all","policy","budget","platform","community","values"].map(a=>e.jsx("button",{onClick:()=>u(a),className:`px-4 py-2 rounded-lg transition-all duration-300 ${r===a?"bg-purple-600 text-white":"bg-indigo-900/30 text-indigo-200 hover:bg-indigo-800/50 hover:text-white"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))}),e.jsx("div",{className:"space-y-6",children:d&&d.length>0?d.filter(a=>r==="all"||a.category===r).map((a,C)=>{const F=v(a.category);return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:C*.1},className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-6 hover:bg-indigo-800/30 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600/20 flex items-center justify-center",children:e.jsx(F,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1 group-hover:text-purple-300 transition-colors",children:a.title}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(a.status)}`,children:a.status.toUpperCase()}),e.jsxs("span",{className:"text-indigo-300",children:["by ",a.proposer_name||a.proposer]}),e.jsxs("span",{className:`${T(a.community_impact)} font-medium`,children:[a.community_impact.toUpperCase()," IMPACT"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-indigo-300 mb-1",children:new Date(a.created_at).toLocaleDateString()}),a.voting_deadline&&e.jsxs("div",{className:"text-xs text-amber-400 font-medium",children:["Voting ends: ",new Date(a.voting_deadline).toLocaleDateString()]})]})]}),e.jsx("p",{className:"text-indigo-100 mb-4 line-clamp-2",children:a.description}),a.status==="voting"&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-indigo-300",children:"Voting Progress"}),e.jsxs("span",{className:"text-sm text-indigo-300",children:[a.participation_rate?.toFixed(1)||"0","% participation"]})]}),e.jsx("div",{className:"w-full bg-indigo-900/50 rounded-full h-2 mb-3",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${a.participation_rate||0}%`}})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(re,{className:"w-4 h-4 text-emerald-400"}),e.jsx("span",{className:"text-emerald-400 font-medium",children:a.votes_for||0})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-red-400 font-medium",children:a.votes_against||0})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ie,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-400 font-medium",children:a.votes_abstain||0})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(U,{className:"w-4 h-4 text-indigo-400"}),e.jsxs("span",{className:"text-indigo-400",children:[a.discussion_count||0," comments"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:"bg-purple-600/20 hover:bg-purple-600/30 text-purple-300 px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:"View Details"})]}),e.jsxs("button",{className:"bg-indigo-600/20 hover:bg-indigo-600/30 text-indigo-300 px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"Join Discussion"})]})]}),a.status==="voting"&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>f(a.id,"for"),className:"bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-300 px-4 py-2 rounded-lg transition-colors",children:"Support"}),e.jsx("button",{onClick:()=>f(a.id,"against"),className:"bg-red-600/20 hover:bg-red-600/30 text-red-300 px-4 py-2 rounded-lg transition-colors",children:"Oppose"})]})]})]},a.id)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(k,{className:"w-16 h-16 text-indigo-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No proposals found"}),e.jsx("p",{className:"text-indigo-300 mb-4",children:"Be the first to submit a proposal to help shape our community's future."}),e.jsx("button",{onClick:()=>i(!0),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-3 rounded-lg transition-colors",children:"Submit First Proposal"})]})})]},"proposals"),s==="participation"&&e.jsxs(b.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.5},children:[e.jsx("h2",{className:"text-3xl font-black heading-block uppercase mb-8",children:e.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-indigo-400 bg-clip-text text-transparent",children:"Community Participation"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[e.jsx(oe,{className:"w-6 h-6 text-emerald-400 mr-3"}),"Participation Metrics"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-emerald-400",children:[x?.proposals?.average_participation?.toFixed(1)||"0","%"]}),e.jsx("div",{className:"text-sm text-indigo-300",children:"Average Participation"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-400",children:x?.members?.verified||0}),e.jsx("div",{className:"text-sm text-indigo-300",children:"Active Members"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-indigo-300",children:"Policy Decisions"}),e.jsx("span",{className:"text-white font-medium",children:"84%"})]}),e.jsx("div",{className:"w-full bg-indigo-900/50 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-purple-500 h-2 rounded-full",style:{width:"84%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-indigo-300",children:"Budget Votes"}),e.jsx("span",{className:"text-white font-medium",children:"67%"})]}),e.jsx("div",{className:"w-full bg-indigo-900/50 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-purple-500 h-2 rounded-full",style:{width:"67%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-indigo-300",children:"Community Proposals"}),e.jsx("span",{className:"text-white font-medium",children:"91%"})]}),e.jsx("div",{className:"w-full bg-indigo-900/50 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-purple-500 h-2 rounded-full",style:{width:"91%"}})})]})]})]}),e.jsxs("div",{className:"bg-emerald-900/30 backdrop-blur-sm border border-emerald-700/30 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[e.jsx(O,{className:"w-6 h-6 text-emerald-400 mr-3"}),"Community Values in Action"]}),e.jsx("div",{className:"space-y-3",children:Ne.map((a,C)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"w-5 h-5 text-emerald-400"}),e.jsx("span",{className:"text-emerald-100 font-medium",children:a})]},C))})]})]}),e.jsxs("div",{className:"bg-indigo-900/30 backdrop-blur-sm border border-indigo-700/30 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[e.jsx(le,{className:"w-6 h-6 text-indigo-400 mr-3"}),"Community Leaders"]}),e.jsx("div",{className:"space-y-4",children:h.map(a=>e.jsxs("div",{className:"border border-indigo-700/20 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-medium text-white",children:a.name}),e.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${a.role==="council"?"bg-purple-600/20 text-purple-300":a.role==="moderator"?"bg-emerald-600/20 text-emerald-300":"bg-indigo-600/20 text-indigo-300"}`,children:a.role.toUpperCase()})]}),e.jsxs("div",{className:"text-sm text-indigo-300 mb-2",children:["Contribution Score: ",a.contribution_score]}),e.jsxs("div",{className:"text-xs text-indigo-400",children:["Last active: ",new Date(a.last_active).toLocaleDateString()]})]},a.id))})]})]})]},"participation")]}),e.jsx(b.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"mt-16 bg-gradient-to-br from-purple-900 via-indigo-900 to-emerald-900 p-8 border border-purple-600/30",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(b.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:1},children:e.jsx(P,{className:"w-16 h-16 text-purple-400 mx-auto mb-6"})}),e.jsx("h3",{className:"text-3xl font-black heading-block mb-6 uppercase",children:e.jsx("span",{className:"bg-gradient-to-r from-purple-300 to-emerald-300 bg-clip-text text-transparent",children:"Democracy is a Practice, Not a Theory"})}),e.jsx("p",{className:"text-lg text-indigo-100 mb-8 font-light leading-relaxed",children:"Our governance model is rooted in liberation, trust, and collective decision-making. We don't just talk about democracy - we practice it every day through transparent processes, inclusive participation, and accountable leadership."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsx("button",{className:"bg-gradient-to-r from-purple-500 to-emerald-500 hover:from-purple-400 hover:to-emerald-400 text-white font-bold px-8 py-4 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Become a Member"}),e.jsx("button",{className:"bg-transparent border-2 border-purple-400 hover:bg-purple-400/10 text-purple-100 font-bold px-8 py-4 rounded-xl transition-all duration-300 transform hover:scale-105",children:"Learn About Governance"})]})]})})]}),e.jsx(ye,{})]})]})};export{q as C,E,je as L,fe as P,Ie as a,ye as b,we as c,l as d,Ae as e,Te as g,y as s,Se as u};
